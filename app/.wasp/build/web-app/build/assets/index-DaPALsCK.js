const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IntroductionSection--easerYy.js","assets/ui-DfZ43lbM.js","assets/vendor-BedhWeEz.js","assets/FeaturesSection-BuYFzeKz.js","assets/learning-D5xZn7zR.js","assets/FAQSection-CykD6EMb.js","assets/FooterSection-CC--QaNB.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,s,i)=>((t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i)(t,"symbol"!=typeof s?s+"":s,i);import{j as s,O as i,P as r,C as a,a as n,X as o,T as l,D as c,R as d,b as u,u as h,c as p,d as m,e as f,f as g,g as x,h as b,i as v,k as y,l as w,m as j,n as N,o as k,p as S,q as C,r as A,s as T,t as E,v as R,w as P,x as I,S as L,U as M,y as O,L as D,z as _,M as z,A as F,B,E as H,F as W,G as X,H as Y,I as V,J as U,K as q,N as G,Q as $,V as Q,W as K,Y as Z,Z as J,_ as ee,$ as te,a0 as se,a1 as ie,a2 as re,a3 as ae,a4 as ne,a5 as oe,a6 as le,a7 as ce,a8 as de,a9 as ue,aa as he,ab as pe,ac as me,ad as fe,ae as ge,af as xe,ag as be,ah as ve,ai as ye,aj as we,ak as je,al as Ne,am as ke,an as Se,ao as Ce,ap as Ae,aq as Te,ar as Ee,as as Re,at as Pe,au as Ie,av as Le,aw as Me,ax as Oe,ay as De,az as _e,aA as ze,aB as Fe,aC as Be,aD as He,aE as We,aF as Xe,aG as Ye,aH as Ve,aI as Ue,aJ as qe,aK as Ge,aL as $e,aM as Qe,aN as Ke,aO as Ze,aP as Je,aQ as et,aR as tt,aS as st,aT as it,aU as rt,aV as at,aW as nt,aX as ot,aY as lt,aZ as ct,a_ as dt,a$ as ut,b0 as ht,b1 as pt,b2 as mt,b3 as ft,b4 as gt,b5 as xt,b6 as bt,b7 as vt,b8 as yt,b9 as wt,ba as jt}from"./ui-DfZ43lbM.js";import{e as Nt,g as kt,r as St,a as Ct,L as At,d as Tt,u as Et,f as Rt,b as Pt,O as It,N as Lt,h as Mt,i as Ot,j as Dt,k as _t,l as zt,m as Ft}from"./vendor-BedhWeEz.js";import{o as Bt,s as Ht,r as Wt,w as Xt,l as Yt,p as Vt,a as Ut,c as qt,b as Gt,d as $t,e as Qt,f as Kt,g as Zt,n as Jt,h as es,A as ts,i as ss,j as is,U as rs,k as as,_ as ns,m as os,q as ls,u as cs,t as ds,v as us,x as hs,y as ps,z as ms,I as fs,B as gs,T as xs,C as bs,D as vs,E as ys,F as ws,G as js,H as Ns,P as ks,R as Ss,J as Cs,K as As,L as Ts,M as Es,N as Rs,O as Ps,Q as Is,S as Ls,V as Ms}from"./learning-D5xZn7zR.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Os,Ds={};const _s=kt(function(){if(Os)return Ds;Os=1;var e=Nt();return Ds.createRoot=e.createRoot,Ds.hydrateRoot=e.hydrateRoot,Ds}());class zs{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Fs="undefined"==typeof window||"Deno"in window;function Bs(){}function Hs(e){return"number"==typeof e&&e>=0&&e!==1/0}function Ws(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xs(e,t,s){return si(e)?"function"==typeof t?{...s,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Ys(e,t,s){return si(e)?[{...t,queryKey:e},s]:[e||{},t]}function Vs(e,t){const{type:s="all",exact:i,fetchStatus:r,predicate:a,queryKey:n,stale:o}=e;if(si(n))if(i){if(t.queryHash!==qs(n,t.options))return!1}else if(!$s(t.queryKey,n))return!1;if("all"!==s){const e=t.isActive();if("active"===s&&!e)return!1;if("inactive"===s&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((void 0===r||r===t.state.fetchStatus)&&!(a&&!a(t)))}function Us(e,t){const{exact:s,fetching:i,predicate:r,mutationKey:a}=e;if(si(a)){if(!t.options.mutationKey)return!1;if(s){if(Gs(t.options.mutationKey)!==Gs(a))return!1}else if(!$s(t.options.mutationKey,a))return!1}return("boolean"!=typeof i||"loading"===t.state.status===i)&&!(r&&!r(t))}function qs(e,t){return((null==t?void 0:t.queryKeyHashFn)||Gs)(e)}function Gs(e){return JSON.stringify(e,(e,t)=>ei(t)?Object.keys(t).sort().reduce((e,s)=>(e[s]=t[s],e),{}):t)}function $s(e,t){return Qs(e,t)}function Qs(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some(s=>!Qs(e[s],t[s])))}function Ks(e,t){if(e===t)return e;const s=Js(e)&&Js(t);if(s||ei(e)&&ei(t)){const i=s?e.length:Object.keys(e).length,r=s?t:Object.keys(t),a=r.length,n=s?[]:{};let o=0;for(let l=0;l<a;l++){const i=s?l:r[l];n[i]=Ks(e[i],t[i]),n[i]===e[i]&&o++}return i===a&&o===i?e:n}return t}function Zs(e,t){if(e&&!t||t&&!e)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Js(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ei(e){if(!ti(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!ti(s)&&!!s.hasOwnProperty("isPrototypeOf")}function ti(e){return"[object Object]"===Object.prototype.toString.call(e)}function si(e){return Array.isArray(e)}function ii(e){return new Promise(t=>{setTimeout(t,e)})}function ri(e){ii(0).then(e)}function ai(e,t,s){return null!=s.isDataEqual&&s.isDataEqual(e,t)?e:"function"==typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?Ks(e,t):t}const ni=new class extends zs{constructor(){super(),this.setup=e=>{if(!Fs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},oi=["online","offline"];const li=new class extends zs{constructor(){super(),this.setup=e=>{if(!Fs&&window.addEventListener){const t=()=>e();return oi.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{oi.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function ci(e){return Math.min(1e3*2**e,3e4)}function di(e){return"online"!==(null!=e?e:"online")||li.isOnline()}class ui{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function hi(e){return e instanceof ui}function pi(e){let t,s,i,r=!1,a=0,n=!1;const o=new Promise((e,t)=>{s=e,i=t}),l=()=>!ni.isFocused()||"always"!==e.networkMode&&!li.isOnline(),c=i=>{n||(n=!0,null==e.onSuccess||e.onSuccess(i),null==t||t(),s(i))},d=s=>{n||(n=!0,null==e.onError||e.onError(s),null==t||t(),i(s))},u=()=>new Promise(s=>{t=e=>{const t=n||!l();return t&&s(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,n||null==e.onContinue||e.onContinue()}),h=()=>{if(n)return;let t;try{t=e.fn()}catch(s){t=Promise.reject(s)}Promise.resolve(t).then(c).catch(t=>{var s,i;if(n)return;const o=null!=(s=e.retry)?s:3,c=null!=(i=e.retryDelay)?i:ci,p="function"==typeof c?c(a,t):c,m=!0===o||"number"==typeof o&&a<o||"function"==typeof o&&o(a,t);!r&&m?(a++,null==e.onFail||e.onFail(a,t),ii(p).then(()=>{if(l())return u()}).then(()=>{r?d(t):h()})):d(t)})};return di(e.networkMode)?h():u().then(h),{promise:o,cancel:t=>{n||(d(new ui(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?o:Promise.resolve(),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1}}}const mi=console;const fi=function(){let e=[],t=0,s=e=>{e()},i=e=>{e()};const r=i=>{t?e.push(i):ri(()=>{s(i)})},a=()=>{const t=e;e=[],t.length&&ri(()=>{i(()=>{t.forEach(e=>{s(e)})})})};return{batch:e=>{let s;t++;try{s=e()}finally{t--,t||a()}return s},batchCalls:e=>(...t)=>{r(()=>{e(...t)})},schedule:r,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{i=e}}}();class gi{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hs(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Fs?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class xi extends gi{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||mi,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,i=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const s=ai(this.state.data,e,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),s}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const s=this.promise;return null==(t=this.retryer)||t.cancel(e),s?s.then(Bs).catch(Bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Ws(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var s,i;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return null==(r=this.retryer)||r.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=function(){if("function"==typeof AbortController)return new AbortController}(),n={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};o(n);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(n)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var c;(o(l),null==(s=this.options.behavior)||s.onFetch(l),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=l.fetchOptions)?void 0:i.meta))&&this.dispatch({type:"fetch",meta:null==(c=l.fetchOptions)?void 0:c.meta});const d=e=>{var t,s,i,r;(hi(e)&&e.silent||this.dispatch({type:"error",error:e}),hi(e))||(null==(t=(s=this.cache.config).onError)||t.call(s,e,this),null==(i=(r=this.cache.config).onSettled)||i.call(r,this.state.data,e,this));this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=pi({fn:l.fetchFn,abort:null==a?void 0:a.abort.bind(a),onSuccess:e=>{var t,s,i,r;void 0!==e?(this.setData(e),null==(t=(s=this.cache.config).onSuccess)||t.call(s,e,this),null==(i=(r=this.cache.config).onSettled)||i.call(r,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):d(new Error(this.queryHash+" data is undefined"))},onError:d,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var s,i;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(s=e.meta)?s:null,fetchStatus:di(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return hi(r)&&r.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),fi.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}class bi extends zs{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,s){var i;const r=t.queryKey,a=null!=(i=t.queryHash)?i:qs(r,t);let n=this.get(a);return n||(n=new xi({cache:this,logger:e.getLogger(),queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(n)),n}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){fi.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[s]=Ys(e,t);return void 0===s.exact&&(s.exact=!0),this.queries.find(e=>Vs(s,e))}findAll(e,t){const[s]=Ys(e,t);return Object.keys(s).length>0?this.queries.filter(e=>Vs(s,e)):this.queries}notify(e){fi.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){fi.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){fi.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class vi extends gi{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||mi,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=pi({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var s,i,r,a,n,o,l,c;if(!t){var d,u,h,p;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(d=(u=this.mutationCache.config).onMutate)?void 0:d.call(u,this.state.variables,this));const e=await(null==(h=(p=this.options).onMutate)?void 0:h.call(p,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const m=await e();return await(null==(s=(i=this.mutationCache.config).onSuccess)?void 0:s.call(i,m,this.state.variables,this.state.context,this)),await(null==(r=(a=this.options).onSuccess)?void 0:r.call(a,m,this.state.variables,this.state.context)),await(null==(n=(o=this.mutationCache.config).onSettled)?void 0:n.call(o,m,null,this.state.variables,this.state.context,this)),await(null==(l=(c=this.options).onSettled)?void 0:l.call(c,m,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:m}),m}catch(j){try{var m,f,g,x,b,v,y,w;throw await(null==(m=(f=this.mutationCache.config).onError)?void 0:m.call(f,j,this.state.variables,this.state.context,this)),await(null==(g=(x=this.options).onError)?void 0:g.call(x,j,this.state.variables,this.state.context)),await(null==(b=(v=this.mutationCache.config).onSettled)?void 0:b.call(v,void 0,j,this.state.variables,this.state.context,this)),await(null==(y=(w=this.options).onSettled)?void 0:y.call(w,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!di(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),fi.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}class yi extends zs{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,s){const i=new vi({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:s,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){fi.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>Us(e,t))}findAll(e){return this.mutations.filter(t=>Us(e,t))}notify(e){fi.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{const e=this.mutations.filter(e=>e.state.isPaused);return fi.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(Bs)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function wi(){return{onFetch:e=>{e.fetchFn=()=>{var t,s,i,r,a,n;const o=null==(t=e.fetchOptions)||null==(s=t.meta)?void 0:s.refetchPage,l=null==(i=e.fetchOptions)||null==(r=i.meta)?void 0:r.fetchMore,c=null==l?void 0:l.pageParam,d="forward"===(null==l?void 0:l.direction),u="backward"===(null==l?void 0:l.direction),h=(null==(a=e.state.data)?void 0:a.pages)||[],p=(null==(n=e.state.data)?void 0:n.pageParams)||[];let m=p,f=!1;const g=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),x=(e,t,s,i)=>(m=i?[t,...m]:[...m,t],i?[s,...e]:[...e,s]),b=(t,s,i,r)=>{if(f)return Promise.reject("Cancelled");if(void 0===i&&!s&&t.length)return Promise.resolve(t);const a={queryKey:e.queryKey,pageParam:i,meta:e.options.meta};var n;n=a,Object.defineProperty(n,"signal",{enumerable:!0,get:()=>{var t,s;return null!=(t=e.signal)&&t.aborted?f=!0:null==(s=e.signal)||s.addEventListener("abort",()=>{f=!0}),e.signal}});const o=g(a);return Promise.resolve(o).then(e=>x(t,i,e,r))};let v;if(h.length)if(d){const t=void 0!==c,s=t?c:ji(e.options,h);v=b(h,t,s)}else if(u){const t=void 0!==c,s=t?c:(y=e.options,w=h,null==y.getPreviousPageParam?void 0:y.getPreviousPageParam(w[0],w));v=b(h,t,s,!0)}else{m=[];const t=void 0===e.options.getNextPageParam;v=!o||!h[0]||o(h[0],0,h)?b([],t,p[0]):Promise.resolve(x([],p[0],h[0]));for(let s=1;s<h.length;s++)v=v.then(i=>{if(!o||!h[s]||o(h[s],s,h)){const r=t?p[s]:ji(e.options,i);return b(i,t,r)}return Promise.resolve(x(i,p[s],h[s]))})}else v=b([]);var y,w;const j=v.then(e=>({pages:e,pageParams:m}));return j}}}}function ji(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}class Ni{constructor(e={}){this.queryCache=e.queryCache||new bi,this.mutationCache=e.mutationCache||new yi,this.logger=e.logger||mi,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=ni.subscribe(()=>{ni.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=li.subscribe(()=>{li.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[s]=Ys(e,t);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state.data}ensureQueryData(e,t,s){const i=Xs(e,t,s),r=this.getQueryData(i.queryKey);return r?Promise.resolve(r):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){const i=this.queryCache.find(e),r=function(e,t){return"function"==typeof e?e(t):e}(t,null==i?void 0:i.state.data);if(void 0===r)return;const a=Xs(e),n=this.defaultQueryOptions(a);return this.queryCache.build(this,n).setData(r,{...s,manual:!0})}setQueriesData(e,t,s){return fi.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,s)]))}getQueryState(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state}removeQueries(e,t){const[s]=Ys(e,t),i=this.queryCache;fi.batch(()=>{i.findAll(s).forEach(e=>{i.remove(e)})})}resetQueries(e,t,s){const[i,r]=Ys(e,t,s),a=this.queryCache,n={type:"active",...i};return fi.batch(()=>(a.findAll(i).forEach(e=>{e.reset()}),this.refetchQueries(n,r)))}cancelQueries(e,t,s){const[i,r={}]=Ys(e,t,s);void 0===r.revert&&(r.revert=!0);const a=fi.batch(()=>this.queryCache.findAll(i).map(e=>e.cancel(r)));return Promise.all(a).then(Bs).catch(Bs)}invalidateQueries(e,t,s){const[i,r]=Ys(e,t,s);return fi.batch(()=>{var e,t;if(this.queryCache.findAll(i).forEach(e=>{e.invalidate()}),"none"===i.refetchType)return Promise.resolve();const s={...i,type:null!=(e=null!=(t=i.refetchType)?t:i.type)?e:"active"};return this.refetchQueries(s,r)})}refetchQueries(e,t,s){const[i,r]=Ys(e,t,s),a=fi.batch(()=>this.queryCache.findAll(i).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...r,cancelRefetch:null==(t=null==r?void 0:r.cancelRefetch)||t,meta:{refetchPage:i.refetchPage}})}));let n=Promise.all(a).then(Bs);return null!=r&&r.throwOnError||(n=n.catch(Bs)),n}fetchQuery(e,t,s){const i=Xs(e,t,s),r=this.defaultQueryOptions(i);void 0===r.retry&&(r.retry=!1);const a=this.queryCache.build(this,r);return a.isStaleByTime(r.staleTime)?a.fetch(r):Promise.resolve(a.state.data)}prefetchQuery(e,t,s){return this.fetchQuery(e,t,s).then(Bs).catch(Bs)}fetchInfiniteQuery(e,t,s){const i=Xs(e,t,s);return i.behavior=wi(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,s){return this.fetchInfiniteQuery(e,t,s).then(Bs).catch(Bs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const s=this.queryDefaults.find(t=>Gs(e)===Gs(t.queryKey));s?s.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(t=>$s(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const s=this.mutationDefaults.find(t=>Gs(e)===Gs(t.mutationKey));s?s.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(t=>$s(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=qs(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class ki extends zs{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),Si(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ci(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ci(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Zs(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const r=this.hasListeners();r&&Ai(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(t),!r||this.currentQuery===i&&this.options.enabled===s.enabled&&this.options.staleTime===s.staleTime||this.updateStaleTimeout();const a=this.computeRefetchInterval();!r||this.currentQuery===i&&this.options.enabled===s.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),s=this.createResult(t,e);return function(e,t,s){if(s.keepPreviousData)return!1;if(void 0!==s.placeholderData)return t.isPlaceholderData;if(!Zs(e.getCurrentResult(),t))return!0;return!1}(this,s,e)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(Bs)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Fs||this.currentResult.isStale||!Hs(this.options.staleTime))return;const e=Ws(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!Fs&&!1!==this.options.enabled&&Hs(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ni.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const s=this.currentQuery,i=this.options,r=this.currentResult,a=this.currentResultState,n=this.currentResultOptions,o=e!==s,l=o?e.state:this.currentQueryInitialState,c=o?this.currentResult:this.previousQueryResult,{state:d}=e;let u,{dataUpdatedAt:h,error:p,errorUpdatedAt:m,fetchStatus:f,status:g}=d,x=!1,b=!1;if(t._optimisticResults){const r=this.hasListeners(),a=!r&&Si(e,t),n=r&&Ai(e,s,t,i);(a||n)&&(f=di(e.options.networkMode)?"fetching":"paused",h||(g="loading")),"isRestoring"===t._optimisticResults&&(f="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==g)u=c.data,h=c.dataUpdatedAt,g=c.status,x=!0;else if(t.select&&void 0!==d.data)if(r&&d.data===(null==a?void 0:a.data)&&t.select===this.selectFn)u=this.selectResult;else try{this.selectFn=t.select,u=t.select(d.data),u=ai(null==r?void 0:r.data,u,t),this.selectResult=u,this.selectError=null}catch(j){this.selectError=j}else u=d.data;if(void 0!==t.placeholderData&&void 0===u&&"loading"===g){let e;if(null!=r&&r.isPlaceholderData&&t.placeholderData===(null==n?void 0:n.placeholderData))e=r.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(j){this.selectError=j}void 0!==e&&(g="success",u=ai(null==r?void 0:r.data,e,t),b=!0)}this.selectError&&(p=this.selectError,u=this.selectResult,m=Date.now(),g="error");const v="fetching"===f,y="loading"===g,w="error"===g;return{status:g,fetchStatus:f,isLoading:y,isSuccess:"success"===g,isError:w,isInitialLoading:y&&v,data:u,dataUpdatedAt:h,error:p,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&0===d.dataUpdatedAt,isPaused:"paused"===f,isPlaceholderData:b,isPreviousData:x,isRefetchError:w&&0!==d.dataUpdatedAt,isStale:Ti(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Zs(s,t))return;this.currentResult=s;const i={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.trackedProps.size)return!0;const i=new Set(null!=s?s:this.trackedProps);return this.options.useErrorBoundary&&i.add("error"),Object.keys(this.currentResult).some(e=>{const s=e;return this.currentResult[s]!==t[s]&&i.has(s)})})()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||hi(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){fi.batch(()=>{var t,s,i,r;if(e.onSuccess)null==(t=(s=this.options).onSuccess)||t.call(s,this.currentResult.data),null==(i=(r=this.options).onSettled)||i.call(r,this.currentResult.data,null);else if(e.onError){var a,n,o,l;null==(a=(n=this.options).onError)||a.call(n,this.currentResult.error),null==(o=(l=this.options).onSettled)||o.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Si(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&Ci(e,t,t.refetchOnMount)}function Ci(e,t,s){if(!1!==t.enabled){const i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&Ti(e,t)}return!1}function Ai(e,t,s,i){return!1!==s.enabled&&(e!==t||!1===i.enabled)&&(!s.suspense||"error"!==e.state.status)&&Ti(e,s)}function Ti(e,t){return e.isStaleByTime(t.staleTime)}var Ei,Ri,Pi={exports:{}},Ii={};const Li=(Ri||(Ri=1,Pi.exports=function(){if(Ei)return Ii;Ei=1;var e=St(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=e.useState,i=e.useEffect,r=e.useLayoutEffect,a=e.useDebugValue;function n(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!t(e,i)}catch(r){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=s({inst:{value:o,getSnapshot:t}}),c=l[0].inst,d=l[1];return r(function(){c.value=o,c.getSnapshot=t,n(c)&&d({inst:c})},[e,o,t]),i(function(){return n(c)&&d({inst:c}),e(function(){n(c)&&d({inst:c})})},[e]),a(o),o};return Ii.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,Ii}()),Pi.exports).useSyncExternalStore,Mi=Ct.createContext(void 0),Oi=Ct.createContext(!1);function Di(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Mi),window.ReactQueryClientContext):Mi)}const _i=({client:e,children:t,context:s,contextSharing:i=!1})=>{Ct.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const r=Di(s,i);return Ct.createElement(Oi.Provider,{value:!s&&i},Ct.createElement(r.Provider,{value:e},t))},zi=Ct.createContext(!1);zi.Provider;const Fi=Ct.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}());function Bi(e,t){const s=(({context:e}={})=>{const t=Ct.useContext(Di(e,Ct.useContext(Oi)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t})({context:e.context}),i=Ct.useContext(zi),r=Ct.useContext(Fi),a=s.defaultQueryOptions(e);a._optimisticResults=i?"isRestoring":"optimistic",a.onError&&(a.onError=fi.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=fi.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=fi.batchCalls(a.onSettled)),(e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)})(a),((e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))})(a,r),(e=>{Ct.useEffect(()=>{e.clearReset()},[e])})(r);const[n]=Ct.useState(()=>new t(s,a)),o=n.getOptimisticResult(a);if(Li(Ct.useCallback(e=>{const t=i?()=>{}:n.subscribe(fi.batchCalls(e));return n.updateResult(),t},[n,i]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),Ct.useEffect(()=>{n.setOptions(a,{listeners:!1})},[a,n]),((e,t,s)=>(null==e?void 0:e.suspense)&&((e,t)=>e.isLoading&&e.isFetching&&!t)(t,s))(a,o,i))throw((e,t,s)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{s.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))(a,n,r);if((({result:e,errorResetBoundary:t,useErrorBoundary:s,query:i})=>{return e.isError&&!t.isReset()&&!e.isFetching&&(r=s,a=[e.error,i],"function"==typeof r?r(...a):!!r);var r,a})({result:o,errorResetBoundary:r,useErrorBoundary:a.useErrorBoundary,query:n.getCurrentQuery()}))throw o.error;return a.notifyOnChangeProps?o:n.trackResult(o)}function Hi(e,t,s,i){const r=t?function(e,t){function s(e){if("*"===e)return t["*"];if(e.startsWith(":")){const s=function(e){if(e.endsWith("?"))return e.slice(1,-1);return e.slice(1)}(e);return t[s]}return e}const i=e.split("/").map(s).filter(Wi).join("/");return e.startsWith("/")?`/${i}`:i}(e,t):e;return r+(s?`?${new URLSearchParams(s).toString()}`:"")+(i?`#${i}`:"")}function Wi(e){return!!e}function Xi({to:e,params:t,search:i,hash:r,...a}){const n=Ct.useMemo(()=>Hi(e,t,i,r),[e,t]);return s.jsx(At,{to:n,...a})}const Yi={LandingPageRoute:{to:"/",build:e=>Hi("/",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},HomePageRoute:{to:"/home",build:e=>Hi("/home",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},LoginRoute:{to:"/login",build:e=>Hi("/login",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},SignupRoute:{to:"/signup",build:e=>Hi("/signup",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},RequestPasswordResetRoute:{to:"/request-password-reset",build:e=>Hi("/request-password-reset",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},PasswordResetRoute:{to:"/password-reset",build:e=>Hi("/password-reset",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},EmailVerificationRoute:{to:"/email-verification",build:e=>Hi("/email-verification",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AccountRoute:{to:"/account",build:e=>Hi("/account",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},DemoAppRoute:{to:"/demo-app",build:e=>Hi("/demo-app",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},PricingPageRoute:{to:"/pricing",build:e=>Hi("/pricing",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},CheckoutRoute:{to:"/checkout",build:e=>Hi("/checkout",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},FileUploadRoute:{to:"/file-upload",build:e=>Hi("/file-upload",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminRoute:{to:"/admin",build:e=>Hi("/admin",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminUsersRoute:{to:"/admin/users",build:e=>Hi("/admin/users",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminSettingsRoute:{to:"/admin/settings",build:e=>Hi("/admin/settings",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminCalendarRoute:{to:"/admin/calendar",build:e=>Hi("/admin/calendar",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminUIButtonsRoute:{to:"/admin/ui/buttons",build:e=>Hi("/admin/ui/buttons",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminLearningAnalyticsRoute:{to:"/admin/learning",build:e=>Hi("/admin/learning",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},NotFoundRoute:{to:"*",build:e=>Hi("*",e.params,null==e?void 0:e.search,null==e?void 0:e.hash)},AdminMessagesRoute:{to:"/admin/messages",build:e=>Hi("/admin/messages",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},TopicSearchRoute:{to:"/learn",build:e=>Hi("/learn",void 0,null==e?void 0:e.search,null==e?void 0:e.hash)},TopicPageRoute:{to:"/learn/:slug",build:e=>Hi("/learn/:slug",e.params,null==e?void 0:e.search,null==e?void 0:e.hash)}};var Vi,Ui="colors",qi="sizes",Gi="space",$i={gap:Gi,gridGap:Gi,columnGap:Gi,gridColumnGap:Gi,rowGap:Gi,gridRowGap:Gi,inset:Gi,insetBlock:Gi,insetBlockEnd:Gi,insetBlockStart:Gi,insetInline:Gi,insetInlineEnd:Gi,insetInlineStart:Gi,margin:Gi,marginTop:Gi,marginRight:Gi,marginBottom:Gi,marginLeft:Gi,marginBlock:Gi,marginBlockEnd:Gi,marginBlockStart:Gi,marginInline:Gi,marginInlineEnd:Gi,marginInlineStart:Gi,padding:Gi,paddingTop:Gi,paddingRight:Gi,paddingBottom:Gi,paddingLeft:Gi,paddingBlock:Gi,paddingBlockEnd:Gi,paddingBlockStart:Gi,paddingInline:Gi,paddingInlineEnd:Gi,paddingInlineStart:Gi,top:Gi,right:Gi,bottom:Gi,left:Gi,scrollMargin:Gi,scrollMarginTop:Gi,scrollMarginRight:Gi,scrollMarginBottom:Gi,scrollMarginLeft:Gi,scrollMarginX:Gi,scrollMarginY:Gi,scrollMarginBlock:Gi,scrollMarginBlockEnd:Gi,scrollMarginBlockStart:Gi,scrollMarginInline:Gi,scrollMarginInlineEnd:Gi,scrollMarginInlineStart:Gi,scrollPadding:Gi,scrollPaddingTop:Gi,scrollPaddingRight:Gi,scrollPaddingBottom:Gi,scrollPaddingLeft:Gi,scrollPaddingX:Gi,scrollPaddingY:Gi,scrollPaddingBlock:Gi,scrollPaddingBlockEnd:Gi,scrollPaddingBlockStart:Gi,scrollPaddingInline:Gi,scrollPaddingInlineEnd:Gi,scrollPaddingInlineStart:Gi,fontSize:"fontSizes",background:Ui,backgroundColor:Ui,backgroundImage:Ui,borderImage:Ui,border:Ui,borderBlock:Ui,borderBlockEnd:Ui,borderBlockStart:Ui,borderBottom:Ui,borderBottomColor:Ui,borderColor:Ui,borderInline:Ui,borderInlineEnd:Ui,borderInlineStart:Ui,borderLeft:Ui,borderLeftColor:Ui,borderRight:Ui,borderRightColor:Ui,borderTop:Ui,borderTopColor:Ui,caretColor:Ui,color:Ui,columnRuleColor:Ui,fill:Ui,outline:Ui,outlineColor:Ui,stroke:Ui,textDecorationColor:Ui,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:qi,minBlockSize:qi,maxBlockSize:qi,inlineSize:qi,minInlineSize:qi,maxInlineSize:qi,width:qi,minWidth:qi,maxWidth:qi,height:qi,minHeight:qi,maxHeight:qi,flexBasis:qi,gridTemplateColumns:qi,gridTemplateRows:qi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Qi=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,Ki=()=>{const e=Object.create(null);return(t,s,...i)=>{const r=(a=t,JSON.stringify(a,Qi));var a;return r in e?e[r]:e[r]=s(t,...i)}},Zi=Symbol.for("sxs.internal"),Ji=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),er=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:tr}=Object.prototype,sr=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ir=/\s+(?![^()]*\))/,rr=e=>t=>e(..."string"==typeof t?String(t).split(ir):[t]),ar={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:rr((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:rr((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:rr((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:rr((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:rr((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:rr((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},nr=/([\d.]+)([^]*)/,or=(e,t)=>e.length?e.reduce((e,s)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(s)&&/&.*&/.test(e)?`:is(${s})`:s):s+" "+e)),e),[]):t,lr=(e,t)=>e in cr&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,s,i,r)=>s+("stretch"===i?`-moz-available${r};${sr(e)}:${s}-webkit-fill-available`:`-moz-fit-content${r};${sr(e)}:${s}fit-content`)+r):String(t),cr={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},dr=e=>e?e+"-":"",ur=(e,t,s)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,i,r,a,n)=>"$"==a==!!r?e:(i||"--"==a?"calc(":"")+"var(--"+("$"===a?dr(t)+(n.includes("$")?"":dr(s))+n.replace(/\$/g,"-"):n)+")"+(i||"--"==a?"*"+(i||"")+(r||"1")+")":"")),hr=/\s*,\s*(?![^()]*\))/,pr=Object.prototype.toString,mr=(e,t,s,i,r)=>{let a,n,o;const l=(e,t,s)=>{let c,d;const u=e=>{for(c in e){const m=64===c.charCodeAt(0),f=m&&Array.isArray(e[c])?e[c]:[e[c]];for(d of f){const e=/[A-Z]/.test(p=c)?p:p.replace(/-[^]/g,e=>e[1].toUpperCase()),f="object"==typeof d&&d&&d.toString===pr&&(!i.utils[e]||!t.length);if(e in i.utils&&!f){const t=i.utils[e];if(t!==n){n=t,u(t(d)),n=null;continue}}else if(e in ar){const t=ar[e];if(t!==o){o=t,u(t(d)),o=null;continue}}if(m&&(h=c.slice(1)in i.media?"@media "+i.media[c.slice(1)]:c,c=h.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,s,i,r,a)=>{const n=nr.test(t),o=.0625*(n?-1:1),[l,c]=n?[i,t]:[t,i];return"("+("="===s[0]?"":">"===s[0]===n?"max-":"min-")+l+":"+("="!==s[0]&&1===s.length?c.replace(nr,(e,t,i)=>Number(t)+o*(">"===s?1:-1)+i):c)+(r?") and ("+(">"===r[0]?"min-":"max-")+l+":"+(1===r.length?a.replace(nr,(e,t,s)=>Number(t)+o*(">"===r?-1:1)+s):a):"")+")"})),f){const e=m?s.concat(c):[...s],i=m?[...t]:or(t,c.split(hr));void 0!==a&&r(fr(...a)),a=void 0,l(d,i,e)}else void 0===a&&(a=[[],t,s]),c=m||36!==c.charCodeAt(0)?c:`--${dr(i.prefix)}${c.slice(1).replace(/\$/g,"-")}`,d=f?d:"number"==typeof d?d&&e in gr?String(d)+"px":String(d):ur(lr(e,null==d?"":d),i.prefix,i.themeMap[e]),a[0].push(`${m?`${c} `:`${sr(c)}:`}${d}`)}}var h,p};u(e),void 0!==a&&r(fr(...a)),a=void 0};l(e,t,s)},fr=(e,t,s)=>`${s.map(e=>`${e}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(s.length?s.length+1:0).join("}")}`,gr={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},xr=e=>String.fromCharCode(e+(e>25?39:97)),br=e=>(e=>{let t,s="";for(t=Math.abs(e);t>52;t=t/52|0)s=xr(t%52)+s;return xr(t%52)+s})(((e,t)=>{let s=t.length;for(;s;)e=33*e^t.charCodeAt(--s);return e})(5381,JSON.stringify(e))>>>0),vr=["themed","global","styled","onevar","resonevar","allvar","inline"],yr=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(t){return!1}},wr=e=>{let t;const s=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,(s,i)=>{const{cssText:r}=s;let a="";if(r.startsWith("--sxs"))return"";if(e[i-1]&&(a=e[i-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===s)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${r}`;return s.cssRules.length?`${a}${r}`:""}return r}).join("")},i=()=>{if(t){const{rules:e,sheet:s}=t;if(!s.deleteRule){for(;3===Object(Object(s.cssRules)[0]).type;)s.cssRules.splice(0,1);s.cssRules=[]}for(const t in e)delete e[t]}const r=Object(e).styleSheets||[];for(const e of r)if(yr(e)){for(let r=0,a=e.cssRules;a[r];++r){const n=Object(a[r]);if(1!==n.type)continue;const o=Object(a[r+1]);if(4!==o.type)continue;++r;const{cssText:l}=n;if(!l.startsWith("--sxs"))continue;const c=l.slice(14,-3).trim().split(/\s+/),d=vr[c[0]];d&&(t||(t={sheet:e,reset:i,rules:{},toString:s}),t.rules[d]={group:o,index:r,cache:new Set(c)})}if(t)break}if(!t){const r=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,r(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,e=>e.cssText).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:r("","text/css"),rules:{},reset:i,toString:s}}const{sheet:a,rules:n}=t;for(let e=vr.length-1;e>=0;--e){const t=vr[e];if(!n[t]){const s=vr[e+1],i=n[s]?n[s].index:a.cssRules.length;a.insertRule("@media{}",i),a.insertRule(`--sxs{--sxs:${e}}`,i),n[t]={group:a.cssRules[i+1],index:i,cache:new Set([e])}}jr(n[t])}};return i(),t},jr=e=>{const t=e.group;let s=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,s),++s}catch(i){}}},Nr=Symbol(),kr=Ki(),Sr=(e,t)=>kr(e,()=>(...s)=>{let i={type:null,composers:new Set};for(const t of s)if(null!=t)if(t[Zi]){null==i.type&&(i.type=t[Zi].type);for(const e of t[Zi].composers)i.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==i.type&&(i.type=t):i.composers.add(Cr(t,e));return null==i.type&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),Ar(e,i,t)}),Cr=({variants:e,compoundVariants:t,defaultVariants:s,...i},r)=>{const a=`${dr(r.prefix)}c-${br(i)}`,n=[],o=[],l=Object.create(null),c=[];for(const h in s)l[h]=String(s[h]);if("object"==typeof e&&e)for(const h in e){d=l,u=h,tr.call(d,u)||(l[h]="undefined");const t=e[h];for(const e in t){const s={[h]:String(e)};"undefined"===String(e)&&c.push(h);const i=t[e],r=[s,i,!er(i)];n.push(r)}}var d,u;if("object"==typeof t&&t)for(const h of t){let{css:e,...t}=h;e="object"==typeof e&&e||{};for(const i in t)t[i]=String(t[i]);const s=[t,e,!er(e)];o.push(s)}return[a,i,n,o,l,c]},Ar=(e,t,s)=>{const[i,r,a,n]=Tr(t.composers),o="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let s=0;s<t[Nr].length;s++){const[i,r]=t[Nr][s];e.rules[i].apply(r)}return t[Nr]=[],null}return t[Nr]=[],t.rules={},vr.forEach(e=>t.rules[e]={apply:s=>t[Nr].push([e,s])}),t})(s):null,l=(o||s).rules,c=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,d=d=>{d="object"==typeof d&&d||Rr;const{css:u,...h}=d,p={};for(const e in a)if(delete h[e],e in d){let t=d[e];"object"==typeof t&&t?p[e]={"@initial":a[e],...t}:(t=String(t),p[e]="undefined"!==t||n.has(e)?t:a[e])}else p[e]=a[e];const m=new Set([...r]);for(const[i,r,a,n]of t.composers){s.rules.styled.cache.has(i)||(s.rules.styled.cache.add(i),mr(r,[`.${i}`],[],e,e=>{l.styled.apply(e)}));const t=Er(a,p,e.media),o=Er(n,p,e.media,!0);for(const r of t)if(void 0!==r)for(const[t,a,n]of r){const r=`${i}-${br(a)}-${t}`;m.add(r);const o=(n?s.rules.resonevar:s.rules.onevar).cache,c=n?l.resonevar:l.onevar;o.has(r)||(o.add(r),mr(a,[`.${r}`],[],e,e=>{c.apply(e)}))}for(const r of o)if(void 0!==r)for(const[t,a]of r){const r=`${i}-${br(a)}-${t}`;m.add(r),s.rules.allvar.cache.has(r)||(s.rules.allvar.cache.add(r),mr(a,[`.${r}`],[],e,e=>{l.allvar.apply(e)}))}}if("object"==typeof u&&u){const t=`${i}-i${br(u)}-css`;m.add(t),s.rules.inline.cache.has(t)||(s.rules.inline.cache.add(t),mr(u,[`.${t}`],[],e,e=>{l.inline.apply(e)}))}for(const e of String(d.className||"").trim().split(/\s+/))e&&m.add(e);const f=h.className=[...m].join(" ");return{type:t.type,className:f,selector:c,props:h,toString:()=>f,deferredInjector:o}};return Ji(d,{className:i,selector:c,[Zi]:t,toString:()=>(s.rules.styled.cache.has(i)||d(),i)})},Tr=e=>{let t="";const s=[],i={},r=[];for(const[a,,,,n,o]of e){""===t&&(t=a),s.push(a),r.push(...o);for(const e in n){const t=n[e];(void 0===i[e]||"undefined"!==t||o.includes(t))&&(i[e]=t)}}return[t,s,i,new Set(r)]},Er=(e,t,s,i)=>{const r=[];e:for(let[a,n,o]of e){if(o)continue;let e,l=0,c=!1;for(e in a){const i=a[e];let r=t[e];if(r!==i){if("object"!=typeof r||!r)continue e;{let e,t,a=0;for(const n in r){if(i===String(r[n])){if("@initial"!==n){const e=n.slice(1);(t=t||[]).push(e in s?s[e]:n.replace(/^@media ?/,"")),c=!0}l+=a,e=!0}++a}if(t&&t.length&&(n={["@media "+t.join(", ")]:n}),!e)continue e}}}(r[l]=r[l]||[]).push([i?"cv":`${e}-${a[e]}`,n,c])}return r},Rr={},Pr=Ki(),Ir=(e,t)=>Pr(e,()=>(...s)=>{const i=()=>{for(let i of s){i="object"==typeof i&&i||{};let s=br(i);if(!t.rules.global.cache.has(s)){if(t.rules.global.cache.add(s),"@import"in i){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let s of[].concat(i["@import"]))s=s.includes('"')||s.includes("'")?s:`"${s}"`,t.sheet.insertRule(`@import ${s};`,e++);delete i["@import"]}mr(i,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return Ji(i,{toString:i})}),Lr=Ki(),Mr=(e,t)=>Lr(e,()=>s=>{const i=`${dr(e.prefix)}k-${br(s)}`,r=()=>{if(!t.rules.global.cache.has(i)){t.rules.global.cache.add(i);const r=[];mr(s,[],[],e,e=>r.push(e));const a=`@keyframes ${i}{${r.join("")}}`;t.rules.global.apply(a)}return i};return Ji(r,{get name(){return r()},toString:r})}),Or=class{constructor(e,t,s,i){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==s?"":String(s),this.prefix=null==i?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+dr(this.prefix)+dr(this.scale)+this.token}toString(){return this.computedValue}},Dr=Ki(),_r=(e,t)=>Dr(e,()=>(s,i)=>{i="object"==typeof s&&s||Object(i);const r=`.${s=(s="string"==typeof s?s:"")||`${dr(e.prefix)}t-${br(i)}`}`,a={},n=[];for(const t in i){a[t]={};for(const s in i[t]){const r=`--${dr(e.prefix)}${t}-${s}`,o=ur(String(i[t][s]),e.prefix,t);a[t][s]=new Or(s,o,t,e.prefix),n.push(`${r}:${o}`)}}const o=()=>{if(n.length&&!t.rules.themed.cache.has(s)){t.rules.themed.cache.add(s);const r=`${i===e.theme?":root,":""}.${s}{${n.join(";")}}`;t.rules.themed.apply(r)}return s};return{...a,get className(){return o()},selector:r,toString:o}}),zr=Ki(),Fr=Ki(),Br=e=>{const t=(e=>{let t=!1;const s=zr(e,e=>{t=!0;const s="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",i="object"==typeof e.media&&e.media||{},r="object"==typeof e.root?e.root||null:globalThis.document||null,a="object"==typeof e.theme&&e.theme||{},n={prefix:s,media:i,theme:a,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...$i},utils:"object"==typeof e.utils&&e.utils||{}},o=wr(r),l={css:Sr(n,o),globalCss:Ir(n,o),keyframes:Mr(n,o),createTheme:_r(n,o),reset(){o.reset(),l.theme.toString()},theme:{},sheet:o,config:n,prefix:s,getCssText:o.toString,toString:o.toString};return String(l.theme=l.createTheme(a)),l});return t||s.reset(),s})(e);return t.styled=(({config:e,sheet:t})=>Fr(e,()=>{const s=Sr(e,t);return(...e)=>{const t=s(...e),i=t[Zi].type,r=Tt.forwardRef((e,s)=>{const r=e&&e.as||i,{props:a,deferredInjector:n}=t(e);return delete a.as,a.ref=s,n?Tt.createElement(Tt.Fragment,null,Tt.createElement(r,a),Tt.createElement(n,null)):Tt.createElement(r,a)});return r.className=t.className,r.displayName=`Styled.${i.displayName||i.name||i}`,r.selector=t.selector,r.toString=()=>t.selector,r[Zi]=t[Zi],r}}))(t),t},Hr=()=>Vi||(Vi=Br());const{styled:Wr,css:Xr,keyframes:Yr}=Br({theme:{colors:{waspYellow:"#ffcc00",gray900:"#1a202c",gray700:"#a1a5ab",gray600:"#d1d5db",gray500:"gainsboro",gray400:"#f0f0f0",red:"#FED7D7",darkRed:"#fa3838",green:"#C6F6D5",brand:"$waspYellow",brandAccent:"#ffdb46",errorBackground:"$red",errorText:"#2D3748",successBackground:"$green",successText:"#2D3748",submitButtonText:"black",formErrorText:"$darkRed"},fontSizes:{sm:"0.875rem"}}});var Vr=e=>"checkbox"===e.type,Ur=e=>e instanceof Date,qr=e=>null==e;const Gr=e=>"object"==typeof e;var $r=e=>!qr(e)&&!Array.isArray(e)&&Gr(e)&&!Ur(e),Qr="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Kr(e){let t;const s=Array.isArray(e),i="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Qr&&(e instanceof Blob||i)||!s&&!$r(e))return e;if(t=s?[]:Object.create(Object.getPrototypeOf(e)),s||(e=>{const t=e.constructor&&e.constructor.prototype;return $r(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const s in e)e.hasOwnProperty(s)&&(t[s]=Kr(e[s]));else t=e}return t}var Zr=e=>/^\w*$/.test(e),Jr=e=>void 0===e,ea=e=>Array.isArray(e)?e.filter(Boolean):[],ta=e=>ea(e.replace(/["|']|\]/g,"").split(/\.|\[/)),sa=(e,t,s)=>{if(!t||!$r(e))return s;const i=(Zr(t)?[t]:ta(t)).reduce((e,t)=>qr(e)?e:e[t],e);return Jr(i)||i===e?Jr(e[t])?s:e[t]:i},ia=e=>"boolean"==typeof e,ra=(e,t,s)=>{let i=-1;const r=Zr(t)?[t]:ta(t),a=r.length,n=a-1;for(;++i<a;){const t=r[i];let a=s;if(i!==n){const s=e[t];a=$r(s)||Array.isArray(s)?s:isNaN(+r[i+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const aa="blur",na="focusout",oa="onBlur",la="onChange",ca="onSubmit",da="onTouched",ua="all",ha="max",pa="min",ma="maxLength",fa="minLength",ga="pattern",xa="required",ba="validate";Tt.createContext(null).displayName="HookFormContext";const va="undefined"!=typeof window?Tt.useLayoutEffect:Tt.useEffect;var ya=e=>"string"==typeof e,wa=e=>qr(e)||!Gr(e);function ja(e,t,s=new WeakSet){if(wa(e)||wa(t))return e===t;if(Ur(e)&&Ur(t))return e.getTime()===t.getTime();const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const a of i){const i=e[a];if(!r.includes(a))return!1;if("ref"!==a){const e=t[a];if(Ur(i)&&Ur(e)||$r(i)&&$r(e)||Array.isArray(i)&&Array.isArray(e)?!ja(i,e,s):i!==e)return!1}}return!0}var Na=(e,t,s,i,r)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:r||!0}}:{},ka=e=>Array.isArray(e)?e:[e],Sa=()=>{let e=[];return{get observers(){return e},next:t=>{for(const s of e)s.next&&s.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Ca=e=>$r(e)&&!Object.keys(e).length,Aa=e=>"file"===e.type,Ta=e=>"function"==typeof e,Ea=e=>{if(!Qr)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ra=e=>"select-multiple"===e.type,Pa=e=>"radio"===e.type,Ia=e=>Ea(e)&&e.isConnected;function La(e,t){const s=Array.isArray(t)?t:Zr(t)?[t]:ta(t),i=1===s.length?e:function(e,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)e=Jr(e)?i++:e[t[i++]];return e}(e,s),r=s.length-1,a=s[r];return i&&delete i[a],0!==r&&($r(i)&&Ca(i)||Array.isArray(i)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Jr(e[t]))return!1;return!0}(i))&&La(e,s.slice(0,-1)),e}var Ma=e=>{for(const t in e)if(Ta(e[t]))return!0;return!1};function Oa(e,t={}){const s=Array.isArray(e);if($r(e)||s)for(const i in e)Array.isArray(e[i])||$r(e[i])&&!Ma(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Oa(e[i],t[i])):qr(e[i])||(t[i]=!0);return t}function Da(e,t,s){const i=Array.isArray(e);if($r(e)||i)for(const r in e)Array.isArray(e[r])||$r(e[r])&&!Ma(e[r])?Jr(t)||wa(s[r])?s[r]=Array.isArray(e[r])?Oa(e[r],[]):{...Oa(e[r])}:Da(e[r],qr(t)?{}:t[r],s[r]):s[r]=!ja(e[r],t[r]);return s}var _a=(e,t)=>Da(e,t,Oa(t));const za={value:!1,isValid:!1},Fa={value:!0,isValid:!0};var Ba=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Jr(e[0].attributes.value)?Jr(e[0].value)||""===e[0].value?Fa:{value:e[0].value,isValid:!0}:Fa:za}return za},Ha=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>Jr(e)?e:t?""===e?NaN:e?+e:e:s&&ya(e)?new Date(e):i?i(e):e;const Wa={isValid:!1,value:null};var Xa=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Wa):Wa;function Ya(e){const t=e.ref;return Aa(t)?t.files:Pa(t)?Xa(e.refs).value:Ra(t)?[...t.selectedOptions].map(({value:e})=>e):Vr(t)?Ba(e.refs).value:Ha(Jr(t.value)?e.ref.value:t.value,e)}var Va=e=>e instanceof RegExp,Ua=e=>Jr(e)?e:Va(e)?e.source:$r(e)?Va(e.value)?e.value.source:e.value:e,qa=e=>({isOnSubmit:!e||e===ca,isOnBlur:e===oa,isOnChange:e===la,isOnAll:e===ua,isOnTouch:e===da});const Ga="AsyncFunction";var $a=e=>!!e&&!!e.validate&&!!(Ta(e.validate)&&e.validate.constructor.name===Ga||$r(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Ga)),Qa=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Ka=(e,t,s,i)=>{for(const r of s||Object.keys(e)){const s=sa(e,r);if(s){const{_f:e,...a}=s;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!i)return!0;if(e.ref&&t(e.ref,e.name)&&!i)return!0;if(Ka(a,t))break}else if($r(a)&&Ka(a,t))break}}};function Za(e,t,s){const i=sa(e,s);if(i||Zr(s))return{error:i,name:s};const r=s.split(".");for(;r.length;){const i=r.join("."),a=sa(t,i),n=sa(e,i);if(a&&!Array.isArray(a)&&s!==i)return{name:s};if(n&&n.type)return{name:i,error:n};if(n&&n.root&&n.root.type)return{name:`${i}.root`,error:n.root};r.pop()}return{name:s}}var Ja=(e,t,s)=>{const i=ka(sa(e,s));return ra(i,"root",t[s]),ra(e,s,i),e},en=e=>ya(e);function tn(e,t,s="validate"){if(en(e)||Array.isArray(e)&&e.every(en)||ia(e)&&!e)return{type:s,message:en(e)?e:"",ref:t}}var sn=e=>$r(e)&&!Va(e)?e:{value:e,message:""},rn=async(e,t,s,i,r,a)=>{const{ref:n,refs:o,required:l,maxLength:c,minLength:d,min:u,max:h,pattern:p,validate:m,name:f,valueAsNumber:g,mount:x}=e._f,b=sa(s,f);if(!x||t.has(f))return{};const v=o?o[0]:n,y=e=>{r&&v.reportValidity&&(v.setCustomValidity(ia(e)?"":e||""),v.reportValidity())},w={},j=Pa(n),N=Vr(n),k=j||N,S=(g||Aa(n))&&Jr(n.value)&&Jr(b)||Ea(n)&&""===n.value||""===b||Array.isArray(b)&&!b.length,C=Na.bind(null,f,i,w),A=(e,t,s,i=ma,r=fa)=>{const a=e?t:s;w[f]={type:e?i:r,message:a,ref:n,...C(e?i:r,a)}};if(a?!Array.isArray(b)||!b.length:l&&(!k&&(S||qr(b))||ia(b)&&!b||N&&!Ba(o).isValid||j&&!Xa(o).isValid)){const{value:e,message:t}=en(l)?{value:!!l,message:l}:sn(l);if(e&&(w[f]={type:xa,message:t,ref:v,...C(xa,t)},!i))return y(t),w}if(!(S||qr(u)&&qr(h))){let e,t;const s=sn(h),r=sn(u);if(qr(b)||isNaN(b)){const i=n.valueAsDate||new Date(b),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==n.type,l="week"==n.type;ya(s.value)&&b&&(e=o?a(b)>a(s.value):l?b>s.value:i>new Date(s.value)),ya(r.value)&&b&&(t=o?a(b)<a(r.value):l?b<r.value:i<new Date(r.value))}else{const i=n.valueAsNumber||(b?+b:b);qr(s.value)||(e=i>s.value),qr(r.value)||(t=i<r.value)}if((e||t)&&(A(!!e,s.message,r.message,ha,pa),!i))return y(w[f].message),w}if((c||d)&&!S&&(ya(b)||a&&Array.isArray(b))){const e=sn(c),t=sn(d),s=!qr(e.value)&&b.length>+e.value,r=!qr(t.value)&&b.length<+t.value;if((s||r)&&(A(s,e.message,t.message),!i))return y(w[f].message),w}if(p&&!S&&ya(b)){const{value:e,message:t}=sn(p);if(Va(e)&&!b.match(e)&&(w[f]={type:ga,message:t,ref:n,...C(ga,t)},!i))return y(t),w}if(m)if(Ta(m)){const e=tn(await m(b,s),v);if(e&&(w[f]={...e,...C(ba,e.message)},!i))return y(e.message),w}else if($r(m)){let e={};for(const t in m){if(!Ca(e)&&!i)break;const r=tn(await m[t](b,s),v,t);r&&(e={...r,...C(t,r.message)},y(r.message),i&&(w[f]=e))}if(!Ca(e)&&(w[f]={ref:v,...e},!i))return w}return y(!0),w};const an={mode:ca,reValidateMode:la,shouldFocusError:!0};function nn(e={}){let t,s={...an,...e},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ta(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},r={},a=($r(s.defaultValues)||$r(s.values))&&Kr(s.defaultValues||s.values)||{},n=s.shouldUnregister?{}:Kr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const h={array:Sa(),state:Sa()},p=s.criteriaMode===ua,m=async e=>{if(!s.disabled&&(d.isValid||u.isValid||e)){const e=s.resolver?Ca((await v()).errors):await y(r,!0);e!==i.isValid&&h.state.next({isValid:e})}},f=(e,t)=>{!s.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?ra(i.validatingFields,e,t):La(i.validatingFields,e))}),h.state.next({validatingFields:i.validatingFields,isValidating:!Ca(i.validatingFields)}))},g=(e,t,s,i)=>{const l=sa(r,e);if(l){const r=sa(n,e,Jr(s)?sa(a,e):s);Jr(r)||i&&i.defaultChecked||t?ra(n,e,t?r:Ya(l._f)):N(e,r),o.mount&&m()}},x=(e,t,r,n,o)=>{let l=!1,c=!1;const p={name:e};if(!s.disabled){if(!r||n){(d.isDirty||u.isDirty)&&(c=i.isDirty,i.isDirty=p.isDirty=w(),l=c!==p.isDirty);const s=ja(sa(a,e),t);c=!!sa(i.dirtyFields,e),s?La(i.dirtyFields,e):ra(i.dirtyFields,e,!0),p.dirtyFields=i.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!s}if(r){const t=sa(i.touchedFields,e);t||(ra(i.touchedFields,e,r),p.touchedFields=i.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==r)}l&&o&&h.state.next(p)}return l?p:{}},b=(e,r,a,n)=>{const o=sa(i.errors,e),l=(d.isValid||u.isValid)&&ia(r)&&i.isValid!==r;var p;if(s.delayError&&a?(p=()=>((e,t)=>{ra(i.errors,e,t),h.state.next({errors:i.errors})})(e,a),t=e=>{clearTimeout(c),c=setTimeout(p,e)},t(s.delayError)):(clearTimeout(c),t=null,a?ra(i.errors,e,a):La(i.errors,e)),(a?!ja(o,a):o)||!Ca(n)||l){const t={...n,...l&&ia(r)?{isValid:r}:{},errors:i.errors,name:e};i={...i,...t},h.state.next(t)}},v=async e=>{f(e,!0);const t=await s.resolver(n,s.context,((e,t,s,i)=>{const r={};for(const a of e){const e=sa(t,a);e&&ra(r,a,e._f)}return{criteriaMode:s,names:[...e],fields:r,shouldUseNativeValidation:i}})(e||l.mount,r,s.criteriaMode,s.shouldUseNativeValidation));return f(e),t},y=async(e,t,r={valid:!0})=>{for(const a in e){const o=e[a];if(o){const{_f:e,...c}=o;if(e){const c=l.array.has(e.name),u=o._f&&$a(o._f);u&&d.validatingFields&&f([a],!0);const h=await rn(o,l.disabled,n,p,s.shouldUseNativeValidation&&!t,c);if(u&&d.validatingFields&&f([a]),h[e.name]&&(r.valid=!1,t))break;!t&&(sa(h,e.name)?c?Ja(i.errors,h,e.name):ra(i.errors,e.name,h[e.name]):La(i.errors,e.name))}!Ca(c)&&await y(c,t,r)}}return r.valid},w=(e,t)=>!s.disabled&&(e&&t&&ra(n,e,t),!ja(E(),a)),j=(e,t,s)=>((e,t,s,i,r)=>ya(e)?(i&&t.watch.add(e),sa(s,e,r)):Array.isArray(e)?e.map(e=>(i&&t.watch.add(e),sa(s,e))):(i&&(t.watchAll=!0),s))(e,l,{...o.mount?n:Jr(t)?a:ya(e)?{[e]:t}:t},s,t),N=(e,t,s={})=>{const i=sa(r,e);let a=t;if(i){const s=i._f;s&&(!s.disabled&&ra(n,e,Ha(t,s)),a=Ea(s.ref)&&qr(t)?"":t,Ra(s.ref)?[...s.ref.options].forEach(e=>e.selected=a.includes(e.value)):s.refs?Vr(s.ref)?s.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):s.refs.forEach(e=>e.checked=e.value===a):Aa(s.ref)?s.ref.value="":(s.ref.value=a,s.ref.type||h.state.next({name:e,values:Kr(n)})))}(s.shouldDirty||s.shouldTouch)&&x(e,a,s.shouldTouch,s.shouldDirty,!0),s.shouldValidate&&T(e)},k=(e,t,s)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const a=t[i],n=e+"."+i,o=sa(r,n);(l.array.has(e)||$r(a)||o&&!o._f)&&!Ur(a)?k(n,a,s):N(n,a,s)}},S=(e,t,s={})=>{const c=sa(r,e),p=l.array.has(e),m=Kr(t);ra(n,e,m),p?(h.array.next({name:e,values:Kr(n)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&s.shouldDirty&&h.state.next({name:e,dirtyFields:_a(a,n),isDirty:w(e,m)})):!c||c._f||qr(m)?N(e,m,s):k(e,m,s),Qa(e,l)&&h.state.next({...i,name:e}),h.state.next({name:o.mount?e:void 0,values:Kr(n)})},C=async e=>{o.mount=!0;const a=e.target;let c=a.name,g=!0;const w=sa(r,c),j=e=>{g=Number.isNaN(e)||Ur(e)&&isNaN(e.getTime())||ja(e,sa(n,c,e))},N=qa(s.mode),k=qa(s.reValidateMode);if(w){let o,C;const A=a.type?Ya(w._f):(e=>$r(e)&&e.target?Vr(e.target)?e.target.checked:e.target.value:e)(e),E=e.type===aa||e.type===na,R=!((S=w._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||s.resolver||sa(i.errors,c)||w._f.deps)||((e,t,s,i,r)=>!r.isOnAll&&(!s&&r.isOnTouch?!(t||e):(s?i.isOnBlur:r.isOnBlur)?!e:!(s?i.isOnChange:r.isOnChange)||e))(E,sa(i.touchedFields,c),i.isSubmitted,k,N),P=Qa(c,l,E);ra(n,c,A),E?a&&a.readOnly||(w._f.onBlur&&w._f.onBlur(e),t&&t(0)):w._f.onChange&&w._f.onChange(e);const I=x(c,A,E),L=!Ca(I)||P;if(!E&&h.state.next({name:c,type:e.type,values:Kr(n)}),R)return(d.isValid||u.isValid)&&("onBlur"===s.mode?E&&m():E||m()),L&&h.state.next({name:c,...P?{}:I});if(!E&&P&&h.state.next({...i}),s.resolver){const{errors:e}=await v([c]);if(j(A),g){const t=Za(i.errors,r,c),s=Za(e,r,t.name||c);o=s.error,c=s.name,C=Ca(e)}}else f([c],!0),o=(await rn(w,l.disabled,n,p,s.shouldUseNativeValidation))[c],f([c]),j(A),g&&(o?C=!1:(d.isValid||u.isValid)&&(C=await y(r,!0)));g&&(w._f.deps&&T(w._f.deps),b(c,C,o,I))}var S},A=(e,t)=>{if(sa(i.errors,t)&&e.focus)return e.focus(),1},T=async(e,t={})=>{let a,n;const o=ka(e);if(s.resolver){const t=await(async e=>{const{errors:t}=await v(e);if(e)for(const s of e){const e=sa(t,s);e?ra(i.errors,s,e):La(i.errors,s)}else i.errors=t;return t})(Jr(e)?e:o);a=Ca(t),n=e?!o.some(e=>sa(t,e)):a}else e?(n=(await Promise.all(o.map(async e=>{const t=sa(r,e);return await y(t&&t._f?{[e]:t}:t)}))).every(Boolean),(n||i.isValid)&&m()):n=a=await y(r);return h.state.next({...!ya(e)||(d.isValid||u.isValid)&&a!==i.isValid?{}:{name:e},...s.resolver||!e?{isValid:a}:{},errors:i.errors}),t.shouldFocus&&!n&&Ka(r,A,e?o:l.mount),n},E=e=>{const t={...o.mount?n:a};return Jr(e)?t:ya(e)?sa(t,e):e.map(e=>sa(t,e))},R=(e,t)=>({invalid:!!sa((t||i).errors,e),isDirty:!!sa((t||i).dirtyFields,e),error:sa((t||i).errors,e),isValidating:!!sa(i.validatingFields,e),isTouched:!!sa((t||i).touchedFields,e)}),P=(e,t,s)=>{const a=(sa(r,e,{_f:{}})._f||{}).ref,n=sa(i.errors,e)||{},{ref:o,message:l,type:c,...d}=n;ra(i.errors,e,{...d,...t,ref:a}),h.state.next({name:e,errors:i.errors,isValid:!1}),s&&s.shouldFocus&&a&&a.focus&&a.focus()},I=e=>h.state.subscribe({next:t=>{var s,r,o;s=e.name,r=t.name,o=e.exact,s&&r&&s!==r&&!ka(s).some(e=>e&&(o?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,t,s,i)=>{s(e);const{name:r,...a}=e;return Ca(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!i||ua))})(t,e.formState||d,B,e.reRenderRoot)||e.callback({values:{...n},...i,...t,defaultValues:a})}}).unsubscribe,L=(e,t={})=>{for(const o of e?ka(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(La(r,o),La(n,o)),!t.keepError&&La(i.errors,o),!t.keepDirty&&La(i.dirtyFields,o),!t.keepTouched&&La(i.touchedFields,o),!t.keepIsValidating&&La(i.validatingFields,o),!s.shouldUnregister&&!t.keepDefaultValue&&La(a,o);h.state.next({values:Kr(n)}),h.state.next({...i,...t.keepDirty?{isDirty:w()}:{}}),!t.keepIsValid&&m()},M=({disabled:e,name:t})=>{(ia(e)&&o.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},O=(e,t={})=>{let i=sa(r,e);const n=ia(t.disabled)||ia(s.disabled);return ra(r,e,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),i?M({disabled:ia(t.disabled)?t.disabled:s.disabled,name:e}):g(e,!0,t.value),{...n?{disabled:t.disabled||s.disabled}:{},...s.progressive?{required:!!t.required,min:Ua(t.min),max:Ua(t.max),minLength:Ua(t.minLength),maxLength:Ua(t.maxLength),pattern:Ua(t.pattern)}:{},name:e,onChange:C,onBlur:C,ref:n=>{if(n){O(e,t),i=sa(r,e);const s=Jr(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,o=(e=>Pa(e)||Vr(e))(s),l=i._f.refs||[];if(o?l.find(e=>e===s):s===i._f.ref)return;ra(r,e,{_f:{...i._f,...o?{refs:[...l.filter(Ia),s,...Array.isArray(sa(a,e))?[{}]:[]],ref:{type:s.type,name:e}}:{ref:s}}}),g(e,!1,void 0,s)}else i=sa(r,e,{}),i._f&&(i._f.mount=!1),(s.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(l.array,e)||!o.action)&&l.unMount.add(e)}}},D=()=>s.shouldFocusError&&Ka(r,A,l.mount),_=(e,t)=>async a=>{let o;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Kr(n);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:e,values:t}=await v();i.errors=e,c=Kr(t)}else await y(r);if(l.disabled.size)for(const e of l.disabled)La(c,e);if(La(i.errors,"root"),Ca(i.errors)){h.state.next({errors:{}});try{await e(c,a)}catch(d){o=d}}else t&&await t({...i.errors},a),D(),setTimeout(D);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ca(i.errors)&&!o,submitCount:i.submitCount+1,errors:i.errors}),o)throw o},z=(e,t={})=>{const c=e?Kr(e):a,u=Kr(c),p=Ca(e),m=p?a:u;if(t.keepDefaultValues||(a=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(_a(a,n))]);for(const t of Array.from(e))sa(i.dirtyFields,t)?ra(m,t,sa(n,t)):S(t,sa(m,t))}else{if(Qr&&Jr(e))for(const e of l.mount){const t=sa(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Ea(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)S(e,sa(m,e));else r={}}n=s.shouldUnregister?t.keepDefaultValues?Kr(a):{}:Kr(m),h.array.next({values:{...m}}),h.state.next({values:{...m}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!s.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?i.submitCount:0,isDirty:!p&&(t.keepDirty?i.isDirty:!(!t.keepDefaultValues||ja(e,a))),isSubmitted:!!t.keepIsSubmitted&&i.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&n?_a(a,n):i.dirtyFields:t.keepDefaultValues&&e?_a(a,e):t.keepDirty?i.dirtyFields:{},touchedFields:t.keepTouched?i.touchedFields:{},errors:t.keepErrors?i.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1,defaultValues:a})},F=(e,t)=>z(Ta(e)?e(n):e,t),B=e=>{i={...i,...e}},H={control:{register:O,unregister:L,getFieldState:R,handleSubmit:_,setError:P,_subscribe:I,_runSchema:v,_focusError:D,_getWatch:j,_getDirty:w,_setValid:m,_setFieldArray:(e,t=[],l,c,p=!0,m=!0)=>{if(c&&l&&!s.disabled){if(o.action=!0,m&&Array.isArray(sa(r,e))){const t=l(sa(r,e),c.argA,c.argB);p&&ra(r,e,t)}if(m&&Array.isArray(sa(i.errors,e))){const t=l(sa(i.errors,e),c.argA,c.argB);p&&ra(i.errors,e,t),((e,t)=>{!ea(sa(e,t)).length&&La(e,t)})(i.errors,e)}if((d.touchedFields||u.touchedFields)&&m&&Array.isArray(sa(i.touchedFields,e))){const t=l(sa(i.touchedFields,e),c.argA,c.argB);p&&ra(i.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(i.dirtyFields=_a(a,n)),h.state.next({name:e,isDirty:w(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else ra(n,e,t)},_setDisabledField:M,_setErrors:e=>{i.errors=e,h.state.next({errors:i.errors,isValid:!1})},_getFieldArray:e=>ea(sa(o.mount?n:a,e,s.shouldUnregister?sa(a,e,[]):[])),_reset:z,_resetDefaultValues:()=>Ta(s.defaultValues)&&s.defaultValues().then(e=>{F(e,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=sa(r,e);t&&(t._f.refs?t._f.refs.every(e=>!Ia(e)):!Ia(t._f.ref))&&L(e)}l.unMount=new Set},_disableForm:e=>{ia(e)&&(h.state.next({disabled:e}),Ka(r,(t,s)=>{const i=sa(r,s);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return n},get _state(){return o},set _state(e){o=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return i},get _options(){return s},set _options(e){s={...s,...e}}},subscribe:e=>(o.mount=!0,u={...u,...e.formState},I({...e,formState:u})),trigger:T,register:O,handleSubmit:_,watch:(e,t)=>Ta(e)?h.state.subscribe({next:s=>"values"in s&&e(j(void 0,t),s)}):j(e,t,!0),setValue:S,getValues:E,reset:F,resetField:(e,t={})=>{sa(r,e)&&(Jr(t.defaultValue)?S(e,Kr(sa(a,e))):(S(e,t.defaultValue),ra(a,e,Kr(t.defaultValue))),t.keepTouched||La(i.touchedFields,e),t.keepDirty||(La(i.dirtyFields,e),i.isDirty=t.defaultValue?w(e,Kr(sa(a,e))):w()),t.keepError||(La(i.errors,e),d.isValid&&m()),h.state.next({...i}))},clearErrors:e=>{e&&ka(e).forEach(e=>La(i.errors,e)),h.state.next({errors:e?i.errors:{}})},unregister:L,setError:P,setFocus:(e,t={})=>{const s=sa(r,e),i=s&&s._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&Ta(e.select)&&e.select())}},getFieldState:R};return{...H,formControl:H}}function on(e={}){const t=Tt.useRef(void 0),s=Tt.useRef(void 0),[i,r]=Tt.useState({isDirty:!1,isValidating:!1,isLoading:Ta(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ta(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!Ta(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...r}=nn(e);t.current={...r,formState:i}}const a=t.current.control;return a._options=e,va(()=>{const e=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(e=>({...e,isReady:!0})),a._formState.isReady=!0,e},[a]),Tt.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Tt.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Tt.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Tt.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Tt.useEffect(()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}},[a,i.isDirty]),Tt.useEffect(()=>{e.values&&!ja(e.values,s.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),s.current=e.values,r(e=>({...e}))):a._resetDefaultValues()},[a,e.values]),Tt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=((e,t,s,i=!0)=>{const r={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(r,a,{get:()=>{const s=a;return t._proxyFormState[s]!==ua&&(t._proxyFormState[s]=!i||ua),e[s]}});return r})(i,a),t.current}const ln=Bt({}),cn=Bt({REACT_APP_API_URL:Ht().url({message:"REACT_APP_API_URL must be a valid URL"}).default("http://localhost:3001")}),dn=ln.merge(cn);const un=function(e,t){const s=function(e,t){return t.safeParse(e)}(e,t);if(s.success)return s.data;throw new Error("Error parsing environment variables")}({BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,REACT_APP_API_URL:"https://brainlens.cloud/api",SSR:!1},dn);var hn;const pn={apiUrl:null==(hn=un.REACT_APP_API_URL)?void 0:hn.replace(/\/$/,"")};var mn,fn;(fn=mn||(mn={})).Get="GET",fn.Post="POST",fn.Put="PUT",fn.Delete="DELETE";const gn=Wr("form",{marginTop:"1.5rem"}),xn=Wr("div",{"& + div":{marginTop:"1.5rem"}}),bn=Wr("label",{display:"block !important",fontSize:"$sm !important",fontWeight:"500 !important",marginBottom:"0.5rem !important"}),vn={display:"block !important",lineHeight:"1.5rem !important",fontSize:"$sm !important",borderWidth:"1px !important",borderColor:"$gray600 !important",backgroundColor:"#f8f4ff !important",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05) !important","&:focus":{borderWidth:"1px !important",borderColor:"$gray700 !important",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05) !important"},"&:disabled":{opacity:"0.5 !important",cursor:"not-allowed !important",backgroundColor:"$gray400 !important",borderColor:"$gray400 !important",color:"$gray500 !important"},borderRadius:"0.375rem !important",width:"100% !important",paddingTop:"0.375rem !important",paddingBottom:"0.375rem !important",paddingLeft:"0.75rem !important",paddingRight:"0.75rem !important",margin:"0 !important"},yn=Wr("input",vn),wn=Wr("textarea",vn),jn=Wr("div",{display:"block",fontSize:"$sm",fontWeight:"500",color:"$formErrorText",marginTop:"0.5rem"}),Nn=Wr("button",{display:"flex !important",justifyContent:"center !important",width:"100% !important",borderWidth:"1px !important",borderColor:"$brand !important",backgroundColor:"$brand !important",color:"$submitButtonText !important",padding:"0.5rem 0.75rem !important",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05) !important",fontWeight:"600 !important",fontSize:"$sm !important",lineHeight:"1.25rem !important",borderRadius:"0.375rem !important","&:hover":{backgroundColor:"$brandAccent !important",borderColor:"$brandAccent !important"},"&:disabled":{opacity:"0.5 !important",cursor:"not-allowed !important",backgroundColor:"$gray400 !important",borderColor:"$gray400 !important",color:"$gray500 !important"},transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1) !important",transitionDuration:"100ms !important"}),kn=((...e)=>Hr().css(...e))({width:"1.25rem",height:"1.25rem"}),Sn=()=>s.jsx("svg",{className:kn(),"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("g",{id:"brand",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:s.jsx("g",{id:"google",fill:"#000000",fillRule:"nonzero",children:s.jsx("path",{d:"M11.99,13.9 L11.99,10.18 L21.35,10.18 C21.49,10.81 21.6,11.4 21.6,12.23 C21.6,17.94 17.77,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 C14.7,2 16.96,2.99 18.69,4.61 L15.85,7.37 C15.13,6.69 13.87,5.89 12,5.89 C8.69,5.89 5.99,8.64 5.99,12.01 C5.99,15.38 8.69,18.13 12,18.13 C15.83,18.13 17.24,15.48 17.5,13.91 L11.99,13.91 L11.99,13.9 Z",id:"Shape"})})})}),Cn=Wr("a",{display:"flex !important",justifyContent:"center !important",cursor:"pointer !important",color:"inherit !important",backgroundColor:"#f0f0f0 !important",borderRadius:"0.375rem !important",borderWidth:"1px !important",borderColor:"$gray600 !important",fontSize:"13px !important",padding:"0.5rem 0.75rem !important",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05) !important","&:visited":{color:"inherit !important"},"&:hover":{backgroundColor:"$gray500 !important",color:"inherit !important"},transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1) !important",transitionDuration:"100ms !important"});function An(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tn}=Object.prototype,{getPrototypeOf:En}=Object,{iterator:Rn,toStringTag:Pn}=Symbol,In=(e=>t=>{const s=Tn.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ln=e=>(e=e.toLowerCase(),t=>In(t)===e),Mn=e=>t=>typeof t===e,{isArray:On}=Array,Dn=Mn("undefined");function _n(e){return null!==e&&!Dn(e)&&null!==e.constructor&&!Dn(e.constructor)&&Bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zn=Ln("ArrayBuffer");const Fn=Mn("string"),Bn=Mn("function"),Hn=Mn("number"),Wn=e=>null!==e&&"object"==typeof e,Xn=e=>{if("object"!==In(e))return!1;const t=En(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Pn in e||Rn in e)},Yn=Ln("Date"),Vn=Ln("File"),Un=Ln("Blob"),qn=Ln("FileList"),Gn=Ln("URLSearchParams"),[$n,Qn,Kn,Zn]=["ReadableStream","Request","Response","Headers"].map(Ln);function Jn(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let i,r;if("object"!=typeof e&&(e=[e]),On(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{if(_n(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let n;for(i=0;i<a;i++)n=r[i],t.call(null,e[n],n,e)}}function eo(e,t){if(_n(e))return null;t=t.toLowerCase();const s=Object.keys(e);let i,r=s.length;for(;r-- >0;)if(i=s[r],t===i.toLowerCase())return i;return null}const to="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,so=e=>!Dn(e)&&e!==to;const io=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&En(Uint8Array)),ro=Ln("HTMLFormElement"),ao=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),no=Ln("RegExp"),oo=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),i={};Jn(s,(s,r)=>{let a;!1!==(a=t(s,r,e))&&(i[r]=a||s)}),Object.defineProperties(e,i)};const lo=Ln("AsyncFunction"),co=(uo="function"==typeof setImmediate,ho=Bn(to.postMessage),uo?setImmediate:ho?(po=`axios@${Math.random()}`,mo=[],to.addEventListener("message",({source:e,data:t})=>{e===to&&t===po&&mo.length&&mo.shift()()},!1),e=>{mo.push(e),to.postMessage(po,"*")}):e=>setTimeout(e));var uo,ho,po,mo;const fo="undefined"!=typeof queueMicrotask?queueMicrotask.bind(to):"undefined"!=typeof process&&process.nextTick||co,go={isArray:On,isArrayBuffer:zn,isBuffer:_n,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Bn(e.append)&&("formdata"===(t=In(e))||"object"===t&&Bn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&zn(e.buffer),t},isString:Fn,isNumber:Hn,isBoolean:e=>!0===e||!1===e,isObject:Wn,isPlainObject:Xn,isEmptyObject:e=>{if(!Wn(e)||_n(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(yC){return!1}},isReadableStream:$n,isRequest:Qn,isResponse:Kn,isHeaders:Zn,isUndefined:Dn,isDate:Yn,isFile:Vn,isBlob:Un,isRegExp:no,isFunction:Bn,isStream:e=>Wn(e)&&Bn(e.pipe),isURLSearchParams:Gn,isTypedArray:io,isFileList:qn,forEach:Jn,merge:function e(){const{caseless:t}=so(this)&&this||{},s={},i=(i,r)=>{const a=t&&eo(s,r)||r;Xn(s[a])&&Xn(i)?s[a]=e(s[a],i):Xn(i)?s[a]=e({},i):On(i)?s[a]=i.slice():s[a]=i};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Jn(arguments[r],i);return s},extend:(e,t,s,{allOwnKeys:i}={})=>(Jn(t,(t,i)=>{s&&Bn(t)?e[i]=An(t,s):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,i)=>{let r,a,n;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)n=r[a],i&&!i(n,e,t)||o[n]||(t[n]=e[n],o[n]=!0);e=!1!==s&&En(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:In,kindOfTest:Ln,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const i=e.indexOf(t,s);return-1!==i&&i===s},toArray:e=>{if(!e)return null;if(On(e))return e;let t=e.length;if(!Hn(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Rn]).call(e);let i;for(;(i=s.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const i=[];for(;null!==(s=e.exec(t));)i.push(s);return i},isHTMLForm:ro,hasOwnProperty:ao,hasOwnProp:ao,reduceDescriptors:oo,freezeMethods:e=>{oo(e,(t,s)=>{if(Bn(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const i=e[s];Bn(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},i=e=>{e.forEach(e=>{s[e]=!0})};return On(e)?i(e):i(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:eo,global:to,isContextDefined:so,isSpecCompliantForm:function(e){return!!(e&&Bn(e.append)&&"FormData"===e[Pn]&&e[Rn])},toJSONObject:e=>{const t=new Array(10),s=(e,i)=>{if(Wn(e)){if(t.indexOf(e)>=0)return;if(_n(e))return e;if(!("toJSON"in e)){t[i]=e;const r=On(e)?[]:{};return Jn(e,(e,t)=>{const a=s(e,i+1);!Dn(a)&&(r[t]=a)}),t[i]=void 0,r}}return e};return s(e,0)},isAsyncFn:lo,isThenable:e=>e&&(Wn(e)||Bn(e))&&Bn(e.then)&&Bn(e.catch),setImmediate:co,asap:fo,isIterable:e=>null!=e&&Bn(e[Rn])};function xo(e,t,s,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}go.inherits(xo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:go.toJSONObject(this.config),code:this.code,status:this.status}}});const bo=xo.prototype,vo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vo[e]={value:e}}),Object.defineProperties(xo,vo),Object.defineProperty(bo,"isAxiosError",{value:!0}),xo.from=(e,t,s,i,r,a)=>{const n=Object.create(bo);return go.toFlatObject(e,n,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),xo.call(n,e.message,t,s,i,r),n.cause=e,n.name=e.name,a&&Object.assign(n,a),n};function yo(e){return go.isPlainObject(e)||go.isArray(e)}function wo(e){return go.endsWith(e,"[]")?e.slice(0,-2):e}function jo(e,t,s){return e?e.concat(t).map(function(e,t){return e=wo(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const No=go.toFlatObject(go,{},null,function(e){return/^is[A-Z]/.test(e)});function ko(e,t,s){if(!go.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(s=go.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!go.isUndefined(t[e])})).metaTokens,r=s.visitor||c,a=s.dots,n=s.indexes,o=(s.Blob||"undefined"!=typeof Blob&&Blob)&&go.isSpecCompliantForm(t);if(!go.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(go.isDate(e))return e.toISOString();if(go.isBoolean(e))return e.toString();if(!o&&go.isBlob(e))throw new xo("Blob is not supported. Use a Buffer instead.");return go.isArrayBuffer(e)||go.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,r){let o=e;if(e&&!r&&"object"==typeof e)if(go.endsWith(s,"{}"))s=i?s:s.slice(0,-2),e=JSON.stringify(e);else if(go.isArray(e)&&function(e){return go.isArray(e)&&!e.some(yo)}(e)||(go.isFileList(e)||go.endsWith(s,"[]"))&&(o=go.toArray(e)))return s=wo(s),o.forEach(function(e,i){!go.isUndefined(e)&&null!==e&&t.append(!0===n?jo([s],i,a):null===n?s:s+"[]",l(e))}),!1;return!!yo(e)||(t.append(jo(r,s,a),l(e)),!1)}const d=[],u=Object.assign(No,{defaultVisitor:c,convertValue:l,isVisitable:yo});if(!go.isObject(e))throw new TypeError("data must be an object");return function e(s,i){if(!go.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+i.join("."));d.push(s),go.forEach(s,function(s,a){!0===(!(go.isUndefined(s)||null===s)&&r.call(t,s,go.isString(a)?a.trim():a,i,u))&&e(s,i?i.concat(a):[a])}),d.pop()}}(e),t}function So(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Co(e,t){this._pairs=[],e&&ko(e,this,t)}const Ao=Co.prototype;function To(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Eo(e,t,s){if(!t)return e;const i=s&&s.encode||To;go.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(a=r?r(t,s):go.isURLSearchParams(t)?t.toString():new Co(t,s).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}Ao.append=function(e,t){this._pairs.push([e,t])},Ao.toString=function(e){const t=e?function(t){return e.call(this,t,So)}:So;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Ro{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){go.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Po={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Io={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Co,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Lo="undefined"!=typeof window&&"undefined"!=typeof document,Mo="object"==typeof navigator&&navigator||void 0,Oo=Lo&&(!Mo||["ReactNative","NativeScript","NS"].indexOf(Mo.product)<0),Do="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,_o=Lo&&window.location.href||"http://localhost",zo={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lo,hasStandardBrowserEnv:Oo,hasStandardBrowserWebWorkerEnv:Do,navigator:Mo,origin:_o},Symbol.toStringTag,{value:"Module"})),...Io};function Fo(e){function t(e,s,i,r){let a=e[r++];if("__proto__"===a)return!0;const n=Number.isFinite(+a),o=r>=e.length;if(a=!a&&go.isArray(i)?i.length:a,o)return go.hasOwnProp(i,a)?i[a]=[i[a],s]:i[a]=s,!n;i[a]&&go.isObject(i[a])||(i[a]=[]);return t(e,s,i[a],r)&&go.isArray(i[a])&&(i[a]=function(e){const t={},s=Object.keys(e);let i;const r=s.length;let a;for(i=0;i<r;i++)a=s[i],t[a]=e[a];return t}(i[a])),!n}if(go.isFormData(e)&&go.isFunction(e.entries)){const s={};return go.forEachEntry(e,(e,i)=>{t(function(e){return go.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,s,0)}),s}return null}const Bo={transitional:Po,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",i=s.indexOf("application/json")>-1,r=go.isObject(e);r&&go.isHTMLForm(e)&&(e=new FormData(e));if(go.isFormData(e))return i?JSON.stringify(Fo(e)):e;if(go.isArrayBuffer(e)||go.isBuffer(e)||go.isStream(e)||go.isFile(e)||go.isBlob(e)||go.isReadableStream(e))return e;if(go.isArrayBufferView(e))return e.buffer;if(go.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ko(e,new zo.classes.URLSearchParams,{visitor:function(e,t,s,i){return zo.isNode&&go.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=go.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ko(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,s){if(go.isString(e))try{return(t||JSON.parse)(e),go.trim(e)}catch(yC){if("SyntaxError"!==yC.name)throw yC}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Bo.transitional,s=t&&t.forcedJSONParsing,i="json"===this.responseType;if(go.isResponse(e)||go.isReadableStream(e))return e;if(e&&go.isString(e)&&(s&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(yC){if(s){if("SyntaxError"===yC.name)throw xo.from(yC,xo.ERR_BAD_RESPONSE,this,null,this.response);throw yC}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zo.classes.FormData,Blob:zo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};go.forEach(["delete","get","head","post","put","patch"],e=>{Bo.headers[e]={}});const Ho=go.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wo=Symbol("internals");function Xo(e){return e&&String(e).trim().toLowerCase()}function Yo(e){return!1===e||null==e?e:go.isArray(e)?e.map(Yo):String(e)}function Vo(e,t,s,i,r){return go.isFunction(i)?i.call(this,t,s):(r&&(t=s),go.isString(t)?go.isString(i)?-1!==t.indexOf(i):go.isRegExp(i)?i.test(t):void 0:void 0)}let Uo=class{constructor(e){e&&this.set(e)}set(e,t,s){const i=this;function r(e,t,s){const r=Xo(t);if(!r)throw new Error("header name must be a non-empty string");const a=go.findKey(i,r);(!a||void 0===i[a]||!0===s||void 0===s&&!1!==i[a])&&(i[a||t]=Yo(e))}const a=(e,t)=>go.forEach(e,(e,s)=>r(e,s,t));if(go.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(go.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,i,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),s=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!s||t[s]&&Ho[s]||("set-cookie"===s?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t})(e),t);else if(go.isObject(e)&&go.isIterable(e)){let s,i,r={};for(const t of e){if(!go.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(s=r[i])?go.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,s);return this}get(e,t){if(e=Xo(e)){const s=go.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)t[i[1]]=i[2];return t}(e);if(go.isFunction(t))return t.call(this,e,s);if(go.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xo(e)){const s=go.findKey(this,e);return!(!s||void 0===this[s]||t&&!Vo(0,this[s],s,t))}return!1}delete(e,t){const s=this;let i=!1;function r(e){if(e=Xo(e)){const r=go.findKey(s,e);!r||t&&!Vo(0,s[r],r,t)||(delete s[r],i=!0)}}return go.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let s=t.length,i=!1;for(;s--;){const r=t[s];e&&!Vo(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,s={};return go.forEach(this,(i,r)=>{const a=go.findKey(s,r);if(a)return t[a]=Yo(i),void delete t[r];const n=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(r):String(r).trim();n!==r&&delete t[r],t[n]=Yo(i),s[n]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return go.forEach(this,(s,i)=>{null!=s&&!1!==s&&(t[i]=e&&go.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(e=>s.set(e)),s}static accessor(e){const t=(this[Wo]=this[Wo]={accessors:{}}).accessors,s=this.prototype;function i(e){const i=Xo(e);t[i]||(!function(e,t){const s=go.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+s,{value:function(e,s,r){return this[i].call(this,t,e,s,r)},configurable:!0})})}(s,e),t[i]=!0)}return go.isArray(e)?e.forEach(i):i(e),this}};function qo(e,t){const s=this||Bo,i=t||s,r=Uo.from(i.headers);let a=i.data;return go.forEach(e,function(e){a=e.call(s,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function Go(e){return!(!e||!e.__CANCEL__)}function $o(e,t,s){xo.call(this,null==e?"canceled":e,xo.ERR_CANCELED,t,s),this.name="CanceledError"}function Qo(e,t,s){const i=s.config.validateStatus;s.status&&i&&!i(s.status)?t(new xo("Request failed with status code "+s.status,[xo.ERR_BAD_REQUEST,xo.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}Uo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),go.reduceDescriptors(Uo.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}}),go.freezeMethods(Uo),go.inherits($o,xo,{__CANCEL__:!0});const Ko=(e,t,s=3)=>{let i=0;const r=function(e,t){e=e||10;const s=new Array(e),i=new Array(e);let r,a=0,n=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=i[n];r||(r=l),s[a]=o,i[a]=l;let d=n,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===n&&(n=(n+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let s,i,r=0,a=1e3/t;const n=(t,a=Date.now())=>{r=a,s=null,i&&(clearTimeout(i),i=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-r;o>=a?n(e,t):(s=e,i||(i=setTimeout(()=>{i=null,n(s)},a-o)))},()=>s&&n(s)]}(s=>{const a=s.loaded,n=s.lengthComputable?s.total:void 0,o=a-i,l=r(o);i=a;e({loaded:a,total:n,progress:n?a/n:void 0,bytes:o,rate:l||void 0,estimated:l&&n&&a<=n?(n-a)/l:void 0,event:s,lengthComputable:null!=n,[t?"download":"upload"]:!0})},s)},Zo=(e,t)=>{const s=null!=e;return[i=>t[0]({lengthComputable:s,total:e,loaded:i}),t[1]]},Jo=e=>(...t)=>go.asap(()=>e(...t)),el=zo.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,zo.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(zo.origin),zo.navigator&&/(msie|trident)/i.test(zo.navigator.userAgent)):()=>!0,tl=zo.hasStandardBrowserEnv?{write(e,t,s,i,r,a){const n=[e+"="+encodeURIComponent(t)];go.isNumber(s)&&n.push("expires="+new Date(s).toGMTString()),go.isString(i)&&n.push("path="+i),go.isString(r)&&n.push("domain="+r),!0===a&&n.push("secure"),document.cookie=n.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function sl(e,t,s){let i=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(i||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const il=e=>e instanceof Uo?{...e}:e;function rl(e,t){t=t||{};const s={};function i(e,t,s,i){return go.isPlainObject(e)&&go.isPlainObject(t)?go.merge.call({caseless:i},e,t):go.isPlainObject(t)?go.merge({},t):go.isArray(t)?t.slice():t}function r(e,t,s,r){return go.isUndefined(t)?go.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function a(e,t){if(!go.isUndefined(t))return i(void 0,t)}function n(e,t){return go.isUndefined(t)?go.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(s,r,a){return a in t?i(s,r):a in e?i(void 0,s):void 0}const l={url:a,method:a,data:a,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(e,t,s)=>r(il(e),il(t),0,!0)};return go.forEach(Object.keys({...e,...t}),function(i){const a=l[i]||r,n=a(e[i],t[i],i);go.isUndefined(n)&&a!==o||(s[i]=n)}),s}const al=e=>{const t=rl({},e);let s,{data:i,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:n,headers:o,auth:l}=t;if(t.headers=o=Uo.from(o),t.url=Eo(sl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),go.isFormData(i))if(zo.hasStandardBrowserEnv||zo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(zo.hasStandardBrowserEnv&&(r&&go.isFunction(r)&&(r=r(t)),r||!1!==r&&el(t.url))){const e=a&&n&&tl.read(n);e&&o.set(a,e)}return t},nl="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const i=al(e);let r=i.data;const a=Uo.from(i.headers).normalize();let n,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=i;function m(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(n),i.signal&&i.signal.removeEventListener("abort",n)}let f=new XMLHttpRequest;function g(){if(!f)return;const i=Uo.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Qo(function(e){t(e),m()},function(e){s(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(s(new xo("Request aborted",xo.ECONNABORTED,e,f)),f=null)},f.onerror=function(){s(new xo("Network Error",xo.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Po;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),s(new xo(t,r.clarifyTimeoutError?xo.ETIMEDOUT:xo.ECONNABORTED,e,f)),f=null},void 0===r&&a.setContentType(null),"setRequestHeader"in f&&go.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),go.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),u&&"json"!==u&&(f.responseType=i.responseType),p&&([l,d]=Ko(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Ko(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(n=t=>{f&&(s(!t||t.type?new $o(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(n),i.signal&&(i.signal.aborted?n():i.signal.addEventListener("abort",n)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);x&&-1===zo.protocols.indexOf(x)?s(new xo("Unsupported protocol "+x+":",xo.ERR_BAD_REQUEST,e)):f.send(r||null)})},ol=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,i=new AbortController;const r=function(e){if(!s){s=!0,n();const t=e instanceof Error?e:this.reason;i.abort(t instanceof xo?t:new $o(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new xo(`timeout ${t} of ms exceeded`,xo.ETIMEDOUT))},t);const n=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=i;return o.unsubscribe=()=>go.asap(n),o}},ll=function*(e,t){let s=e.byteLength;if(s<t)return void(yield e);let i,r=0;for(;r<s;)i=r+t,yield e.slice(r,i),r=i},cl=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},dl=(e,t,s,i)=>{const r=async function*(e,t){for await(const s of cl(e))yield*ll(s,t)}(e,t);let a,n=0,o=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return o(),void e.close();let a=i.byteLength;if(s){let e=n+=a;s(e)}e.enqueue(new Uint8Array(i))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},ul="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,hl=ul&&"function"==typeof ReadableStream,pl=ul&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ml=(e,...t)=>{try{return!!e(...t)}catch(yC){return!1}},fl=hl&&ml(()=>{let e=!1;const t=new Request(zo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gl=hl&&ml(()=>go.isReadableStream(new Response("").body)),xl={stream:gl&&(e=>e.body)};var bl;ul&&(bl=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xl[e]&&(xl[e]=go.isFunction(bl[e])?t=>t[e]():(t,s)=>{throw new xo(`Response type '${e}' is not supported`,xo.ERR_NOT_SUPPORT,s)})}));const vl=async(e,t)=>{const s=go.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(go.isBlob(e))return e.size;if(go.isSpecCompliantForm(e)){const t=new Request(zo.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return go.isArrayBufferView(e)||go.isArrayBuffer(e)?e.byteLength:(go.isURLSearchParams(e)&&(e+=""),go.isString(e)?(await pl(e)).byteLength:void 0)})(t):s},yl=ul&&(async e=>{let{url:t,method:s,data:i,signal:r,cancelToken:a,timeout:n,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=al(e);c=c?(c+"").toLowerCase():"text";let p,m=ol([r,a&&a.toAbortSignal()],n);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&fl&&"get"!==s&&"head"!==s&&0!==(g=await vl(d,i))){let e,s=new Request(t,{method:"POST",body:i,duplex:"half"});if(go.isFormData(i)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=Zo(g,Ko(Jo(l)));i=dl(s.body,65536,e,t)}}go.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,{...h,signal:m,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:r?u:void 0});let a=await fetch(p,h);const n=gl&&("stream"===c||"response"===c);if(gl&&(o||n&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=go.toFiniteNumber(a.headers.get("content-length")),[s,i]=o&&Zo(t,Ko(Jo(o),!0))||[];a=new Response(dl(a.body,65536,s,()=>{i&&i(),f&&f()}),e)}c=c||"text";let x=await xl[go.findKey(xl,c)||"text"](a,e);return!n&&f&&f(),await new Promise((t,s)=>{Qo(t,s,{data:x,headers:Uo.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})})}catch(x){if(f&&f(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new xo("Network Error",xo.ERR_NETWORK,e,p),{cause:x.cause||x});throw xo.from(x,x&&x.code,e,p)}}),wl={http:null,xhr:nl,fetch:yl};go.forEach(wl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(yC){}Object.defineProperty(e,"adapterName",{value:t})}});const jl=e=>`- ${e}`,Nl=e=>go.isFunction(e)||null===e||!1===e,kl=e=>{e=go.isArray(e)?e:[e];const{length:t}=e;let s,i;const r={};for(let a=0;a<t;a++){let t;if(s=e[a],i=s,!Nl(s)&&(i=wl[(t=String(s)).toLowerCase()],void 0===i))throw new xo(`Unknown adapter '${t}'`);if(i)break;r[t||"#"+a]=i}if(!i){const e=Object.entries(r).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new xo("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(jl).join("\n"):" "+jl(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i};function Sl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $o(null,e)}function Cl(e){Sl(e),e.headers=Uo.from(e.headers),e.data=qo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return kl(e.adapter||Bo.adapter)(e).then(function(t){return Sl(e),t.data=qo.call(e,e.transformResponse,t),t.headers=Uo.from(t.headers),t},function(t){return Go(t)||(Sl(e),t&&t.response&&(t.response.data=qo.call(e,e.transformResponse,t.response),t.response.headers=Uo.from(t.response.headers))),Promise.reject(t)})}const Al="1.11.0",Tl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const El={};Tl.transitional=function(e,t,s){return(i,r,a)=>{if(!1===e)throw new xo(function(e,t){return"[Axios v"+Al+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}(r," has been removed"+(t?" in "+t:"")),xo.ERR_DEPRECATED);return t&&!El[r]&&(El[r]=!0),!e||e(i,r,a)}},Tl.spelling=function(e){return(e,t)=>!0};const Rl={assertOptions:function(e,t,s){if("object"!=typeof e)throw new xo("options must be an object",xo.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],n=t[a];if(n){const t=e[a],s=void 0===t||n(t,a,e);if(!0!==s)throw new xo("option "+a+" must be "+s,xo.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new xo("Unknown option "+a,xo.ERR_BAD_OPTION)}},validators:Tl},Pl=Rl.validators;let Il=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ro,response:new Ro}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(yC){}}throw s}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=rl(this.defaults,t);const{transitional:s,paramsSerializer:i,headers:r}=t;void 0!==s&&Rl.assertOptions(s,{silentJSONParsing:Pl.transitional(Pl.boolean),forcedJSONParsing:Pl.transitional(Pl.boolean),clarifyTimeoutError:Pl.transitional(Pl.boolean)},!1),null!=i&&(go.isFunction(i)?t.paramsSerializer={serialize:i}:Rl.assertOptions(i,{encode:Pl.function,serialize:Pl.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Rl.assertOptions(t,{baseUrl:Pl.spelling("baseURL"),withXsrfToken:Pl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&go.merge(r.common,r[t.method]);r&&go.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Uo.concat(a,r);const n=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Cl.bind(this),void 0];for(e.unshift(...n),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=n.length;let h=t;for(u=0;u<d;){const e=n[u++],t=n[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Cl.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Eo(sl((e=rl(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};go.forEach(["delete","get","head","options"],function(e){Il.prototype[e]=function(t,s){return this.request(rl(s||{},{method:e,url:t,data:(s||{}).data}))}}),go.forEach(["post","put","patch"],function(e){function t(t){return function(s,i,r){return this.request(rl(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Il.prototype[e]=t(),Il.prototype[e+"Form"]=t(!0)});const Ll={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ll).forEach(([e,t])=>{Ll[t]=e});const Ml=function e(t){const s=new Il(t),i=An(Il.prototype.request,s);return go.extend(i,Il.prototype,s,{allOwnKeys:!0}),go.extend(i,s,null,{allOwnKeys:!0}),i.create=function(s){return e(rl(t,s))},i}(Bo);Ml.Axios=Il,Ml.CanceledError=$o,Ml.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{s.subscribe(e),t=e}).then(e);return i.cancel=function(){s.unsubscribe(t)},i},e(function(e,i,r){s.reason||(s.reason=new $o(e,i,r),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},Ml.isCancel=Go,Ml.VERSION=Al,Ml.toFormData=ko,Ml.AxiosError=xo,Ml.Cancel=Ml.CanceledError,Ml.all=function(e){return Promise.all(e)},Ml.spread=function(e){return function(t){return e.apply(null,t)}},Ml.isAxiosError=function(e){return go.isObject(e)&&!0===e.isAxiosError},Ml.mergeConfig=rl,Ml.AxiosHeaders=Uo,Ml.formToJSON=e=>Fo(go.isHTMLForm(e)?new FormData(e):e),Ml.getAdapter=kl,Ml.HttpStatusCode=Ll,Ml.default=Ml;const{Axios:Ol,AxiosError:Dl,CanceledError:_l,isCancel:zl,CancelToken:Fl,VERSION:Bl,all:Hl,Cancel:Wl,isAxiosError:Xl,spread:Yl,toFormData:Vl,AxiosHeaders:Ul,HttpStatusCode:ql,formToJSON:Gl,getAdapter:$l,mergeConfig:Ql}=Ml;const Kl=function(e){function t(t){return`${e}:${t}`}return{getPrefixedKey:t,set(e,s){Zl(),localStorage.setItem(t(e),JSON.stringify(s))},get(e){Zl();const s=localStorage.getItem(t(e));try{return s?JSON.parse(s):void 0}catch(yC){return}},remove(e){Zl(),localStorage.removeItem(t(e))},clear(){Zl(),Object.keys(localStorage).forEach(t=>{t.startsWith(e)&&localStorage.removeItem(t)})}}}("wasp");function Zl(){if(!window.localStorage)throw new Error("Local storage is not available.")}const Jl={all:ec=ec||new Map,on:function(e,t){var s=ec.get(e);s?s.push(t):ec.set(e,[t])},off:function(e,t){var s=ec.get(e);s&&(t?s.splice(s.indexOf(t)>>>0,1):ec.set(e,[]))},emit:function(e,t){var s=ec.get(e);s&&s.slice().map(function(e){e(t)}),(s=ec.get("*"))&&s.slice().map(function(s){s(e,t)})}};var ec;const tc=Ml.create({baseURL:pn.apiUrl}),sc="sessionId";function ic(){return Kl.get(sc)??null}function rc(e){var t;if(null==e?void 0:e.response){const s=null==(t=e.response)?void 0:t.data,i=e.response.status;return new ac(i,(null==s?void 0:s.message)??e.message,s)}return e}tc.interceptors.request.use(e=>{const t=ic();return null!==t&&(e.headers.Authorization=`Bearer ${t}`),e}),tc.interceptors.response.use(void 0,e=>{var t;const s=function(e){const t="Bearer ";return e&&e.startsWith(t)?e.substring(t.length):null}(e.config.headers.Authorization),i=ic();return 401===(null==(t=e.response)?void 0:t.status)&&s===i&&(Kl.remove(sc),Jl.emit("sessionId.clear")),Promise.reject(e)}),window.addEventListener("storage",e=>{e.key===Kl.getPrefixedKey(sc)&&(e.newValue?Jl.emit("sessionId.set"):Jl.emit("sessionId.clear"))});class ac extends Error{constructor(e,s,i){super(s),t(this,"statusCode"),t(this,"data"),this.statusCode=e,this.data=i}}const nc={};let oc;const lc=new Promise(e=>{oc=e});const cc=new Map,dc=function(e){const t=new Map;function s(e){return t.get(e)||[]}return{add:function(i,r){const a=e(i),n=s(a);t.set(a,[...n,{queryKey:i,updateQuery:r}])},remove:function(i){const r=e(i),a=s(r).filter(({queryKey:e})=>e!==i);a.length>0?t.set(r,a):t.delete(r)},getUpdateHandlers:function(t){return s(e(t)).map(({updateQuery:e})=>e)}}}(Gs);async function uc(e,t){t.forEach(({queryKey:e})=>dc.remove(e)),await async function(e){const t=await lc,s=function(e){return Array.from(new Set(e.flatMap(pc)))}(e);s.forEach(e=>t.invalidateQueries(e))}(e)}async function hc(){const e=await lc;e.resetQueries(),e.removeQueries()}function pc(e){return Array.from(cc.get(e)||[])}async function mc(e){!function(e){Kl.set(sc,e),Jl.emit("sessionId.set")}(e),await hc()}function fc({onError:e,showEmailVerificationPending:t,onLoginSuccess:s,isLogin:i}){return{handleSubmit:async function(r){try{i?(await async function(e){try{const t=await tc.post("/auth/email/login",e);await mc(t.data.sessionId)}catch(yC){throw rc(yC)}}(r),s()):(await async function(e){try{return(await tc.post("/auth/email/signup",e)).data}catch(yC){throw rc(yC)}}(r),t())}catch(a){e(a)}}}}const gc=Wr("div",{position:"relative",marginTop:"1.5rem"}),xc=Wr("div",{position:"absolute",inset:"0px",display:"flex",alignItems:"center"}),bc=Wr("div",{width:"100%",borderTopWidth:"1px",borderColor:"$gray500"}),vc=Wr("div",{position:"relative",display:"flex",justifyContent:"center",fontSize:"$sm"}),yc=Wr("span",{backgroundColor:"white",paddingLeft:"0.5rem",paddingRight:"0.5rem"}),wc=Wr("div",{marginTop:"1.5rem"}),jc=Wr("div",{fontWeight:"500",fontSize:"$sm"}),Nc=Wr("div",{marginTop:"0.5rem",display:"flex",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),kc=`${pn.apiUrl}/auth/google/login`,Sc=({state:e,socialButtonsDirection:t="horizontal",additionalSignupFields:i})=>{const{isLoading:r,setErrorMessage:a,setSuccessMessage:n,setIsLoading:o}=Ct.useContext(Dc),l="login"===e,c=l?"Log in":"Sign up",d=Et(),u=on(),{register:h,formState:{errors:p},handleSubmit:m}=u,{handleSubmit:f}=fc({isLogin:l,onError:e=>{var t,s;a({title:e.message,description:null==(s=null==(t=e.data)?void 0:t.data)?void 0:s.message})},showEmailVerificationPending(){u.reset(),n("You've signed up successfully! Check your email for the confirmation link.")},onLoginSuccess(){d("/")}});return s.jsxs(s.Fragment,{children:[s.jsxs(wc,{children:[s.jsxs(jc,{children:[c," with"]}),s.jsx(Nc,{gap:"large",direction:t,children:s.jsx(Cn,{href:kc,children:s.jsx(Sn,{})})})]}),s.jsxs(gc,{children:[s.jsx(xc,{children:s.jsx(bc,{})}),s.jsx(vc,{children:s.jsx(yc,{children:"Or continue with"})})]}),s.jsxs(gn,{onSubmit:m(async function(e){o(!0),a(null),n(null);try{await f(e)}finally{o(!1)}}),children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"E-mail"}),s.jsx(yn,{...h("email",{required:"Email is required"}),type:"email",disabled:r}),p.email&&s.jsx(jn,{children:p.email.message})]}),s.jsxs(xn,{children:[s.jsx(bn,{children:"Password"}),s.jsx(yn,{...h("password",{required:"Password is required"}),type:"password",disabled:r}),p.password&&s.jsx(jn,{children:p.password.message})]}),s.jsx(Cc,{hookForm:u,formState:{isLoading:r},additionalSignupFields:i}),s.jsx(xn,{children:s.jsx(Nn,{type:"submit",disabled:r,children:c})})]})]})};function Cc({hookForm:e,formState:{isLoading:t},additionalSignupFields:i}){const{register:r,formState:{errors:a}}=e;function n(e,i,n){var o;const l=null==(o=a[e.name])?void 0:o.message;return s.jsxs(xn,{children:[s.jsx(bn,{children:e.label}),s.jsx(i,{...r(e.name,e.validations),...n,disabled:t}),l&&s.jsx(jn,{children:l})]},e.name)}return function(e){return"function"==typeof e}(i)?i(e,{isLoading:t}):i&&i.map(s=>{if("function"==typeof s)return s(e,{isLoading:t});switch(s.type){case"input":return n(s,yn,{type:"text"});case"textarea":return n(s,wn);default:throw new Error(`Unsupported additional signup field type: ${s.type}`)}})}const Ac=Wr("div",{padding:"0.5rem 0.75rem",borderRadius:"0.375rem",marginTop:"1rem",background:"$gray400"}),Tc=Wr(Ac,{background:"$errorBackground",color:"$errorText"}),Ec=Wr(Ac,{background:"$successBackground",color:"$successText"});const Rc=()=>{const{register:e,handleSubmit:t,reset:i,formState:{errors:r}}=on(),{isLoading:a,setErrorMessage:n,setSuccessMessage:o,setIsLoading:l}=Ct.useContext(Dc);return s.jsx(s.Fragment,{children:s.jsxs(gn,{onSubmit:t(async e=>{var t,s;l(!0),n(null),o(null);try{await async function(e){try{return(await tc.post("/auth/email/request-password-reset",e)).data}catch(yC){throw rc(yC)}}(e),i(),o("Check your email for a password reset link.")}catch(r){n({title:r.message,description:null==(s=null==(t=r.data)?void 0:t.data)?void 0:s.message})}finally{l(!1)}}),children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"E-mail"}),s.jsx(yn,{...e("email",{required:"Email is required"}),type:"email",disabled:a}),r.email&&s.jsx(jn,{children:r.email.message})]}),s.jsx(xn,{children:s.jsx(Nn,{type:"submit",disabled:a,children:"Send password reset email"})})]})})},Pc=()=>{const{register:e,handleSubmit:t,reset:i,formState:{errors:r}}=on(),{isLoading:a,setErrorMessage:n,setSuccessMessage:o,setIsLoading:l}=Ct.useContext(Dc),c=Rt(),d=new URLSearchParams(c.search).get("token");return s.jsx(s.Fragment,{children:s.jsxs(gn,{onSubmit:t(async e=>{var t,s;if(d)if(e.password&&e.password===e.passwordConfirmation){l(!0),n(null),o(null);try{await async function(e){try{return(await tc.post("/auth/email/reset-password",e)).data}catch(yC){throw rc(yC)}}({password:e.password,token:d}),i(),o("Your password has been reset.")}catch(r){n({title:r.message,description:null==(s=null==(t=r.data)?void 0:t.data)?void 0:s.message})}finally{l(!1)}}else n({title:"Passwords don't match!"});else n({title:"The token is missing from the URL. Please check the link you received in your email."})}),children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"New password"}),s.jsx(yn,{...e("password",{required:"Password is required"}),type:"password",disabled:a}),r.passwordConfirmation&&s.jsx(jn,{children:r.passwordConfirmation.message})]}),s.jsxs(xn,{children:[s.jsx(bn,{children:"Confirm new password"}),s.jsx(yn,{...e("passwordConfirmation",{required:"Password confirmation is required"}),type:"password",disabled:a}),r.passwordConfirmation&&s.jsx(jn,{children:r.passwordConfirmation.message})]}),s.jsx(xn,{children:s.jsx(Nn,{type:"submit",disabled:a,children:"Reset password"})})]})})};const Ic=()=>{const{isLoading:e,setErrorMessage:t,setSuccessMessage:i,setIsLoading:r}=Ct.useContext(Dc),a=Rt(),n=new URLSearchParams(a.search).get("token");async function o(){var e,s;if(n){r(!0),t(null),i(null);try{await async function(e){try{return(await tc.post("/auth/email/verify-email",e)).data}catch(yC){throw rc(yC)}}({token:n}),i("Your email has been verified. You can now log in.")}catch(a){t({title:a.message,description:null==(s=null==(e=a.data)?void 0:e.data)?void 0:s.message})}finally{r(!1)}}else t({title:"The token is missing from the URL. Please check the link you received in your email."})}return Ct.useEffect(()=>{o()},[a]),s.jsx(s.Fragment,{children:e&&s.jsx(Ac,{children:"Verifying email..."})})},Lc={height:"3rem"},Mc=Wr("div",{display:"flex",flexDirection:"column"}),Oc=Wr("h2",{fontSize:"1.875rem !important",fontWeight:"700 !important",marginTop:"1.5rem !important"}),Dc=Ct.createContext({isLoading:!1,setIsLoading:e=>{},setErrorMessage:e=>{},setSuccessMessage:e=>{}});function _c({state:e,appearance:t,logo:i,socialLayout:r="horizontal",additionalSignupFields:a}){const[n,o]=Ct.useState(null),[l,c]=Ct.useState(null),[d,u]=Ct.useState(!1),h=((...e)=>Hr().createTheme(...e))(t??{}),p={login:"Log in to your account",signup:"Create a new account","forgot-password":"Forgot your password?","reset-password":"Reset your password","verify-email":"Email verification"}[e],m="vertical"===r?"vertical":"horizontal";return s.jsxs(Mc,{className:h,children:[s.jsxs("div",{children:[i&&s.jsx("img",{style:Lc,src:i,alt:"Your Company"}),s.jsx(Oc,{children:p})]}),n&&s.jsxs(Tc,{children:[n.title,n.description&&": ",n.description]}),l&&s.jsx(Ec,{children:l}),s.jsxs(Dc.Provider,{value:{isLoading:d,setIsLoading:u,setErrorMessage:o,setSuccessMessage:c},children:[("login"===e||"signup"===e)&&s.jsx(Sc,{state:e,socialButtonsDirection:m,additionalSignupFields:a}),"forgot-password"===e&&s.jsx(Rc,{}),"reset-password"===e&&s.jsx(Pc,{}),"verify-email"===e&&s.jsx(Ic,{})]})]})}var zc,Fc;function Bc({appearance:e,logo:t,socialLayout:i}){return s.jsx(_c,{appearance:e,logo:t,socialLayout:i,state:zc.Login})}function Hc({appearance:e,logo:t,socialLayout:i,additionalFields:r}){return s.jsx(_c,{appearance:e,logo:t,socialLayout:i,state:zc.Signup,additionalSignupFields:r})}function Wc({appearance:e,logo:t,socialLayout:i}){return s.jsx(_c,{appearance:e,logo:t,socialLayout:i,state:zc.ForgotPassword})}function Xc({appearance:e,logo:t,socialLayout:i}){return s.jsx(_c,{appearance:e,logo:t,socialLayout:i,state:zc.VerifyEmail})}function Yc({appearance:e,logo:t,socialLayout:i}){return s.jsx(_c,{appearance:e,logo:t,socialLayout:i,state:zc.ResetPassword})}(Fc=zc||(zc={})).Login="login",Fc.Signup="signup",Fc.ForgotPassword="forgot-password",Fc.ResetPassword="reset-password",Fc.VerifyEmail="verify-email";class Vc{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class Uc{constructor(e){this.generateIdentifier=e,this.kv=new Vc}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class qc extends Uc{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function Gc(e,t){const s=function(e){if("values"in Object)return Object.values(e);const t=[];for(const s in e)e.hasOwnProperty(s)&&t.push(e[s]);return t}(e);if("find"in s)return s.find(t);const i=s;for(let r=0;r<i.length;r++){const e=i[r];if(t(e))return e}}function $c(e,t){Object.entries(e).forEach(([e,s])=>t(s,e))}function Qc(e,t){return-1!==e.indexOf(t)}function Kc(e,t){for(let s=0;s<e.length;s++){const i=e[s];if(t(i))return i}}class Zc{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return Gc(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}const Jc=e=>void 0===e,ed=e=>"object"==typeof e&&null!==e&&(e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype)),td=e=>ed(e)&&0===Object.keys(e).length,sd=e=>Array.isArray(e),id=e=>e instanceof Map,rd=e=>e instanceof Set,ad=e=>"Symbol"===(e=>Object.prototype.toString.call(e).slice(8,-1))(e),nd=e=>"number"==typeof e&&isNaN(e),od=e=>(e=>"boolean"==typeof e)(e)||(e=>null===e)(e)||Jc(e)||(e=>"number"==typeof e&&!isNaN(e))(e)||(e=>"string"==typeof e)(e)||ad(e),ld=e=>e.replace(/\./g,"\\."),cd=e=>e.map(String).map(ld).join("."),dd=e=>{const t=[];let s="";for(let r=0;r<e.length;r++){let i=e.charAt(r);if("\\"===i&&"."===e.charAt(r+1)){s+=".",r++;continue}"."===i?(t.push(s),s=""):s+=i}const i=s;return t.push(i),t};function ud(e,t,s,i){return{isApplicable:e,annotation:t,transform:s,untransform:i}}const hd=[ud(Jc,"undefined",()=>null,()=>{}),ud(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):e),ud(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),ud(e=>e instanceof Error,"Error",(e,t)=>{const s={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{s[t]=e[t]}),s},(e,t)=>{const s=new Error(e.message);return s.name=e.name,s.stack=e.stack,t.allowedErrorProps.forEach(t=>{s[t]=e[t]}),s}),ud(e=>e instanceof RegExp,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),s=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,s)}),ud(rd,"set",e=>[...e.values()],e=>new Set(e)),ud(id,"map",e=>[...e.entries()],e=>new Map(e)),ud(e=>{return nd(e)||((t=e)===1/0||t===-1/0);var t},"number",e=>nd(e)?"NaN":e>0?"Infinity":"-Infinity",Number),ud(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),ud(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function pd(e,t,s,i){return{isApplicable:e,annotation:t,transform:s,untransform:i}}const md=pd((e,t)=>{if(ad(e)){return!!t.symbolRegistry.getIdentifier(e)}return!1},(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,s)=>{const i=s.symbolRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown symbol");return i}),fd=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),gd=pd(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const s=fd[t[1]];if(!s)throw new Error("Trying to deserialize unknown typed array");return new s(e)});function xd(e,t){if(null==e?void 0:e.constructor){return!!t.classRegistry.getIdentifier(e.constructor)}return!1}const bd=pd(xd,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const s=t.classRegistry.getAllowedProps(e.constructor);if(!s)return{...e};const i={};return s.forEach(t=>{i[t]=e[t]}),i},(e,t,s)=>{const i=s.classRegistry.getValue(t[1]);if(!i)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(i.prototype),e)}),vd=pd((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,s)=>{const i=s.customTransformerRegistry.findByName(t[1]);if(!i)throw new Error("Trying to deserialize unknown custom value");return i.deserialize(e)}),yd=[bd,md,vd,gd],wd=(e,t)=>{const s=Kc(yd,s=>s.isApplicable(e,t));if(s)return{value:s.transform(e,t),type:s.annotation(e,t)};const i=Kc(hd,s=>s.isApplicable(e,t));return i?{value:i.transform(e,t),type:i.annotation}:void 0},jd={};hd.forEach(e=>{jd[e.annotation]=e});const Nd=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const s=e.keys();for(;t>0;)s.next(),t--;return s.next().value};function kd(e){if(Qc(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Qc(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Qc(e,"constructor"))throw new Error("constructor is not allowed as a property")}const Sd=(e,t,s)=>{if(kd(t),0===t.length)return s(e);let i=e;for(let a=0;a<t.length-1;a++){const e=t[a];if(sd(i)){i=i[+e]}else if(ed(i))i=i[e];else if(rd(i)){i=Nd(i,+e)}else if(id(i)){if(a===t.length-2)break;const s=+e,r=0===+t[++a]?"key":"value",n=Nd(i,s);switch(r){case"key":i=n;break;case"value":i=i.get(n)}}}const r=t[t.length-1];if(sd(i)?i[+r]=s(i[+r]):ed(i)&&(i[r]=s(i[r])),rd(i)){const e=Nd(i,+r),t=s(e);e!==t&&(i.delete(e),i.add(t))}if(id(i)){const e=+t[t.length-2],a=Nd(i,e);switch(0===+r?"key":"value"){case"key":{const e=s(a);i.set(e,i.get(a)),e!==a&&i.delete(a);break}case"value":i.set(a,s(i.get(a)))}}return e};function Cd(e,t,s=[]){if(!e)return;if(!sd(e))return void $c(e,(e,i)=>Cd(e,t,[...s,...dd(i)]));const[i,r]=e;r&&$c(r,(e,i)=>{Cd(e,t,[...s,...dd(i)])}),t(i,s)}function Ad(e,t,s){return Cd(t,(t,i)=>{e=Sd(e,i,e=>((e,t,s)=>{if(!sd(t)){const i=jd[t];if(!i)throw new Error("Unknown transformation: "+t);return i.untransform(e,s)}switch(t[0]){case"symbol":return md.untransform(e,t,s);case"class":return bd.untransform(e,t,s);case"custom":return vd.untransform(e,t,s);case"typed-array":return gd.untransform(e,t,s);default:throw new Error("Unknown transformation: "+t)}})(e,t,s))}),e}function Td(e,t){function s(t,s){const i=((e,t)=>{kd(t);for(let s=0;s<t.length;s++){const i=t[s];if(rd(e))e=Nd(e,+i);else if(id(e)){const r=+i,a=0===+t[++s]?"key":"value",n=Nd(e,r);switch(a){case"key":e=n;break;case"value":e=e.get(n)}}else e=e[i]}return e})(e,dd(s));t.map(dd).forEach(t=>{e=Sd(e,t,()=>i)})}if(sd(t)){const[i,r]=t;i.forEach(t=>{e=Sd(e,dd(t),()=>e)}),r&&$c(r,s)}else $c(t,s);return e}const Ed=(e,t,s,i,r=[],a=[],n=new Map)=>{const o=od(e);if(!o){!function(e,t,s){const i=s.get(e);i?i.push(t):s.set(e,[t])}(e,r,t);const s=n.get(e);if(s)return i?{transformedValue:null}:s}if(!((e,t)=>ed(e)||sd(e)||id(e)||rd(e)||xd(e,t))(e,s)){const t=wd(e,s),i=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return o||n.set(e,i),i}if(Qc(a,e))return{transformedValue:null};const l=wd(e,s),c=(null==l?void 0:l.value)??e,d=sd(c)?[]:{},u={};$c(c,(o,l)=>{if("__proto__"===l||"constructor"===l||"prototype"===l)throw new Error(`Detected property ${l}. This is a prototype pollution risk, please remove it from your object.`);const c=Ed(o,t,s,i,[...r,l],[...a,e],n);d[l]=c.transformedValue,sd(c.annotations)?u[l]=c.annotations:ed(c.annotations)&&$c(c.annotations,(e,t)=>{u[ld(l)+"."+t]=e})});const h=td(u)?{transformedValue:d,annotations:l?[l.type]:void 0}:{transformedValue:d,annotations:l?[l.type,u]:u};return o||n.set(e,h),h};function Rd(e){return Object.prototype.toString.call(e).slice(8,-1)}function Pd(e){return"Array"===Rd(e)}function Id(e,t={}){if(Pd(e))return e.map(e=>Id(e,t));if(!function(e){if("Object"!==Rd(e))return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(e))return e;return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((s,i)=>{if(Pd(t.props)&&!t.props.includes(i))return s;return function(e,t,s,i,r){const a={}.propertyIsEnumerable.call(i,t)?"enumerable":"nonenumerable";"enumerable"===a&&(e[t]=s),r&&"nonenumerable"===a&&Object.defineProperty(e,t,{value:s,enumerable:!1,writable:!0,configurable:!0})}(s,i,Id(e[i],t),e,t.nonenumerable),s},{})}class Ld{constructor({dedupe:e=!1}={}){this.classRegistry=new qc,this.symbolRegistry=new Uc(e=>e.description??""),this.customTransformerRegistry=new Zc,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,s=Ed(e,t,this,this.dedupe),i={json:s.transformedValue};s.annotations&&(i.meta={...i.meta,values:s.annotations});const r=function(e,t){const s={};let i;return e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));const[r,...a]=e;0===r.length?i=a.map(cd):s[cd(r)]=a.map(cd)}),i?td(s)?[i]:[i,s]:td(s)?void 0:s}(t,this.dedupe);return r&&(i.meta={...i.meta,referentialEqualities:r}),i}deserialize(e){const{json:t,meta:s}=e;let i=Id(t);return(null==s?void 0:s.values)&&(i=Ad(i,s.values,this)),(null==s?void 0:s.referentialEqualities)&&(i=Td(i,s.referentialEqualities)),i}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Ld.defaultInstance=new Ld,Ld.serialize=Ld.defaultInstance.serialize.bind(Ld.defaultInstance),Ld.deserialize=Ld.defaultInstance.deserialize.bind(Ld.defaultInstance),Ld.stringify=Ld.defaultInstance.stringify.bind(Ld.defaultInstance),Ld.parse=Ld.defaultInstance.parse.bind(Ld.defaultInstance),Ld.registerClass=Ld.defaultInstance.registerClass.bind(Ld.defaultInstance),Ld.registerSymbol=Ld.defaultInstance.registerSymbol.bind(Ld.defaultInstance),Ld.registerCustom=Ld.defaultInstance.registerCustom.bind(Ld.defaultInstance),Ld.allowErrorProps=Ld.defaultInstance.allowErrorProps.bind(Ld.defaultInstance);const Md=Ld.serialize,Od=Ld.deserialize,Dd=Ld.registerCustom;var _d,zd,Fd,Bd,Hd,Wd={};function Xd(){if(zd)return _d;zd=1;var e,t=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(e,s)=>{for(var i in s)t(e,i,{get:s[i],enumerable:!0})},n={};a(n,{Decimal:()=>at,Public:()=>o,getRuntime:()=>N,makeStrictEnum:()=>v,objectEnumValues:()=>g}),e=n,_d=((e,a,n,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of i(a))!r.call(e,l)&&l!==n&&t(e,l,{get:()=>a[l],enumerable:!(o=s(a,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),e);var o={};function l(...e){return e=>e}a(o,{validator:()=>l});var c=Symbol(),d=new WeakMap,u=class{constructor(e){e===c?d.set(this,"Prisma.".concat(this._getName())):d.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}_getName(){return this.constructor.name}toString(){return d.get(this)}},h=class extends u{_getNamespace(){return"NullTypes"}},p=class extends h{};x(p,"DbNull");var m=class extends h{};x(m,"JsonNull");var f=class extends h{};x(f,"AnyNull");var g={classes:{DbNull:p,JsonNull:m,AnyNull:f},instances:{DbNull:new p(c),JsonNull:new m(c),AnyNull:new f(c)}};function x(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var b=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function v(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!b.has(t))throw new TypeError("Invalid enum value: ".concat(String(t)))}})}var y="Cloudflare-Workers",w="node";var j={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function N(){let e=function(){var e,t,s;return"object"==typeof Netlify?"netlify":"string"==typeof EdgeRuntime?"edge-light":(null==(e=globalThis.navigator)?void 0:e.userAgent)===y?"workerd":globalThis.Deno?"deno":globalThis.__lagon__?"lagon":(null==(s=null==(t=globalThis.process)?void 0:t.release)?void 0:s.name)===w?"node":globalThis.Bun?"bun":globalThis.fastly?"fastly":"unknown"}();return{id:e,prettyName:j[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var k,S,C=9e15,A=1e9,T="0123456789abcdef",E="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",R="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",P={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-C,maxE:C,crypto:!1},I=!0,L="[DecimalError] ",M=L+"Invalid argument: ",O=L+"Precision limit exceeded",D=L+"crypto unavailable",_="[object Decimal]",z=Math.floor,F=Math.pow,B=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,H=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,W=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,X=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Y=1e7,V=E.length-1,U=R.length-1,q={toStringTag:_};function G(e){var t,s,i,r=e.length-1,a="",n=e[0];if(r>0){for(a+=n,t=1;t<r;t++)(s=7-(i=e[t]+"").length)&&(a+=ae(s)),a+=i;(s=7-(i=(n=e[t])+"").length)&&(a+=ae(s))}else if(0===n)return"0";for(;n%10==0;)n/=10;return a+n}function $(e,t,s){if(e!==~~e||e<t||e>s)throw Error(M+e)}function Q(e,t,s,i){var r,a,n,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),a=F(10,7-t),o=e[r]%a|0,null==i?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),n=s<4&&99999==o||s>3&&49999==o||5e4==o||0==o):n=(s<4&&o+1==a||s>3&&o+1==a/2)&&(e[r+1]/a/100|0)==F(10,t-2)-1||(o==a/2||0==o)&&!(e[r+1]/a/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),n=(i||s<4)&&9999==o||!i&&s>3&&4999==o):n=((i||s<4)&&o+1==a||!i&&s>3&&o+1==a/2)&&(e[r+1]/a/1e3|0)==F(10,t-3)-1,n}function K(e,t,s){for(var i,r,a=[0],n=0,o=e.length;n<o;){for(r=a.length;r--;)a[r]*=t;for(a[0]+=T.indexOf(e.charAt(n++)),i=0;i<a.length;i++)a[i]>s-1&&(void 0===a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/s|0,a[i]%=s)}return a.reverse()}q.absoluteValue=q.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),J(e)},q.ceil=function(){return J(new this.constructor(this),this.e+1,2)},q.clampedTo=q.clamp=function(e,t){var s=this,i=s.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(M+t);return s.cmp(e)<0?e:s.cmp(t)>0?t:new i(s)},q.comparedTo=q.cmp=function(e){var t,s,i,r,a=this,n=a.d,o=(e=new a.constructor(e)).d,l=a.s,c=e.s;if(!n||!o)return l&&c?l!==c?l:n===o?0:!n^l<0?1:-1:NaN;if(!n[0]||!o[0])return n[0]?l:o[0]?-c:0;if(l!==c)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(t=0,s=(i=n.length)<(r=o.length)?i:r;t<s;++t)if(n[t]!==o[t])return n[t]>o[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},q.cosine=q.cos=function(){var e,t,s=this,i=s.constructor;return s.d?s.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(s.e,s.sd())+7,i.rounding=1,s=function(e,t){var s,i,r;if(t.isZero())return t;i=t.d.length,i<32?(s=Math.ceil(i/3),r=(1/me(4,s)).toString()):(s=16,r="2.3283064365386962890625e-10"),e.precision+=s,t=pe(e,1,t.times(r),new e(1));for(var a=s;a--;){var n=t.times(t);t=n.times(n).minus(n).times(8).plus(1)}return e.precision-=s,t}(i,fe(i,s)),i.precision=e,i.rounding=t,J(2==S||3==S?s.neg():s,e,t,!0)):new i(1):new i(NaN)},q.cubeRoot=q.cbrt=function(){var e,t,s,i,r,a,n,o,l,c,d=this,u=d.constructor;if(!d.isFinite()||d.isZero())return new u(d);for(I=!1,(a=d.s*F(d.s*d,1/3))&&Math.abs(a)!=1/0?i=new u(a.toString()):(s=G(d.d),(a=((e=d.e)-s.length+1)%3)&&(s+=1==a||-2==a?"0":"00"),a=F(s,1/3),e=z((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?s="5e"+e:s=(s=a.toExponential()).slice(0,s.indexOf("e")+1)+e,(i=new u(s)).s=d.s),n=(e=u.precision)+3;;)if(c=(l=(o=i).times(o).times(o)).plus(d),i=Z(c.plus(d).times(o),c.plus(l),n+2,1),G(o.d).slice(0,n)===(s=G(i.d)).slice(0,n)){if("9999"!=(s=s.slice(n-3,n+1))&&(r||"4999"!=s)){(!+s||!+s.slice(1)&&"5"==s.charAt(0))&&(J(i,e+1,1),t=!i.times(i).times(i).eq(d));break}if(!r&&(J(o,e+1,0),o.times(o).times(o).eq(d))){i=o;break}n+=4,r=1}return I=!0,J(i,e,u.rounding,t)},q.decimalPlaces=q.dp=function(){var e,t=this.d,s=NaN;if(t){if(s=7*((e=t.length-1)-z(this.e/7)),e=t[e])for(;e%10==0;e/=10)s--;s<0&&(s=0)}return s},q.dividedBy=q.div=function(e){return Z(this,new this.constructor(e))},q.dividedToIntegerBy=q.divToInt=function(e){var t=this.constructor;return J(Z(this,new t(e),0,1,1),t.precision,t.rounding)},q.equals=q.eq=function(e){return 0===this.cmp(e)},q.floor=function(){return J(new this.constructor(this),this.e+1,3)},q.greaterThan=q.gt=function(e){return this.cmp(e)>0},q.greaterThanOrEqualTo=q.gte=function(e){var t=this.cmp(e);return 1==t||0===t},q.hyperbolicCosine=q.cosh=function(){var e,t,s,i,r,a=this,n=a.constructor,o=new n(1);if(!a.isFinite())return new n(a.s?1/0:NaN);if(a.isZero())return o;s=n.precision,i=n.rounding,n.precision=s+Math.max(a.e,a.sd())+4,n.rounding=1,(r=a.d.length)<32?t=(1/me(4,e=Math.ceil(r/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=pe(n,1,a.times(t),new n(1),!0);for(var l,c=e,d=new n(8);c--;)l=a.times(a),a=o.minus(l.times(d.minus(l.times(d))));return J(a,n.precision=s,n.rounding=i,!0)},q.hyperbolicSine=q.sinh=function(){var e,t,s,i,r=this,a=r.constructor;if(!r.isFinite()||r.isZero())return new a(r);if(t=a.precision,s=a.rounding,a.precision=t+Math.max(r.e,r.sd())+4,a.rounding=1,(i=r.d.length)<3)r=pe(a,2,r,r,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,r=pe(a,2,r=r.times(1/me(5,e)),r,!0);for(var n,o=new a(5),l=new a(16),c=new a(20);e--;)n=r.times(r),r=r.times(o.plus(n.times(l.times(n).plus(c))))}return a.precision=t,a.rounding=s,J(r,t,s,!0)},q.hyperbolicTangent=q.tanh=function(){var e,t,s=this,i=s.constructor;return s.isFinite()?s.isZero()?new i(s):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,Z(s.sinh(),s.cosh(),i.precision=e,i.rounding=t)):new i(s.s)},q.inverseCosine=q.acos=function(){var e,t=this,s=t.constructor,i=t.abs().cmp(1),r=s.precision,a=s.rounding;return-1!==i?0===i?t.isNeg()?ie(s,r,a):new s(0):new s(NaN):t.isZero()?ie(s,r+4,a).times(.5):(s.precision=r+6,s.rounding=1,t=t.asin(),e=ie(s,r+4,a).times(.5),s.precision=r,s.rounding=a,e.minus(t))},q.inverseHyperbolicCosine=q.acosh=function(){var e,t,s=this,i=s.constructor;return s.lte(1)?new i(s.eq(1)?0:NaN):s.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(s.e),s.sd())+4,i.rounding=1,I=!1,s=s.times(s).minus(1).sqrt().plus(s),I=!0,i.precision=e,i.rounding=t,s.ln()):new i(s)},q.inverseHyperbolicSine=q.asinh=function(){var e,t,s=this,i=s.constructor;return!s.isFinite()||s.isZero()?new i(s):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(s.e),s.sd())+6,i.rounding=1,I=!1,s=s.times(s).plus(1).sqrt().plus(s),I=!0,i.precision=e,i.rounding=t,s.ln())},q.inverseHyperbolicTangent=q.atanh=function(){var e,t,s,i,r=this,a=r.constructor;return r.isFinite()?r.e>=0?new a(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=a.precision,t=a.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?J(new a(r),e,t,!0):(a.precision=s=i-r.e,r=Z(r.plus(1),new a(1).minus(r),s+e,1),a.precision=e+4,a.rounding=1,r=r.ln(),a.precision=e,a.rounding=t,r.times(.5))):new a(NaN)},q.inverseSine=q.asin=function(){var e,t,s,i,r=this,a=r.constructor;return r.isZero()?new a(r):(t=r.abs().cmp(1),s=a.precision,i=a.rounding,-1!==t?0===t?((e=ie(a,s+4,i).times(.5)).s=r.s,e):new a(NaN):(a.precision=s+6,a.rounding=1,r=r.div(new a(1).minus(r.times(r)).sqrt().plus(1)).atan(),a.precision=s,a.rounding=i,r.times(2)))},q.inverseTangent=q.atan=function(){var e,t,s,i,r,a,n,o,l,c=this,d=c.constructor,u=d.precision,h=d.rounding;if(c.isFinite()){if(c.isZero())return new d(c);if(c.abs().eq(1)&&u+4<=U)return(n=ie(d,u+4,h).times(.25)).s=c.s,n}else{if(!c.s)return new d(NaN);if(u+4<=U)return(n=ie(d,u+4,h).times(.5)).s=c.s,n}for(d.precision=o=u+10,d.rounding=1,e=s=Math.min(28,o/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(I=!1,t=Math.ceil(o/7),i=1,l=c.times(c),n=new d(c),r=c;-1!==e;)if(r=r.times(l),a=n.minus(r.div(i+=2)),r=r.times(l),void 0!==(n=a.plus(r.div(i+=2))).d[t])for(e=t;n.d[e]===a.d[e]&&e--;);return s&&(n=n.times(2<<s-1)),I=!0,J(n,d.precision=u,d.rounding=h,!0)},q.isFinite=function(){return!!this.d},q.isInteger=q.isInt=function(){return!!this.d&&z(this.e/7)>this.d.length-2},q.isNaN=function(){return!this.s},q.isNegative=q.isNeg=function(){return this.s<0},q.isPositive=q.isPos=function(){return this.s>0},q.isZero=function(){return!!this.d&&0===this.d[0]},q.lessThan=q.lt=function(e){return this.cmp(e)<0},q.lessThanOrEqualTo=q.lte=function(e){return this.cmp(e)<1},q.logarithm=q.log=function(e){var t,s,i,r,a,n,o,l,c=this,d=c.constructor,u=d.precision,h=d.rounding;if(null==e)e=new d(10),t=!0;else{if(s=(e=new d(e)).d,e.s<0||!s||!s[0]||e.eq(1))return new d(NaN);t=e.eq(10)}if(s=c.d,c.s<0||!s||!s[0]||c.eq(1))return new d(s&&!s[0]?-1/0:1!=c.s?NaN:s?0:1/0);if(t)if(s.length>1)a=!0;else{for(r=s[0];r%10==0;)r/=10;a=1!==r}if(I=!1,n=de(c,o=u+5),i=t?se(d,o+10):de(e,o),Q((l=Z(n,i,o,1)).d,r=u,h))do{if(n=de(c,o+=10),i=t?se(d,o+10):de(e,o),l=Z(n,i,o,1),!a){+G(l.d).slice(r+1,r+15)+1==1e14&&(l=J(l,u+1,0));break}}while(Q(l.d,r+=10,h));return I=!0,J(l,u,h)},q.minus=q.sub=function(e){var t,s,i,r,a,n,o,l,c,d,u,h,p=this,m=p.constructor;if(e=new m(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new m(e.d||p.s!==e.s?p:NaN):e=new m(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,h=e.d,o=m.precision,l=m.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new m(3===l?-0:0);e=new m(p)}return I?J(e,o,l):e}if(s=z(e.e/7),d=z(p.e/7),c=c.slice(),a=d-s){for((u=a<0)?(t=c,a=-a,n=h.length):(t=h,s=d,n=c.length),a>(i=Math.max(Math.ceil(o/7),n)+2)&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for((u=(i=c.length)<(n=h.length))&&(n=i),i=0;i<n;i++)if(c[i]!=h[i]){u=c[i]<h[i];break}a=0}for(u&&(t=c,c=h,h=t,e.s=-e.s),n=c.length,i=h.length-n;i>0;--i)c[n++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(r=i;r&&0===c[--r];)c[r]=Y-1;--c[r],c[i]+=Y}c[i]-=h[i]}for(;0===c[--n];)c.pop();for(;0===c[0];c.shift())--s;return c[0]?(e.d=c,e.e=te(c,s),I?J(e,o,l):e):new m(3===l?-0:0)},q.modulo=q.mod=function(e){var t,s=this,i=s.constructor;return e=new i(e),!s.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||s.d&&!s.d[0]?J(new i(s),i.precision,i.rounding):(I=!1,9==i.modulo?(t=Z(s,e.abs(),0,3,1)).s*=e.s:t=Z(s,e,0,i.modulo,1),t=t.times(e),I=!0,s.minus(t))},q.naturalExponential=q.exp=function(){return ce(this)},q.naturalLogarithm=q.ln=function(){return de(this)},q.negated=q.neg=function(){var e=new this.constructor(this);return e.s=-e.s,J(e)},q.plus=q.add=function(e){var t,s,i,r,a,n,o,l,c,d,u=this,h=u.constructor;if(e=new h(e),!u.d||!e.d)return u.s&&e.s?u.d||(e=new h(e.d||u.s===e.s?u:NaN)):e=new h(NaN),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(c=u.d,d=e.d,o=h.precision,l=h.rounding,!c[0]||!d[0])return d[0]||(e=new h(u)),I?J(e,o,l):e;if(a=z(u.e/7),i=z(e.e/7),c=c.slice(),r=a-i){for(r<0?(s=c,r=-r,n=d.length):(s=d,i=a,n=c.length),r>(n=(a=Math.ceil(o/7))>n?a+1:n+1)&&(r=n,s.length=1),s.reverse();r--;)s.push(0);s.reverse()}for((n=c.length)-(r=d.length)<0&&(r=n,s=d,d=c,c=s),t=0;r;)t=(c[--r]=c[r]+d[r]+t)/Y|0,c[r]%=Y;for(t&&(c.unshift(t),++i),n=c.length;0==c[--n];)c.pop();return e.d=c,e.e=te(c,i),I?J(e,o,l):e},q.precision=q.sd=function(e){var t,s=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(M+e);return s.d?(t=re(s.d),e&&s.e+1>t&&(t=s.e+1)):t=NaN,t},q.round=function(){var e=this,t=e.constructor;return J(new t(e),e.e+1,t.rounding)},q.sine=q.sin=function(){var e,t,s=this,i=s.constructor;return s.isFinite()?s.isZero()?new i(s):(e=i.precision,t=i.rounding,i.precision=e+Math.max(s.e,s.sd())+7,i.rounding=1,s=function(e,t){var s,i=t.d.length;if(i<3)return t.isZero()?t:pe(e,2,t,t);s=1.4*Math.sqrt(i),s=s>16?16:0|s,t=t.times(1/me(5,s)),t=pe(e,2,t,t);for(var r,a=new e(5),n=new e(16),o=new e(20);s--;)r=t.times(t),t=t.times(a.plus(r.times(n.times(r).minus(o))));return t}(i,fe(i,s)),i.precision=e,i.rounding=t,J(S>2?s.neg():s,e,t,!0)):new i(NaN)},q.squareRoot=q.sqrt=function(){var e,t,s,i,r,a,n=this,o=n.d,l=n.e,c=n.s,d=n.constructor;if(1!==c||!o||!o[0])return new d(!c||c<0&&(!o||o[0])?NaN:o?n:1/0);for(I=!1,0==(c=Math.sqrt(+n))||c==1/0?(((t=G(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=z((l+1)/2)-(l<0||l%2),c==1/0?t="5e"+l:t=(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l,i=new d(t)):i=new d(c.toString()),s=(l=d.precision)+3;;)if(i=(a=i).plus(Z(n,a,s+2,1)).times(.5),G(a.d).slice(0,s)===(t=G(i.d)).slice(0,s)){if("9999"!=(t=t.slice(s-3,s+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(J(i,l+1,1),e=!i.times(i).eq(n));break}if(!r&&(J(a,l+1,0),a.times(a).eq(n))){i=a;break}s+=4,r=1}return I=!0,J(i,l,d.rounding,e)},q.tangent=q.tan=function(){var e,t,s=this,i=s.constructor;return s.isFinite()?s.isZero()?new i(s):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(s=s.sin()).s=1,s=Z(s,new i(1).minus(s.times(s)).sqrt(),e+10,0),i.precision=e,i.rounding=t,J(2==S||4==S?s.neg():s,e,t,!0)):new i(NaN)},q.times=q.mul=function(e){var t,s,i,r,a,n,o,l,c,d=this,u=d.constructor,h=d.d,p=(e=new u(e)).d;if(e.s*=d.s,!(h&&h[0]&&p&&p[0]))return new u(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*e.s:e.s/0);for(s=z(d.e/7)+z(e.e/7),(l=h.length)<(c=p.length)&&(a=h,h=p,p=a,n=l,l=c,c=n),a=[],i=n=l+c;i--;)a.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)o=a[r]+p[i]*h[r-i-1]+t,a[r--]=o%Y|0,t=o/Y|0;a[r]=(a[r]+t)%Y|0}for(;!a[--n];)a.pop();return t?++s:a.shift(),e.d=a,e.e=te(a,s),I?J(e,u.precision,u.rounding):e},q.toBinary=function(e,t){return ge(this,2,e,t)},q.toDecimalPlaces=q.toDP=function(e,t){var s=this,i=s.constructor;return s=new i(s),void 0===e?s:($(e,0,A),void 0===t?t=i.rounding:$(t,0,8),J(s,e+s.e+1,t))},q.toExponential=function(e,t){var s,i=this,r=i.constructor;return void 0===e?s=ee(i,!0):($(e,0,A),void 0===t?t=r.rounding:$(t,0,8),s=ee(i=J(new r(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+s:s},q.toFixed=function(e,t){var s,i,r=this,a=r.constructor;return void 0===e?s=ee(r):($(e,0,A),void 0===t?t=a.rounding:$(t,0,8),s=ee(i=J(new a(r),e+r.e+1,t),!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+s:s},q.toFraction=function(e){var t,s,i,r,a,n,o,l,c,d,u,h,p=this,m=p.d,f=p.constructor;if(!m)return new f(p);if(c=s=new f(1),i=l=new f(0),n=(a=(t=new f(i)).e=re(m)-p.e-1)%7,t.d[0]=F(10,n<0?7+n:n),null==e)e=a>0?t:c;else{if(!(o=new f(e)).isInt()||o.lt(c))throw Error(M+o);e=o.gt(t)?a>0?t:c:o}for(I=!1,o=new f(G(m)),d=f.precision,f.precision=a=7*m.length*2;u=Z(o,t,0,1,1),1!=(r=s.plus(u.times(i))).cmp(e);)s=i,i=r,r=c,c=l.plus(u.times(r)),l=r,r=t,t=o.minus(u.times(r)),o=r;return r=Z(e.minus(s),i,0,1,1),l=l.plus(r.times(c)),s=s.plus(r.times(i)),l.s=c.s=p.s,h=Z(c,i,a,1).minus(p).abs().cmp(Z(l,s,a,1).minus(p).abs())<1?[c,i]:[l,s],f.precision=d,I=!0,h},q.toHexadecimal=q.toHex=function(e,t){return ge(this,16,e,t)},q.toNearest=function(e,t){var s=this,i=s.constructor;if(s=new i(s),null==e){if(!s.d)return s;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:$(t,0,8),!s.d)return e.s?s:e;if(!e.d)return e.s&&(e.s=s.s),e}return e.d[0]?(I=!1,s=Z(s,e,0,t,1).times(e),I=!0,J(s)):(e.s=s.s,s=e),s},q.toNumber=function(){return+this},q.toOctal=function(e,t){return ge(this,8,e,t)},q.toPower=q.pow=function(e){var t,s,i,r,a,n,o=this,l=o.constructor,c=+(e=new l(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new l(F(+o,c));if((o=new l(o)).eq(1))return o;if(i=l.precision,a=l.rounding,e.eq(1))return J(o,i,a);if((t=z(e.e/7))>=e.d.length-1&&(s=c<0?-c:c)<=9007199254740991)return r=ne(l,o,s,i),e.s<0?new l(1).div(r):J(r,i,a);if((n=o.s)<0){if(t<e.d.length-1)return new l(NaN);if(1&e.d[t]||(n=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=n,o}return(t=0!=(s=F(+o,c))&&isFinite(s)?new l(s+"").e:z(c*(Math.log("0."+G(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?n/0:0):(I=!1,l.rounding=o.s=1,s=Math.min(12,(t+"").length),(r=ce(e.times(de(o,i+s)),i)).d&&(Q((r=J(r,i+5,1)).d,i,a)&&(t=i+10,+G((r=J(ce(e.times(de(o,t+s)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=J(r,i+1,0)))),r.s=n,I=!0,l.rounding=a,J(r,i,a))},q.toPrecision=function(e,t){var s,i=this,r=i.constructor;return void 0===e?s=ee(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):($(e,1,A),void 0===t?t=r.rounding:$(t,0,8),s=ee(i=J(new r(i),e,t),e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+s:s},q.toSignificantDigits=q.toSD=function(e,t){var s=this.constructor;return void 0===e?(e=s.precision,t=s.rounding):($(e,1,A),void 0===t?t=s.rounding:$(t,0,8)),J(new s(this),e,t)},q.toString=function(){var e=this,t=e.constructor,s=ee(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+s:s},q.truncated=q.trunc=function(){return J(new this.constructor(this),this.e+1,1)},q.valueOf=q.toJSON=function(){var e=this,t=e.constructor,s=ee(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+s:s};var Z=function(){function e(e,t,s){var i,r=0,a=e.length;for(e=e.slice();a--;)i=e[a]*t+r,e[a]=i%s|0,r=i/s|0;return r&&e.unshift(r),e}function t(e,t,s,i){var r,a;if(s!=i)a=s>i?1:-1;else for(r=a=0;r<s;r++)if(e[r]!=t[r]){a=e[r]>t[r]?1:-1;break}return a}function s(e,t,s,i){for(var r=0;s--;)e[s]-=r,r=e[s]<t[s]?1:0,e[s]=r*i+e[s]-t[s];for(;!e[0]&&e.length>1;)e.shift()}return function(i,r,a,n,o,l){var c,d,u,h,p,m,f,g,x,b,v,y,w,j,N,S,C,A,T,E,R=i.constructor,P=i.s==r.s?1:-1,I=i.d,L=r.d;if(!(I&&I[0]&&L&&L[0]))return new R(i.s&&r.s&&(I?!L||I[0]!=L[0]:L)?I&&0==I[0]||!L?0*P:P/0:NaN);for(l?(p=1,d=i.e-r.e):(l=Y,p=7,d=z(i.e/p)-z(r.e/p)),T=L.length,C=I.length,b=(x=new R(P)).d=[],u=0;L[u]==(I[u]||0);u++);if(L[u]>(I[u]||0)&&d--,null==a?(j=a=R.precision,n=R.rounding):j=o?a+(i.e-r.e)+1:a,j<0)b.push(1),m=!0;else{if(j=j/p+2|0,u=0,1==T){for(h=0,L=L[0],j++;(u<C||h)&&j--;u++)N=h*l+(I[u]||0),b[u]=N/L|0,h=N%L|0;m=h||u<C}else{for((h=l/(L[0]+1)|0)>1&&(L=e(L,h,l),I=e(I,h,l),T=L.length,C=I.length),S=T,y=(v=I.slice(0,T)).length;y<T;)v[y++]=0;(E=L.slice()).unshift(0),A=L[0],L[1]>=l/2&&++A;do{h=0,(c=t(L,v,T,y))<0?(w=v[0],T!=y&&(w=w*l+(v[1]||0)),(h=w/A|0)>1?(h>=l&&(h=l-1),1==(c=t(f=e(L,h,l),v,g=f.length,y=v.length))&&(h--,s(f,T<g?E:L,g,l))):(0==h&&(c=h=1),f=L.slice()),(g=f.length)<y&&f.unshift(0),s(v,f,y,l),-1==c&&((c=t(L,v,T,y=v.length))<1&&(h++,s(v,T<y?E:L,y,l))),y=v.length):0===c&&(h++,v=[0]),b[u++]=h,c&&v[0]?v[y++]=I[S]||0:(v=[I[S]],y=1)}while((S++<C||void 0!==v[0])&&j--);m=void 0!==v[0]}b[0]||b.shift()}if(1==p)x.e=d,k=m;else{for(u=1,h=b[0];h>=10;h/=10)u++;x.e=u+d*p-1,J(x,o?a+x.e+1:a,n,m)}return x}}();function J(e,t,s,i){var r,a,n,o,l,c,d,u,h,p=e.constructor;e:if(null!=t){if(!(u=e.d))return e;for(r=1,o=u[0];o>=10;o/=10)r++;if((a=t-r)<0)a+=7,n=t,l=(d=u[h=0])/F(10,r-n-1)%10|0;else if((h=Math.ceil((a+1)/7))>=(o=u.length)){if(!i)break e;for(;o++<=h;)u.push(0);d=l=0,r=1,n=(a%=7)-7+1}else{for(d=o=u[h],r=1;o>=10;o/=10)r++;l=(n=(a%=7)-7+r)<0?0:d/F(10,r-n-1)%10|0}if(i=i||t<0||void 0!==u[h+1]||(n<0?d:d%F(10,r-n-1)),c=s<4?(l||i)&&(0==s||s==(e.s<0?3:2)):l>5||5==l&&(4==s||i||6==s&&(a>0?n>0?d/F(10,r-n):0:u[h-1])%10&1||s==(e.s<0?8:7)),t<1||!u[0])return u.length=0,c?(t-=e.e+1,u[0]=F(10,(7-t%7)%7),e.e=-t||0):u[0]=e.e=0,e;if(0==a?(u.length=h,o=1,h--):(u.length=h+1,o=F(10,7-a),u[h]=n>0?(d/F(10,r-n)%F(10,n)|0)*o:0),c)for(;;){if(0==h){for(a=1,n=u[0];n>=10;n/=10)a++;for(n=u[0]+=o,o=1;n>=10;n/=10)o++;a!=o&&(e.e++,u[0]==Y&&(u[0]=1));break}if(u[h]+=o,u[h]!=Y)break;u[h--]=0,o=1}for(a=u.length;0===u[--a];)u.pop()}return I&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function ee(e,t,s){if(!e.isFinite())return ue(e);var i,r=e.e,a=G(e.d),n=a.length;return t?(s&&(i=s-n)>0?a=a.charAt(0)+"."+a.slice(1)+ae(i):n>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):r<0?(a="0."+ae(-r-1)+a,s&&(i=s-n)>0&&(a+=ae(i))):r>=n?(a+=ae(r+1-n),s&&(i=s-r-1)>0&&(a=a+"."+ae(i))):((i=r+1)<n&&(a=a.slice(0,i)+"."+a.slice(i)),s&&(i=s-n)>0&&(r+1===n&&(a+="."),a+=ae(i))),a}function te(e,t){var s=e[0];for(t*=7;s>=10;s/=10)t++;return t}function se(e,t,s){if(t>V)throw I=!0,s&&(e.precision=s),Error(O);return J(new e(E),t,1,!0)}function ie(e,t,s){if(t>U)throw Error(O);return J(new e(R),t,s,!0)}function re(e){var t=e.length-1,s=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)s--;for(t=e[0];t>=10;t/=10)s++}return s}function ae(e){for(var t="";e--;)t+="0";return t}function ne(e,t,s,i){var r,a=new e(1),n=Math.ceil(i/7+4);for(I=!1;;){if(s%2&&(xe((a=a.times(t)).d,n)&&(r=!0)),0===(s=z(s/2))){s=a.d.length-1,r&&0===a.d[s]&&++a.d[s];break}xe((t=t.times(t)).d,n)}return I=!0,a}function oe(e){return 1&e.d[e.d.length-1]}function le(e,t,s){for(var i,r=new e(t[0]),a=0;++a<t.length;){if(!(i=new e(t[a])).s){r=i;break}r[s](i)&&(r=i)}return r}function ce(e,t){var s,i,r,a,n,o,l,c=0,d=0,u=0,h=e.constructor,p=h.rounding,m=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(I=!1,l=m):l=t,o=new h(.03125);e.e>-2;)e=e.times(o),u+=5;for(l+=i=Math.log(F(2,u))/Math.LN10*2+5|0,s=a=n=new h(1),h.precision=l;;){if(a=J(a.times(e),l,1),s=s.times(++d),G((o=n.plus(Z(a,s,l,1))).d).slice(0,l)===G(n.d).slice(0,l)){for(r=u;r--;)n=J(n.times(n),l,1);if(null!=t)return h.precision=m,n;if(!(c<3&&Q(n.d,l-i,p,c)))return J(n,h.precision=m,p,I=!0);h.precision=l+=10,s=a=o=new h(1),d=0,c++}n=o}}function de(e,t){var s,i,r,a,n,o,l,c,d,u,h,p=1,m=e,f=m.d,g=m.constructor,x=g.rounding,b=g.precision;if(m.s<0||!f||!f[0]||!m.e&&1==f[0]&&1==f.length)return new g(f&&!f[0]?-1/0:1!=m.s?NaN:f?0:m);if(null==t?(I=!1,d=b):d=t,g.precision=d+=10,i=(s=G(f)).charAt(0),!(Math.abs(a=m.e)<15e14))return c=se(g,d+2,b).times(a+""),m=de(new g(i+"."+s.slice(1)),d-10).plus(c),g.precision=b,null==t?J(m,b,x,I=!0):m;for(;i<7&&1!=i||1==i&&s.charAt(1)>3;)i=(s=G((m=m.times(e)).d)).charAt(0),p++;for(a=m.e,i>1?(m=new g("0."+s),a++):m=new g(i+"."+s.slice(1)),u=m,l=n=m=Z(m.minus(1),m.plus(1),d,1),h=J(m.times(m),d,1),r=3;;){if(n=J(n.times(h),d,1),G((c=l.plus(Z(n,new g(r),d,1))).d).slice(0,d)===G(l.d).slice(0,d)){if(l=l.times(2),0!==a&&(l=l.plus(se(g,d+2,b).times(a+""))),l=Z(l,new g(p),d,1),null!=t)return g.precision=b,l;if(!Q(l.d,d-10,x,o))return J(l,g.precision=b,x,I=!0);g.precision=d+=10,c=n=m=Z(u.minus(1),u.plus(1),d,1),h=J(m.times(m),d,1),r=o=1}l=c,r+=2}}function ue(e){return String(e.s*e.s/0)}function he(e,t){var s,i,r;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(s<0&&(s=i),s+=+t.slice(i+1),t=t.substring(0,i)):s<0&&(s=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,e.e=s=s-i-1,e.d=[],i=(s+1)%7,s<0&&(i+=7),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=7;i<r;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";e.d.push(+t),I&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function pe(e,t,s,i,r){var a,n,o,l,c=e.precision,d=Math.ceil(c/7);for(I=!1,l=s.times(s),o=new e(i);;){if(n=Z(o.times(l),new e(t++*t++),c,1),o=r?i.plus(n):i.minus(n),i=Z(n.times(l),new e(t++*t++),c,1),void 0!==(n=o.plus(i)).d[d]){for(a=d;n.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=i,i=n,n=a}return I=!0,n.d.length=d+1,n}function me(e,t){for(var s=e;--t;)s*=e;return s}function fe(e,t){var s,i=t.s<0,r=ie(e,e.precision,1),a=r.times(.5);if((t=t.abs()).lte(a))return S=i?4:1,t;if((s=t.divToInt(r)).isZero())S=i?3:2;else{if((t=t.minus(s.times(r))).lte(a))return S=oe(s)?i?2:3:i?4:1,t;S=oe(s)?i?1:4:i?3:2}return t.minus(r).abs()}function ge(e,t,s,i){var r,a,n,o,l,c,d,u,h,p=e.constructor,m=void 0!==s;if(m?($(s,1,A),void 0===i?i=p.rounding:$(i,0,8)):(s=p.precision,i=p.rounding),e.isFinite()){for(m?(r=2,16==t?s=4*s-3:8==t&&(s=3*s-2)):r=t,(n=(d=ee(e)).indexOf("."))>=0&&(d=d.replace(".",""),(h=new p(1)).e=d.length-n,h.d=K(ee(h),10,r),h.e=h.d.length),a=l=(u=K(d,10,r)).length;0==u[--l];)u.pop();if(u[0]){if(n<0?a--:((e=new p(e)).d=u,e.e=a,u=(e=Z(e,h,s,i,0,r)).d,a=e.e,c=k),n=u[s],o=r/2,c=c||void 0!==u[s+1],c=i<4?(void 0!==n||c)&&(0===i||i===(e.s<0?3:2)):n>o||n===o&&(4===i||c||6===i&&1&u[s-1]||i===(e.s<0?8:7)),u.length=s,c)for(;++u[--s]>r-1;)u[s]=0,s||(++a,u.unshift(1));for(l=u.length;!u[l-1];--l);for(n=0,d="";n<l;n++)d+=T.charAt(u[n]);if(m){if(l>1)if(16==t||8==t){for(n=16==t?4:3,--l;l%n;l++)d+="0";for(l=(u=K(d,r,t)).length;!u[l-1];--l);for(n=1,d="1.";n<l;n++)d+=T.charAt(u[n])}else d=d.charAt(0)+"."+d.slice(1);d=d+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)d="0"+d;d="0."+d}else if(++a>l)for(a-=l;a--;)d+="0";else a<l&&(d=d.slice(0,a)+"."+d.slice(a))}else d=m?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=ue(e);return e.s<0?"-"+d:d}function xe(e,t){if(e.length>t)return e.length=t,!0}function be(e){return new this(e).abs()}function ve(e){return new this(e).acos()}function ye(e){return new this(e).acosh()}function we(e,t){return new this(e).plus(t)}function je(e){return new this(e).asin()}function Ne(e){return new this(e).asinh()}function ke(e){return new this(e).atan()}function Se(e){return new this(e).atanh()}function Ce(e,t){e=new this(e),t=new this(t);var s,i=this.precision,r=this.rounding,a=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(s=t.s<0?ie(this,i,r):new this(0)).s=e.s:!e.d||t.isZero()?(s=ie(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,s=this.atan(Z(e,t,a,1)),t=ie(this,a,1),this.precision=i,this.rounding=r,s=e.s<0?s.minus(t):s.plus(t)):s=this.atan(Z(e,t,a,1)):(s=ie(this,a,1).times(t.s>0?.25:.75)).s=e.s:s=new this(NaN),s}function Ae(e){return new this(e).cbrt()}function Te(e){return J(e=new this(e),e.e+1,2)}function Ee(e,t,s){return new this(e).clamp(t,s)}function Re(e){if(!e||"object"!=typeof e)throw Error(L+"Object expected");var t,s,i,r=!0===e.defaults,a=["precision",1,A,"rounding",0,8,"toExpNeg",-C,0,"toExpPos",0,C,"maxE",0,C,"minE",-C,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(s=a[t],r&&(this[s]=P[s]),void 0!==(i=e[s])){if(!(z(i)===i&&i>=a[t+1]&&i<=a[t+2]))throw Error(M+s+": "+i);this[s]=i}if(s="crypto",r&&(this[s]=P[s]),void 0!==(i=e[s])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(M+s+": "+i);if(i){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(D);this[s]=!0}else this[s]=!1}return this}function Pe(e){return new this(e).cos()}function Ie(e){return new this(e).cosh()}function Le(e,t){return new this(e).div(t)}function Me(e){return new this(e).exp()}function Oe(e){return J(e=new this(e),e.e+1,3)}function De(){var e,t,s=new this(0);for(I=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)s.d&&(s=s.plus(t.times(t)));else{if(t.s)return I=!0,new this(1/0);s=t}return I=!0,s.sqrt()}function _e(e){return e instanceof rt||e&&e.toStringTag===_||!1}function ze(e){return new this(e).ln()}function Fe(e,t){return new this(e).log(t)}function Be(e){return new this(e).log(2)}function He(e){return new this(e).log(10)}function We(){return le(this,arguments,"lt")}function Xe(){return le(this,arguments,"gt")}function Ye(e,t){return new this(e).mod(t)}function Ve(e,t){return new this(e).mul(t)}function Ue(e,t){return new this(e).pow(t)}function qe(e){var t,s,i,r,a=0,n=new this(1),o=[];if(void 0===e?e=this.precision:$(e,1,A),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)(r=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=r%1e7;else{if(!crypto.randomBytes)throw Error(D);for(t=crypto.randomBytes(i*=4);a<i;)(r=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(r%1e7),a+=4);a=i/4}else for(;a<i;)o[a++]=1e7*Math.random()|0;for(e%=7,(i=o[--a])&&e&&(r=F(10,7-e),o[a]=(i/r|0)*r);0===o[a];a--)o.pop();if(a<0)s=0,o=[0];else{for(s=-1;0===o[0];s-=7)o.shift();for(i=1,r=o[0];r>=10;r/=10)i++;i<7&&(s-=7-i)}return n.e=s,n.d=o,n}function Ge(e){return J(e=new this(e),e.e+1,this.rounding)}function $e(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Qe(e){return new this(e).sin()}function Ke(e){return new this(e).sinh()}function Ze(e){return new this(e).sqrt()}function Je(e,t){return new this(e).sub(t)}function et(){var e=0,t=arguments,s=new this(t[e]);for(I=!1;s.s&&++e<t.length;)s=s.plus(t[e]);return I=!0,J(s,this.precision,this.rounding)}function tt(e){return new this(e).tan()}function st(e){return new this(e).tanh()}function it(e){return J(e=new this(e),e.e+1,1)}q[Symbol.for("nodejs.util.inspect.custom")]=q.toString,q[Symbol.toStringTag]="Decimal";var rt=q.constructor=function e(t){var s,i,r;function a(e){var t,s,i,r=this;if(!(r instanceof a))return new a(e);if(r.constructor=a,_e(e))return r.s=e.s,void(I?!e.d||e.e>a.maxE?(r.e=NaN,r.d=null):e.e<a.minE?(r.e=0,r.d=[0]):(r.e=e.e,r.d=e.d.slice()):(r.e=e.e,r.d=e.d?e.d.slice():e.d));if("number"===(i=typeof e)){if(0===e)return r.s=1/e<0?-1:1,r.e=0,void(r.d=[0]);if(e<0?(e=-e,r.s=-1):r.s=1,e===~~e&&e<1e7){for(t=0,s=e;s>=10;s/=10)t++;return void(I?t>a.maxE?(r.e=NaN,r.d=null):t<a.minE?(r.e=0,r.d=[0]):(r.e=t,r.d=[e]):(r.e=t,r.d=[e]))}return 0*e!=0?(e||(r.s=NaN),r.e=NaN,void(r.d=null)):he(r,e.toString())}if("string"!==i)throw Error(M+e);return 45===(s=e.charCodeAt(0))?(e=e.slice(1),r.s=-1):(43===s&&(e=e.slice(1)),r.s=1),X.test(e)?he(r,e):function(e,t){var s,i,r,a,n,o,l,c,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),X.test(t))return he(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(H.test(t))s=16,t=t.toLowerCase();else if(B.test(t))s=2;else{if(!W.test(t))throw Error(M+t);s=8}for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),n=(a=t.indexOf("."))>=0,i=e.constructor,n&&(a=(o=(t=t.replace(".","")).length)-a,r=ne(i,new i(s),a,2*a)),a=d=(c=K(t,s,Y)).length-1;0===c[a];--a)c.pop();return a<0?new i(0*e.s):(e.e=te(c,d),e.d=c,I=!1,n&&(e=Z(e,r,4*o)),l&&(e=e.times(Math.abs(l)<54?F(2,l):rt.pow(2,l))),I=!0,e)}(r,e)}if(a.prototype=q,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=Re,a.clone=e,a.isDecimal=_e,a.abs=be,a.acos=ve,a.acosh=ye,a.add=we,a.asin=je,a.asinh=Ne,a.atan=ke,a.atanh=Se,a.atan2=Ce,a.cbrt=Ae,a.ceil=Te,a.clamp=Ee,a.cos=Pe,a.cosh=Ie,a.div=Le,a.exp=Me,a.floor=Oe,a.hypot=De,a.ln=ze,a.log=Fe,a.log10=He,a.log2=Be,a.max=We,a.min=Xe,a.mod=Ye,a.mul=Ve,a.pow=Ue,a.random=qe,a.round=Ge,a.sign=$e,a.sin=Qe,a.sinh=Ke,a.sqrt=Ze,a.sub=Je,a.sum=et,a.tan=tt,a.tanh=st,a.trunc=it,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<r.length;)t.hasOwnProperty(i=r[s++])||(t[i]=this[i]);return a.config(t),a}(P);E=new rt(E),R=new rt(R);var at=rt;
/*! Bundled license information:
  
  	decimal.js/decimal.mjs:
  	  (*!
  	   *  decimal.js v10.4.3
  	   *  An arbitrary-precision Decimal type for JavaScript.
  	   *  https://github.com/MikeMcl/decimal.js
  	   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
  	   *  MIT Licence
  	   *)
  	*/return _d}function Yd(){return Fd||(Fd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const{Decimal:t,objectEnumValues:s,makeStrictEnum:i,Public:r,getRuntime:a}=Xd(),n={};e.Prisma=n,e.$Enums={},n.prismaVersion={client:"5.19.1",engine:"69d742ee20b815d88e17e54db4a2a7a3b30324e3"},n.PrismaClientKnownRequestError=()=>{const e=a().prettyName;throw new Error(`PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.PrismaClientUnknownRequestError=()=>{const e=a().prettyName;throw new Error(`PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.PrismaClientRustPanicError=()=>{const e=a().prettyName;throw new Error(`PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.PrismaClientInitializationError=()=>{const e=a().prettyName;throw new Error(`PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.PrismaClientValidationError=()=>{const e=a().prettyName;throw new Error(`PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.NotFoundError=()=>{const e=a().prettyName;throw new Error(`NotFoundError is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.Decimal=t,n.sql=()=>{const e=a().prettyName;throw new Error(`sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.empty=()=>{const e=a().prettyName;throw new Error(`empty is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.join=()=>{const e=a().prettyName;throw new Error(`join is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.raw=()=>{const e=a().prettyName;throw new Error(`raw is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.validator=r.validator,n.getExtensionContext=()=>{const e=a().prettyName;throw new Error(`Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.defineExtension=()=>{const e=a().prettyName;throw new Error(`Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ${e}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},n.DbNull=s.instances.DbNull,n.JsonNull=s.instances.JsonNull,n.AnyNull=s.instances.AnyNull,n.NullTypes={DbNull:s.classes.DbNull,JsonNull:s.classes.JsonNull,AnyNull:s.classes.AnyNull},e.Prisma.TransactionIsolationLevel=i({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),e.Prisma.UserScalarFieldEnum={id:"id",createdAt:"createdAt",email:"email",username:"username",isAdmin:"isAdmin",paymentProcessorUserId:"paymentProcessorUserId",lemonSqueezyCustomerPortalUrl:"lemonSqueezyCustomerPortalUrl",subscriptionStatus:"subscriptionStatus",subscriptionPlan:"subscriptionPlan",datePaid:"datePaid",credits:"credits"},e.Prisma.GptResponseScalarFieldEnum={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",userId:"userId",content:"content"},e.Prisma.TaskScalarFieldEnum={id:"id",createdAt:"createdAt",userId:"userId",description:"description",time:"time",isDone:"isDone"},e.Prisma.FileScalarFieldEnum={id:"id",createdAt:"createdAt",userId:"userId",name:"name",type:"type",key:"key",uploadUrl:"uploadUrl"},e.Prisma.DailyStatsScalarFieldEnum={id:"id",date:"date",totalViews:"totalViews",prevDayViewsChangePercent:"prevDayViewsChangePercent",userCount:"userCount",paidUserCount:"paidUserCount",userDelta:"userDelta",paidUserDelta:"paidUserDelta",totalRevenue:"totalRevenue",totalProfit:"totalProfit"},e.Prisma.PageViewSourceScalarFieldEnum={name:"name",date:"date",dailyStatsId:"dailyStatsId",visitors:"visitors"},e.Prisma.LogsScalarFieldEnum={id:"id",createdAt:"createdAt",message:"message",level:"level"},e.Prisma.ContactFormMessageScalarFieldEnum={id:"id",createdAt:"createdAt",userId:"userId",content:"content",isRead:"isRead",repliedAt:"repliedAt"},e.Prisma.TopicScalarFieldEnum={id:"id",slug:"slug",title:"title",summary:"summary",description:"description",depth:"depth",parentId:"parentId",status:"status",metadata:"metadata",lastResearched:"lastResearched",researchVersion:"researchVersion",cacheStatus:"cacheStatus",researchPriority:"researchPriority",subtopicsGenerated:"subtopicsGenerated",createdAt:"createdAt",updatedAt:"updatedAt"},e.Prisma.GeneratedContentScalarFieldEnum={id:"id",topicId:"topicId",contentType:"contentType",content:"content",metadata:"metadata",sources:"sources",userLevel:"userLevel",learningStyle:"learningStyle",cacheKey:"cacheKey",accessCount:"accessCount",lastAccess:"lastAccess",researchVersion:"researchVersion",freshnessTtl:"freshnessTtl",createdAt:"createdAt",updatedAt:"updatedAt"},e.Prisma.UserTopicProgressScalarFieldEnum={id:"id",userId:"userId",topicId:"topicId",completed:"completed",timeSpent:"timeSpent",lastAccessed:"lastAccessed",preferences:"preferences",bookmarks:"bookmarks"},e.Prisma.ChatThreadScalarFieldEnum={id:"id",userId:"userId",topicId:"topicId",title:"title",createdAt:"createdAt",updatedAt:"updatedAt"},e.Prisma.MessageScalarFieldEnum={id:"id",threadId:"threadId",role:"role",content:"content",metadata:"metadata",createdAt:"createdAt"},e.Prisma.QuizScalarFieldEnum={id:"id",topicId:"topicId",userId:"userId",title:"title",score:"score",completed:"completed",completedAt:"completedAt",createdAt:"createdAt"},e.Prisma.QuizQuestionScalarFieldEnum={id:"id",quizId:"quizId",question:"question",type:"type",options:"options",correctAnswer:"correctAnswer",explanation:"explanation",userAnswer:"userAnswer",isCorrect:"isCorrect"},e.Prisma.VectorDocumentScalarFieldEnum={id:"id",topicId:"topicId",content:"content",embedding:"embedding",metadata:"metadata",createdAt:"createdAt"},e.Prisma.AuthScalarFieldEnum={id:"id",userId:"userId"},e.Prisma.AuthIdentityScalarFieldEnum={providerName:"providerName",providerUserId:"providerUserId",providerData:"providerData",authId:"authId"},e.Prisma.SessionScalarFieldEnum={id:"id",expiresAt:"expiresAt",userId:"userId"},e.Prisma.SortOrder={asc:"asc",desc:"desc"},e.Prisma.NullableJsonNullValueInput={DbNull:n.DbNull,JsonNull:n.JsonNull},e.Prisma.JsonNullValueInput={JsonNull:n.JsonNull},e.Prisma.QueryMode={default:"default",insensitive:"insensitive"},e.Prisma.NullsOrder={first:"first",last:"last"},e.Prisma.JsonNullValueFilter={DbNull:n.DbNull,JsonNull:n.JsonNull,AnyNull:n.AnyNull},e.TopicStatus=e.$Enums.TopicStatus={RESEARCHING:"RESEARCHING",COMPLETED:"COMPLETED",ERROR:"ERROR",PENDING:"PENDING"},e.CacheStatus=e.$Enums.CacheStatus={FRESH:"FRESH",STALE:"STALE",REFRESHING:"REFRESHING",ERROR:"ERROR"},e.MessageRole=e.$Enums.MessageRole={USER:"USER",ASSISTANT:"ASSISTANT",SYSTEM:"SYSTEM"},e.QuestionType=e.$Enums.QuestionType={MULTIPLE_CHOICE:"MULTIPLE_CHOICE",TRUE_FALSE:"TRUE_FALSE",FILL_BLANK:"FILL_BLANK",CODE_CHALLENGE:"CODE_CHALLENGE"},e.Prisma.ModelName={User:"User",GptResponse:"GptResponse",Task:"Task",File:"File",DailyStats:"DailyStats",PageViewSource:"PageViewSource",Logs:"Logs",ContactFormMessage:"ContactFormMessage",Topic:"Topic",GeneratedContent:"GeneratedContent",UserTopicProgress:"UserTopicProgress",ChatThread:"ChatThread",Message:"Message",Quiz:"Quiz",QuizQuestion:"QuizQuestion",VectorDocument:"VectorDocument",Auth:"Auth",AuthIdentity:"AuthIdentity",Session:"Session"};e.PrismaClient=class{constructor(){return new Proxy(this,{get(e,t){let s;const i=a();throw s=i.isEdge?`PrismaClient is not configured to run in ${i.prettyName}. In order to run Prisma Client on edge runtime, either:\n- Use Prisma Accelerate: https://pris.ly/d/accelerate\n- Use Driver Adapters: https://pris.ly/d/driver-adapters\n`:"PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `"+i.prettyName+"`).",s+="\nIf this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report",new Error(s)}})}},Object.assign(e,n)}(Wd)),Wd}function Vd(){if(Hd)return Bd;Hd=1;return Bd=Yd()}var Ud=Vd();const qd=Ud.Prisma.Decimal;async function Gd(e,t){try{const s=Md(t),i=await tc.post(e.path,s);return Od(i.data)}catch(s){throw rc(s)}}function $d(e){return{method:mn.Post,path:`/${e}`}}function Qd(e,t){const s=$d(e);async function i(e,i){i.forEach(({queryKey:e,updateQuery:t})=>dc.add(e,t));try{return await Gd(s,e)}finally{await uc(t,i)}}const r=e=>i(e,[]);return r.internal=i,r}qd&&Dd({isApplicable:e=>qd.isDecimal(e),serialize:e=>e.toJSON(),deserialize:e=>new qd(e)},"prisma.decimal");const Kd=Qd("operations/update-is-user-admin-by-id",["User"]),Zd=Qd("operations/generate-gpt-response",["User","Task","GptResponse"]),Jd=Qd("operations/create-task",["Task"]),eu=Qd("operations/delete-task",["Task"]),tu=Qd("operations/update-task",["Task"]),su=Qd("operations/generate-checkout-session",["User"]),iu=Qd("operations/create-file",["User","File"]),ru=Qd("operations/create-topic",["User","Topic","UserTopicProgress","Message","Quiz"]),au=Qd("operations/update-topic-progress",["UserTopicProgress","Topic"]),nu=Qd("operations/fix-topic-sources",["Topic","VectorDocument","GeneratedContent"]),ou=Qd("operations/export-topic-sources",["Topic","VectorDocument"]);Qd("operations/generate-assessment-content",["Topic","UserTopicProgress"]),Qd("operations/generate-personalized-path",["Topic","UserTopicProgress"]),Qd("operations/generate-starting-point",["Topic","UserTopicProgress"]),Qd("operations/stream-assessment-content",["Topic","UserTopicProgress"]);const lu=Qd("operations/start-iterative-research",["Topic","UserTopicProgress","VectorDocument","GeneratedContent"]),cu=Qd("operations/expand-topic-depth",["Topic","UserTopicProgress","VectorDocument"]),du=Qd("operations/generate-subtopics-for-topic",["Topic","UserTopicProgress"]);Qd("operations/cleanup-cache",["GeneratedContent","Topic"]),Qd("operations/migrate-to-iterative-research",["Topic","GeneratedContent","VectorDocument"]),Qd("operations/cleanup-old-system",["GeneratedContent"]),Qd("operations/add-content-bookmark",["UserTopicProgress","Topic"]),Qd("operations/remove-content-bookmark",["UserTopicProgress","Topic"]),Qd("operations/mark-content-as-read",["UserTopicProgress","Topic"]),Qd("operations/export-topic-content",["Topic","UserTopicProgress"]);const uu=Qd("operations/create-chat-thread",["ChatThread","Topic"]),hu=Qd("operations/send-message",["User","ChatThread","Message","Topic","UserTopicProgress","VectorDocument","Quiz"]),pu=Qd("operations/update-chat-thread",["ChatThread"]),mu=Qd("operations/export-chat-thread",["ChatThread","Message","Topic"]),fu=Qd("operations/generate-quiz",["User","Topic","Quiz","QuizQuestion","UserTopicProgress","VectorDocument","GeneratedContent","Message"]),gu=Qd("operations/submit-quiz-answer",["Quiz","QuizQuestion","UserTopicProgress"]);Qd("operations/consume-learning-credits",["User"]);const xu=Qd("operations/update-user-learning-quota",["User"]);function bu(e,t){return void 0!==t?[...e.queryCacheKey,t]:e.queryCacheKey}function vu(e,t){const s=$d(e),i=async e=>{const t=await Gd(s,e),r=bu(i,e);return(a=r,dc.getUpdateHandlers(a)).reduce((e,t)=>t(e),t);var a};return yu(i,{queryCacheKey:[e],queryRoute:s,entitiesUsed:t})}function yu(e,{queryCacheKey:t,queryRoute:s,entitiesUsed:i}){const r=e;return r.queryCacheKey=t,r.route=s,function(e,t){for(const s of t){let t=cc.get(s);t||(t=new Set,cc.set(s,t)),t.add(e)}}(r.queryCacheKey,i),r}const wu=vu("operations/get-paginated-users",["User"]);vu("operations/get-gpt-responses",["User","GptResponse"]);const ju=vu("operations/get-all-tasks-by-user",["Task"]),Nu=vu("operations/get-customer-portal-url",["User"]),ku=vu("operations/get-all-files-by-user",["User","File"]),Su=vu("operations/get-download-file-signed-url",["User","File"]),Cu=vu("operations/get-daily-stats",["User","DailyStats"]),Au=vu("operations/get-topic",["Topic","UserTopicProgress"]),Tu=vu("operations/get-topic-tree",["Topic","UserTopicProgress"]),Eu=vu("operations/get-user-progress-stats",["UserTopicProgress","Topic"]),Ru=vu("operations/get-topic-progress-summary",["Topic","UserTopicProgress"]),Pu=vu("operations/get-topic-sources",["Topic","VectorDocument"]);vu("operations/debug-topic-data",["Topic","VectorDocument","GeneratedContent"]),vu("operations/get-source-details",["VectorDocument","Topic"]),vu("operations/get-sources-by-agent",["Topic","VectorDocument"]),vu("operations/get-topic-hierarchy",["Topic"]);const Iu=vu("operations/get-research-stats",["Topic","UserTopicProgress","VectorDocument"]);vu("operations/get-cache-statistics",["GeneratedContent","Topic"]),vu("operations/check-research-freshness",["Topic","GeneratedContent"]),vu("operations/validate-migration",["Topic","GeneratedContent","VectorDocument"]);const Lu=vu("operations/get-subtopic-content",["Topic","GeneratedContent"]);vu("operations/get-content-bookmarks",["UserTopicProgress","Topic"]),vu("operations/get-read-content",["UserTopicProgress","Topic"]);const Mu=vu("operations/get-chat-thread",["ChatThread","Message","Topic"]),Ou=vu("operations/get-chat-threads",["ChatThread","Message","Topic"]),Du=vu("operations/get-user-quizzes",["Quiz","QuizQuestion","Topic"]),_u=vu("operations/get-quiz",["Quiz","QuizQuestion","Topic"]);vu("operations/check-learning-credits",["User","Topic","Message","Quiz"]);const zu=vu("operations/get-user-usage-stats",["User","Topic","Message","Quiz"]),Fu=vu("operations/get-upgrade-recommendation",["User","Topic","Message","Quiz"]),Bu=vu("operations/get-learning-analytics",["User","Topic","UserTopicProgress","Message","Quiz"]);function Hu(e,t,s){if("function"!=typeof e)throw new TypeError("useQuery requires queryFn to be a function.");if(!e.queryCacheKey)throw new TypeError("queryFn needs to have queryCacheKey property defined.");return Bi(Xs({queryKey:bu(e,t),queryFn:()=>e(t),...s},i,r),ki);var i,r}function Wu(e){return null!==e}function Xu(e){return e?(t=e,{...t,getFirstProviderUserId:()=>{const e=Object.values(t.identities).filter(Wu);return e.length>0?e[0].id:null}}):null;var t}const Yu=function(){const e="auth/me",t={method:mn.Get,path:`/${e}`};return yu(async()=>{try{const e=await tc.get(t.path);return Xu(Od(e.data))}catch(e){throw rc(e)}},{queryCacheKey:[e],queryRoute:t,entitiesUsed:["User"]})}();function Vu(){return Hu(Yu)}async function Uu(){try{await tc.post("/auth/logout")}finally{Kl.clear(),Jl.emit("sessionId.clear"),await hc()}}function qu(e){var t,s,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(s=qu(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Gu(){for(var e,t,s=0,i="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=qu(e))&&(i&&(i+=" "),i+=t);return i}const $u=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Qu=Gu,Ku=(e,t)=>s=>{var i;if(null==(null==t?void 0:t.variants))return Qu(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:r,defaultVariants:a}=t,n=Object.keys(r).map(e=>{const t=null==s?void 0:s[e],i=null==a?void 0:a[e];if(null===t)return null;const n=$u(t)||$u(i);return r[e][n]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,i]=t;return void 0===i||(e[s]=i),e},{}),l=null==t||null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:s,className:i,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...a,...o}[t]):{...a,...o}[t]===s})?[...e,s,i]:e},[]);return Qu(e,n,l,null==s?void 0:s.class,null==s?void 0:s.className)},Zu=e=>{const t=sh(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),Ju(s,t)||th(e)},getConflictingClassGroupIds:(e,t)=>{const r=s[e]||[];return t&&i[e]?[...r,...i[e]]:r}}},Ju=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const i=e[0],r=t.nextPart.get(i),a=r?Ju(e.slice(1),r):void 0;if(a)return a;if(0===t.validators.length)return;const n=e.join("-");return null==(s=t.validators.find(({validator:e})=>e(n)))?void 0:s.classGroupId},eh=/^\[(.+)\]$/,th=e=>{if(eh.test(e)){const t=eh.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},sh=e=>{const{theme:t,prefix:s}=e,i={nextPart:new Map,validators:[]};return nh(Object.entries(e.classGroups),s).forEach(([e,s])=>{ih(s,i,e,t)}),i},ih=(e,t,s,i)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:rh(t,e)).classGroupId=s)}if("function"==typeof e)return ah(e)?void ih(e(i),t,s,i):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(([e,r])=>{ih(r,rh(t,e),s,i)})})},rh=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},ah=e=>e.isThemeGetter,nh=(e,t)=>t?e.map(([e,s])=>[e,s.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,s])=>[t+e,s])):e)]):e,oh=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,i=new Map;const r=(r,a)=>{s.set(r,a),t++,t>e&&(t=0,i=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=i.get(e))?(r(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):r(e,t)}}},lh=e=>{const{separator:t,experimentalParseClassName:s}=e,i=1===t.length,r=t[0],a=t.length,n=e=>{const s=[];let n,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===r&&(i||e.slice(u,u+a)===t)){s.push(e.slice(l,u)),l=u+a;continue}if("/"===c){n=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===s.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:s,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:n&&n>l?n-l:void 0}};return s?e=>s({className:e,parseClassName:n}):n},ch=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},dh=/\s+/;function uh(){let e,t,s=0,i="";for(;s<arguments.length;)(e=arguments[s++])&&(t=hh(e))&&(i&&(i+=" "),i+=t);return i}const hh=e=>{if("string"==typeof e)return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=hh(e[i]))&&(s&&(s+=" "),s+=t);return s};function ph(e,...t){let s,i,r,a=function(o){const l=t.reduce((e,t)=>t(e),e());return s=(e=>({cache:oh(e.cacheSize),parseClassName:lh(e),...Zu(e)}))(l),i=s.cache.get,r=s.cache.set,a=n,n(o)};function n(e){const t=i(e);if(t)return t;const a=((e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:r}=t,a=[],n=e.trim().split(dh);let o="";for(let l=n.length-1;l>=0;l-=1){const e=n[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=s(e);let h=Boolean(u),p=i(h?d.substring(0,u):d);if(!p){if(!h){o=e+(o.length>0?" "+o:o);continue}if(p=i(d),!p){o=e+(o.length>0?" "+o:o);continue}h=!1}const m=ch(t).join(":"),f=c?m+"!":m,g=f+p;if(a.includes(g))continue;a.push(g);const x=r(p,h);for(let s=0;s<x.length;++s){const e=x[s];a.push(f+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return r(e,a),a}return function(){return a(uh.apply(null,arguments))}}const mh=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},fh=/^\[(?:([a-z-]+):)?(.+)\]$/i,gh=/^\d+\/\d+$/,xh=new Set(["px","full","screen"]),bh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nh=e=>Sh(e)||xh.has(e)||gh.test(e),kh=e=>zh(e,"length",Fh),Sh=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ch=e=>zh(e,"number",Sh),Ah=e=>Boolean(e)&&Number.isInteger(Number(e)),Th=e=>e.endsWith("%")&&Sh(e.slice(0,-1)),Eh=e=>fh.test(e),Rh=e=>bh.test(e),Ph=new Set(["length","size","percentage"]),Ih=e=>zh(e,Ph,Bh),Lh=e=>zh(e,"position",Bh),Mh=new Set(["image","url"]),Oh=e=>zh(e,Mh,Wh),Dh=e=>zh(e,"",Hh),_h=()=>!0,zh=(e,t,s)=>{const i=fh.exec(e);return!!i&&(i[1]?"string"==typeof t?i[1]===t:t.has(i[1]):s(i[2]))},Fh=e=>vh.test(e)&&!yh.test(e),Bh=()=>!1,Hh=e=>wh.test(e),Wh=e=>jh.test(e),Xh=ph(()=>{const e=mh("colors"),t=mh("spacing"),s=mh("blur"),i=mh("brightness"),r=mh("borderColor"),a=mh("borderRadius"),n=mh("borderSpacing"),o=mh("borderWidth"),l=mh("contrast"),c=mh("grayscale"),d=mh("hueRotate"),u=mh("invert"),h=mh("gap"),p=mh("gradientColorStops"),m=mh("gradientColorStopPositions"),f=mh("inset"),g=mh("margin"),x=mh("opacity"),b=mh("padding"),v=mh("saturate"),y=mh("scale"),w=mh("sepia"),j=mh("skew"),N=mh("space"),k=mh("translate"),S=()=>["auto",Eh,t],C=()=>[Eh,t],A=()=>["",Nh,kh],T=()=>["auto",Sh,Eh],E=()=>["","0",Eh],R=()=>[Sh,Eh];return{cacheSize:500,separator:":",theme:{colors:[_h],spacing:[Nh,kh],blur:["none","",Rh,Eh],brightness:R(),borderColor:[e],borderRadius:["none","","full",Rh,Eh],borderSpacing:C(),borderWidth:A(),contrast:R(),grayscale:E(),hueRotate:R(),invert:E(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Th,kh],inset:S(),margin:S(),opacity:R(),padding:C(),saturate:R(),scale:R(),sepia:E(),skew:R(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Eh]}],container:["container"],columns:[{columns:[Rh]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Eh]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ah,Eh]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Eh]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ah,Eh]}],"grid-cols":[{"grid-cols":[_h]}],"col-start-end":[{col:["auto",{span:["full",Ah,Eh]},Eh]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[_h]}],"row-start-end":[{row:["auto",{span:[Ah,Eh]},Eh]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Eh]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Eh]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Eh,t]}],"min-w":[{"min-w":[Eh,t,"min","max","fit"]}],"max-w":[{"max-w":[Eh,t,"none","full","min","max","fit","prose",{screen:[Rh]},Rh]}],h:[{h:[Eh,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Eh,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Eh,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Eh,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rh,kh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ch]}],"font-family":[{font:[_h]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Eh]}],"line-clamp":[{"line-clamp":["none",Sh,Ch]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nh,Eh]}],"list-image":[{"list-image":["none",Eh]}],"list-style-type":[{list:["none","disc","decimal",Eh]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nh,kh]}],"underline-offset":[{"underline-offset":["auto",Nh,Eh]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Eh]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Eh]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Lh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ih]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oh]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Nh,Eh]}],"outline-w":[{outline:[Nh,kh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Nh,kh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rh,Dh]}],"shadow-color":[{shadow:[_h]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rh,Eh]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Eh]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Eh]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Eh]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Ah,Eh]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Eh]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Eh]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Eh]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nh,kh,Ch]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Yh(...e){return Xh(Gu(e))}const Vh=d,Uh=u,qh=r,Gh=Ct.forwardRef(({className:e,...t},r)=>s.jsx(i,{className:Yh("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Gh.displayName=i.displayName;const $h=Ku("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Qh=Ct.forwardRef(({side:e="right",className:t,children:i,...r},l)=>s.jsxs(qh,{children:[s.jsx(Gh,{}),s.jsxs(a,{ref:l,className:Yh($h({side:e}),t),...r,children:[s.jsxs(n,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(o,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),i]})]}));Qh.displayName=a.displayName;const Kh=({className:e,...t})=>s.jsx("div",{className:Yh("flex flex-col space-y-2 text-center sm:text-left",e),...t});Kh.displayName="SheetHeader";const Zh=Ct.forwardRef(({className:e,...t},i)=>s.jsx(l,{ref:i,className:Yh("text-lg font-semibold text-foreground",e),...t}));Zh.displayName=l.displayName;const Jh=Ct.forwardRef(({className:e,...t},i)=>s.jsx(c,{ref:i,className:Yh("text-sm text-muted-foreground",e),...t}));Jh.displayName=c.displayName;var ep,tp="dismissableLayer.update",sp="dismissableLayer.pointerDownOutside",ip="dismissableLayer.focusOutside",rp=Ct.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ap=Ct.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:n,onInteractOutside:o,onDismiss:l,...c}=e,d=Ct.useContext(rp),[u,x]=Ct.useState(null),b=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,v]=Ct.useState({}),y=h(t,e=>x(e)),w=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(j),k=u?w.indexOf(u):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,C=k>=N,A=function(e,t=(null==globalThis?void 0:globalThis.document)){const s=g(e),i=Ct.useRef(!1),r=Ct.useRef(()=>{});return Ct.useEffect(()=>{const e=e=>{if(e.target&&!i.current){let i=function(){op(sp,s,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}(e=>{const t=e.target,s=[...d.branches].some(e=>e.contains(t));C&&!s&&(null==a||a(e),null==o||o(e),e.defaultPrevented||null==l||l())},b),T=function(e,t=(null==globalThis?void 0:globalThis.document)){const s=g(e),i=Ct.useRef(!1);return Ct.useEffect(()=>{const e=e=>{if(e.target&&!i.current){op(ip,s,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==n||n(e),null==o||o(e),e.defaultPrevented||null==l||l())},b);return p(e=>{k===d.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},b),Ct.useEffect(()=>{if(u)return i&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(ep=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),np(),()=>{i&&1===d.layersWithOutsidePointerEventsDisabled.size&&(b.body.style.pointerEvents=ep)}},[u,b,i,d]),Ct.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),np())},[u,d]),Ct.useEffect(()=>{const e=()=>v({});return document.addEventListener(tp,e),()=>document.removeEventListener(tp,e)},[]),s.jsx(m.div,{...c,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:f(e.onFocusCapture,T.onFocusCapture),onBlurCapture:f(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:f(e.onPointerDownCapture,A.onPointerDownCapture)})});ap.displayName="DismissableLayer";function np(){const e=new CustomEvent(tp);document.dispatchEvent(e)}function op(e,t,s,{discrete:i}){const r=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&r.addEventListener(e,t,{once:!0}),i?x(r,a):r.dispatchEvent(a)}Ct.forwardRef((e,t)=>{const i=Ct.useContext(rp),r=Ct.useRef(null),a=h(t,r);return Ct.useEffect(()=>{const e=r.current;if(e)return i.branches.add(e),()=>{i.branches.delete(e)}},[i.branches]),s.jsx(m.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var lp=0;function cp(){Ct.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dp()),document.body.insertAdjacentElement("beforeend",e[1]??dp()),lp++,()=>{1===lp&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lp--}},[])}function dp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var up="focusScope.autoFocusOnMount",hp="focusScope.autoFocusOnUnmount",pp={bubbles:!1,cancelable:!0},mp=Ct.forwardRef((e,t)=>{const{loop:i=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:n,...o}=e,[l,c]=Ct.useState(null),d=g(a),u=g(n),p=Ct.useRef(null),f=h(t,e=>c(e)),x=Ct.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Ct.useEffect(()=>{if(r){let e=function(e){if(x.paused||!l)return;const t=e.target;l.contains(t)?p.current=t:bp(p.current,{select:!0})},t=function(e){if(x.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||bp(p.current,{select:!0}))},s=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&bp(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const i=new MutationObserver(s);return l&&i.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[r,l,x.paused]),Ct.useEffect(()=>{if(l){vp.add(x);const t=document.activeElement;if(!l.contains(t)){const s=new CustomEvent(up,pp);l.addEventListener(up,d),l.dispatchEvent(s),s.defaultPrevented||(!function(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(bp(i,{select:t}),document.activeElement!==s)return}((e=fp(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&bp(l))}return()=>{l.removeEventListener(up,d),setTimeout(()=>{const e=new CustomEvent(hp,pp);l.addEventListener(hp,u),l.dispatchEvent(e),e.defaultPrevented||bp(t??document.body,{select:!0}),l.removeEventListener(hp,u),vp.remove(x)},0)}}var e},[l,d,u,x]);const b=Ct.useCallback(e=>{if(!i&&!r)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[r,a]=function(e){const t=fp(e),s=gp(t,e),i=gp(t.reverse(),e);return[s,i]}(t);r&&a?e.shiftKey||s!==a?e.shiftKey&&s===r&&(e.preventDefault(),i&&bp(a,{select:!0})):(e.preventDefault(),i&&bp(r,{select:!0})):s===t&&e.preventDefault()}},[i,r,x.paused]);return s.jsx(m.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});function fp(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function gp(e,t){for(const s of e)if(!xp(s,{upTo:t}))return s}function xp(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function bp(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}mp.displayName="FocusScope";var vp=function(){let e=[];return{add(t){const s=e[0];t!==s&&(null==s||s.pause()),e=yp(e,t),e.unshift(t)},remove(t){var s;e=yp(e,t),null==(s=e[0])||s.resume()}}}();function yp(e,t){const s=[...e],i=s.indexOf(t);return-1!==i&&s.splice(i,1),s}const wp=["top","right","bottom","left"],jp=Math.min,Np=Math.max,kp=Math.round,Sp=Math.floor,Cp=e=>({x:e,y:e}),Ap={left:"right",right:"left",bottom:"top",top:"bottom"},Tp={start:"end",end:"start"};function Ep(e,t,s){return Np(e,jp(t,s))}function Rp(e,t){return"function"==typeof e?e(t):e}function Pp(e){return e.split("-")[0]}function Ip(e){return e.split("-")[1]}function Lp(e){return"x"===e?"y":"x"}function Mp(e){return"y"===e?"height":"width"}const Op=new Set(["top","bottom"]);function Dp(e){return Op.has(Pp(e))?"y":"x"}function _p(e){return Lp(Dp(e))}function zp(e){return e.replace(/start|end/g,e=>Tp[e])}const Fp=["left","right"],Bp=["right","left"],Hp=["top","bottom"],Wp=["bottom","top"];function Xp(e,t,s,i){const r=Ip(e);let a=function(e,t,s){switch(e){case"top":case"bottom":return s?t?Bp:Fp:t?Fp:Bp;case"left":case"right":return t?Hp:Wp;default:return[]}}(Pp(e),"start"===s,i);return r&&(a=a.map(e=>e+"-"+r),t&&(a=a.concat(a.map(zp)))),a}function Yp(e){return e.replace(/left|right|bottom|top/g,e=>Ap[e])}function Vp(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Up(e){const{x:t,y:s,width:i,height:r}=e;return{width:i,height:r,top:s,left:t,right:t+i,bottom:s+r,x:t,y:s}}function qp(e,t,s){let{reference:i,floating:r}=e;const a=Dp(t),n=_p(t),o=Mp(n),l=Pp(t),c="y"===a,d=i.x+i.width/2-r.width/2,u=i.y+i.height/2-r.height/2,h=i[o]/2-r[o]/2;let p;switch(l){case"top":p={x:d,y:i.y-r.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:u};break;case"left":p={x:i.x-r.width,y:u};break;default:p={x:i.x,y:i.y}}switch(Ip(t)){case"start":p[n]-=h*(s&&c?-1:1);break;case"end":p[n]+=h*(s&&c?-1:1)}return p}async function Gp(e,t){var s;void 0===t&&(t={});const{x:i,y:r,platform:a,rects:n,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=Rp(t,e),m=Vp(p),f=o[h?"floating"===u?"reference":"floating":u],g=Up(await a.getClippingRect({element:null==(s=await(null==a.isElement?void 0:a.isElement(f)))||s?f:f.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:i,y:r,width:n.floating.width,height:n.floating.height}:n.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),v=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},y=Up(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(g.top-y.top+m.top)/v.y,bottom:(y.bottom-g.bottom+m.bottom)/v.y,left:(g.left-y.left+m.left)/v.x,right:(y.right-g.right+m.right)/v.x}}function $p(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qp(e){return wp.some(t=>e[t]>=0)}const Kp=new Set(["left","top"]);function Zp(){return"undefined"!=typeof window}function Jp(e){return sm(e)?(e.nodeName||"").toLowerCase():"#document"}function em(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function tm(e){var t;return null==(t=(sm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function sm(e){return!!Zp()&&(e instanceof Node||e instanceof em(e).Node)}function im(e){return!!Zp()&&(e instanceof Element||e instanceof em(e).Element)}function rm(e){return!!Zp()&&(e instanceof HTMLElement||e instanceof em(e).HTMLElement)}function am(e){return!(!Zp()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof em(e).ShadowRoot)}const nm=new Set(["inline","contents"]);function om(e){const{overflow:t,overflowX:s,overflowY:i,display:r}=vm(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!nm.has(r)}const lm=new Set(["table","td","th"]);function cm(e){return lm.has(Jp(e))}const dm=[":popover-open",":modal"];function um(e){return dm.some(t=>{try{return e.matches(t)}catch(s){return!1}})}const hm=["transform","translate","scale","rotate","perspective"],pm=["transform","translate","scale","rotate","perspective","filter"],mm=["paint","layout","strict","content"];function fm(e){const t=gm(),s=im(e)?vm(e):e;return hm.some(e=>!!s[e]&&"none"!==s[e])||!!s.containerType&&"normal"!==s.containerType||!t&&!!s.backdropFilter&&"none"!==s.backdropFilter||!t&&!!s.filter&&"none"!==s.filter||pm.some(e=>(s.willChange||"").includes(e))||mm.some(e=>(s.contain||"").includes(e))}function gm(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const xm=new Set(["html","body","#document"]);function bm(e){return xm.has(Jp(e))}function vm(e){return em(e).getComputedStyle(e)}function ym(e){return im(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wm(e){if("html"===Jp(e))return e;const t=e.assignedSlot||e.parentNode||am(e)&&e.host||tm(e);return am(t)?t.host:t}function jm(e){const t=wm(e);return bm(t)?e.ownerDocument?e.ownerDocument.body:e.body:rm(t)&&om(t)?t:jm(t)}function Nm(e,t,s){var i;void 0===t&&(t=[]),void 0===s&&(s=!0);const r=jm(e),a=r===(null==(i=e.ownerDocument)?void 0:i.body),n=em(r);if(a){const e=km(n);return t.concat(n,n.visualViewport||[],om(r)?r:[],e&&s?Nm(e):[])}return t.concat(r,Nm(r,[],s))}function km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sm(e){const t=vm(e);let s=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=rm(e),a=r?e.offsetWidth:s,n=r?e.offsetHeight:i,o=kp(s)!==a||kp(i)!==n;return o&&(s=a,i=n),{width:s,height:i,$:o}}function Cm(e){return im(e)?e:e.contextElement}function Am(e){const t=Cm(e);if(!rm(t))return Cp(1);const s=t.getBoundingClientRect(),{width:i,height:r,$:a}=Sm(t);let n=(a?kp(s.width):s.width)/i,o=(a?kp(s.height):s.height)/r;return n&&Number.isFinite(n)||(n=1),o&&Number.isFinite(o)||(o=1),{x:n,y:o}}const Tm=Cp(0);function Em(e){const t=em(e);return gm()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Tm}function Rm(e,t,s,i){void 0===t&&(t=!1),void 0===s&&(s=!1);const r=e.getBoundingClientRect(),a=Cm(e);let n=Cp(1);t&&(i?im(i)&&(n=Am(i)):n=Am(e));const o=function(e,t,s){return void 0===t&&(t=!1),!(!s||t&&s!==em(e))&&t}(a,s,i)?Em(a):Cp(0);let l=(r.left+o.x)/n.x,c=(r.top+o.y)/n.y,d=r.width/n.x,u=r.height/n.y;if(a){const e=em(a),t=i&&im(i)?em(i):i;let s=e,r=km(s);for(;r&&i&&t!==s;){const e=Am(r),t=r.getBoundingClientRect(),i=vm(r),a=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,n=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=n,s=em(r),r=km(s)}}return Up({width:d,height:u,x:l,y:c})}function Pm(e,t){const s=ym(e).scrollLeft;return t?t.left+s:Rm(tm(e)).left+s}function Im(e,t,s){void 0===s&&(s=!1);const i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-(s?0:Pm(e,i)),y:i.top+t.scrollTop}}const Lm=new Set(["absolute","fixed"]);function Mm(e,t,s){let i;if("viewport"===t)i=function(e,t){const s=em(e),i=tm(e),r=s.visualViewport;let a=i.clientWidth,n=i.clientHeight,o=0,l=0;if(r){a=r.width,n=r.height;const e=gm();(!e||e&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:a,height:n,x:o,y:l}}(e,s);else if("document"===t)i=function(e){const t=tm(e),s=ym(e),i=e.ownerDocument.body,r=Np(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Np(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let n=-s.scrollLeft+Pm(e);const o=-s.scrollTop;return"rtl"===vm(i).direction&&(n+=Np(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:n,y:o}}(tm(e));else if(im(t))i=function(e,t){const s=Rm(e,!0,"fixed"===t),i=s.top+e.clientTop,r=s.left+e.clientLeft,a=rm(e)?Am(e):Cp(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:i*a.y}}(t,s);else{const s=Em(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Up(i)}function Om(e,t){const s=wm(e);return!(s===t||!im(s)||bm(s))&&("fixed"===vm(s).position||Om(s,t))}function Dm(e,t,s){const i=rm(t),r=tm(t),a="fixed"===s,n=Rm(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=Cp(0);function c(){l.x=Pm(r)}if(i||!i&&!a)if(("body"!==Jp(t)||om(r))&&(o=ym(t)),i){const e=Rm(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else r&&c();a&&!i&&r&&c();const d=!r||i||a?Cp(0):Im(r,o);return{x:n.left+o.scrollLeft-l.x-d.x,y:n.top+o.scrollTop-l.y-d.y,width:n.width,height:n.height}}function _m(e){return"static"===vm(e).position}function zm(e,t){if(!rm(e)||"fixed"===vm(e).position)return null;if(t)return t(e);let s=e.offsetParent;return tm(e)===s&&(s=s.ownerDocument.body),s}function Fm(e,t){const s=em(e);if(um(e))return s;if(!rm(e)){let t=wm(e);for(;t&&!bm(t);){if(im(t)&&!_m(t))return t;t=wm(t)}return s}let i=zm(e,t);for(;i&&cm(i)&&_m(i);)i=zm(i,t);return i&&bm(i)&&_m(i)&&!fm(i)?s:i||function(e){let t=wm(e);for(;rm(t)&&!bm(t);){if(fm(t))return t;if(um(t))return null;t=wm(t)}return null}(e)||s}const Bm={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:s,offsetParent:i,strategy:r}=e;const a="fixed"===r,n=tm(i),o=!!t&&um(t.floating);if(i===n||o&&a)return s;let l={scrollLeft:0,scrollTop:0},c=Cp(1);const d=Cp(0),u=rm(i);if((u||!u&&!a)&&(("body"!==Jp(i)||om(n))&&(l=ym(i)),rm(i))){const e=Rm(i);c=Am(i),d.x=e.x+i.clientLeft,d.y=e.y+i.clientTop}const h=!n||u||a?Cp(0):Im(n,l,!0);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:s.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:tm,getClippingRect:function(e){let{element:t,boundary:s,rootBoundary:i,strategy:r}=e;const a=[..."clippingAncestors"===s?um(t)?[]:function(e,t){const s=t.get(e);if(s)return s;let i=Nm(e,[],!1).filter(e=>im(e)&&"body"!==Jp(e)),r=null;const a="fixed"===vm(e).position;let n=a?wm(e):e;for(;im(n)&&!bm(n);){const t=vm(n),s=fm(n);s||"fixed"!==t.position||(r=null),(a?!s&&!r:!s&&"static"===t.position&&r&&Lm.has(r.position)||om(n)&&!s&&Om(e,n))?i=i.filter(e=>e!==n):r=t,n=wm(n)}return t.set(e,i),i}(t,this._c):[].concat(s),i],n=a[0],o=a.reduce((e,s)=>{const i=Mm(t,s,r);return e.top=Np(i.top,e.top),e.right=jp(i.right,e.right),e.bottom=jp(i.bottom,e.bottom),e.left=Np(i.left,e.left),e},Mm(t,n,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Fm,getElementRects:async function(e){const t=this.getOffsetParent||Fm,s=this.getDimensions,i=await s(e.floating);return{reference:Dm(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:s}=Sm(e);return{width:t,height:s}},getScale:Am,isElement:im,isRTL:function(e){return"rtl"===vm(e).direction}};function Hm(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wm(e,t,s,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:n="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=i,c=Cm(e),d=r||a?[...c?Nm(c):[],...Nm(t)]:[];d.forEach(e=>{r&&e.addEventListener("scroll",s,{passive:!0}),a&&e.addEventListener("resize",s)});const u=c&&o?function(e,t){let s,i=null;const r=tm(e);function a(){var e;clearTimeout(s),null==(e=i)||e.disconnect(),i=null}return function n(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(o||t(),!h||!p)return;const m={rootMargin:-Sp(u)+"px "+-Sp(r.clientWidth-(d+h))+"px "+-Sp(r.clientHeight-(u+p))+"px "+-Sp(d)+"px",threshold:Np(0,jp(1,l))||1};let f=!0;function g(t){const i=t[0].intersectionRatio;if(i!==l){if(!f)return n();i?n(!1,i):s=setTimeout(()=>{n(!1,1e-7)},1e3)}1!==i||Hm(c,e.getBoundingClientRect())||n(),f=!1}try{i=new IntersectionObserver(g,{...m,root:r.ownerDocument})}catch(x){i=new IntersectionObserver(g,m)}i.observe(e)}(!0),a}(c,s):null;let h,p=-1,m=null;n&&(m=new ResizeObserver(e=>{let[i]=e;i&&i.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),s()}),c&&!l&&m.observe(c),m.observe(t));let f=l?Rm(e):null;return l&&function t(){const i=Rm(e);f&&!Hm(f,i)&&s();f=i,h=requestAnimationFrame(t)}(),s(),()=>{var e;d.forEach(e=>{r&&e.removeEventListener("scroll",s),a&&e.removeEventListener("resize",s)}),null==u||u(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const Xm=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var s,i;const{x:r,y:a,placement:n,middlewareData:o}=t,l=await async function(e,t){const{placement:s,platform:i,elements:r}=e,a=await(null==i.isRTL?void 0:i.isRTL(r.floating)),n=Pp(s),o=Ip(s),l="y"===Dp(s),c=Kp.has(n)?-1:1,d=a&&l?-1:1,u=Rp(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof m&&(p="end"===o?-1*m:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return n===(null==(s=o.offset)?void 0:s.placement)&&null!=(i=o.arrow)&&i.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:n}}}}},Ym=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:n=!1,limiter:o={fn:e=>{let{x:t,y:s}=e;return{x:t,y:s}}},...l}=Rp(e,t),c={x:s,y:i},d=await Gp(t,l),u=Dp(Pp(r)),h=Lp(u);let p=c[h],m=c[u];if(a){const e="y"===h?"bottom":"right";p=Ep(p+d["y"===h?"top":"left"],p,p-d[e])}if(n){const e="y"===u?"bottom":"right";m=Ep(m+d["y"===u?"top":"left"],m,m-d[e])}const f=o.fn({...t,[h]:p,[u]:m});return{...f,data:{x:f.x-s,y:f.y-i,enabled:{[h]:a,[u]:n}}}}}},Vm=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var s,i;const{placement:r,middlewareData:a,rects:n,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=Rp(e,t);if(null!=(s=a.arrow)&&s.alignmentOffset)return{};const x=Pp(r),b=Dp(o),v=Pp(o)===o,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(v||!f?[Yp(o)]:function(e){const t=Yp(e);return[zp(e),t,zp(t)]}(o)),j="none"!==m;!h&&j&&w.push(...Xp(o,f,m,y));const N=[o,...w],k=await Gp(t,g),S=[];let C=(null==(i=a.flip)?void 0:i.overflows)||[];if(d&&S.push(k[x]),u){const e=function(e,t,s){void 0===s&&(s=!1);const i=Ip(e),r=_p(e),a=Mp(r);let n="x"===r?i===(s?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[a]>t.floating[a]&&(n=Yp(n)),[n,Yp(n)]}(r,n,y);S.push(k[e[0]],k[e[1]])}if(C=[...C,{placement:r,overflows:S}],!S.every(e=>e<=0)){var A,T;const e=((null==(A=a.flip)?void 0:A.index)||0)+1,t=N[e];if(t){if(!("alignment"===u&&b!==Dp(t))||C.every(e=>Dp(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:C},reset:{placement:t}}}let s=null==(T=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!s)switch(p){case"bestFit":{var E;const e=null==(E=C.filter(e=>{if(j){const t=Dp(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:E[0];e&&(s=e);break}case"initialPlacement":s=o}if(r!==s)return{reset:{placement:s}}}return{}}}},Um=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var s,i;const{placement:r,rects:a,platform:n,elements:o}=t,{apply:l=()=>{},...c}=Rp(e,t),d=await Gp(t,c),u=Pp(r),h=Ip(r),p="y"===Dp(r),{width:m,height:f}=a.floating;let g,x;"top"===u||"bottom"===u?(g=u,x=h===(await(null==n.isRTL?void 0:n.isRTL(o.floating))?"start":"end")?"left":"right"):(x=u,g="end"===h?"top":"bottom");const b=f-d.top-d.bottom,v=m-d.left-d.right,y=jp(f-d[g],b),w=jp(m-d[x],v),j=!t.middlewareData.shift;let N=y,k=w;if(null!=(s=t.middlewareData.shift)&&s.enabled.x&&(k=v),null!=(i=t.middlewareData.shift)&&i.enabled.y&&(N=b),j&&!h){const e=Np(d.left,0),t=Np(d.right,0),s=Np(d.top,0),i=Np(d.bottom,0);p?k=m-2*(0!==e||0!==t?e+t:Np(d.left,d.right)):N=f-2*(0!==s||0!==i?s+i:Np(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:N});const S=await n.getDimensions(o.floating);return m!==S.width||f!==S.height?{reset:{rects:!0}}:{}}}},qm=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:i="referenceHidden",...r}=Rp(e,t);switch(i){case"referenceHidden":{const e=$p(await Gp(t,{...r,elementContext:"reference"}),s.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Qp(e)}}}case"escaped":{const e=$p(await Gp(t,{...r,altBoundary:!0}),s.floating);return{data:{escapedOffsets:e,escaped:Qp(e)}}}default:return{}}}}},Gm=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:i,placement:r,rects:a,platform:n,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=Rp(e,t)||{};if(null==c)return{};const u=Vp(d),h={x:s,y:i},p=_p(r),m=Mp(p),f=await n.getDimensions(c),g="y"===p,x=g?"top":"left",b=g?"bottom":"right",v=g?"clientHeight":"clientWidth",y=a.reference[m]+a.reference[p]-h[p]-a.floating[m],w=h[p]-a.reference[p],j=await(null==n.getOffsetParent?void 0:n.getOffsetParent(c));let N=j?j[v]:0;N&&await(null==n.isElement?void 0:n.isElement(j))||(N=o.floating[v]||a.floating[m]);const k=y/2-w/2,S=N/2-f[m]/2-1,C=jp(u[x],S),A=jp(u[b],S),T=C,E=N-f[m]-A,R=N/2-f[m]/2+k,P=Ep(T,R,E),I=!l.arrow&&null!=Ip(r)&&R!==P&&a.reference[m]/2-(R<T?C:A)-f[m]/2<0,L=I?R<T?R-T:R-E:0;return{[p]:h[p]+L,data:{[p]:P,centerOffset:R-P-L,...I&&{alignmentOffset:L}},reset:I}}}),$m=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:r,rects:a,middlewareData:n}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Rp(e,t),d={x:s,y:i},u=Dp(r),h=Lp(u);let p=d[h],m=d[u];const f=Rp(o,t),g="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+g.mainAxis,s=a.reference[h]+a.reference[e]-g.mainAxis;p<t?p=t:p>s&&(p=s)}if(c){var x,b;const e="y"===h?"width":"height",t=Kp.has(Pp(r)),s=a.reference[u]-a.floating[e]+(t&&(null==(x=n.offset)?void 0:x[u])||0)+(t?0:g.crossAxis),i=a.reference[u]+a.reference[e]+(t?0:(null==(b=n.offset)?void 0:b[u])||0)-(t?g.crossAxis:0);m<s?m=s:m>i&&(m=i)}return{[h]:p,[u]:m}}}},Qm=(e,t,s)=>{const i=new Map,r={platform:Bm,...s},a={...r.platform,_c:i};return(async(e,t,s)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:n}=s,o=a.filter(Boolean),l=await(null==n.isRTL?void 0:n.isRTL(t));let c=await n.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:u}=qp(c,i,l),h=i,p={},m=0;for(let f=0;f<o.length;f++){const{name:s,fn:a}=o[f],{x:g,y:x,data:b,reset:v}=await a({x:d,y:u,initialPlacement:i,placement:h,strategy:r,middlewareData:p,rects:c,platform:n,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,p={...p,[s]:{...p[s],...b}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await n.getElementRects({reference:e,floating:t,strategy:r}):v.rects),({x:d,y:u}=qp(c,h,l))),f=-1)}return{x:d,y:u,placement:h,strategy:r,middlewareData:p}})(e,t,{...r,platform:a})};var Km="undefined"!=typeof document?Ct.useLayoutEffect:function(){};function Zm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let s,i,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;0!==i--;)if(!Zm(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),s=r.length,s!==Object.keys(t).length)return!1;for(i=s;0!==i--;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=s;0!==i--;){const s=r[i];if(("_owner"!==s||!e.$$typeof)&&!Zm(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}function Jm(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ef(e,t){const s=Jm(e);return Math.round(t*s)/s}function tf(e){const t=Ct.useRef(e);return Km(()=>{t.current=e}),t}function sf(e){void 0===e&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:n}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=Ct.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=Ct.useState(i);Zm(h,i)||p(i);const[m,f]=Ct.useState(null),[g,x]=Ct.useState(null),b=Ct.useCallback(e=>{e!==j.current&&(j.current=e,f(e))},[]),v=Ct.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),y=a||m,w=n||g,j=Ct.useRef(null),N=Ct.useRef(null),k=Ct.useRef(d),S=null!=l,C=tf(l),A=tf(r),T=tf(c),E=Ct.useCallback(()=>{if(!j.current||!N.current)return;const e={placement:t,strategy:s,middleware:h};A.current&&(e.platform=A.current),Qm(j.current,N.current,e).then(e=>{const t={...e,isPositioned:!1!==T.current};R.current&&!Zm(k.current,t)&&(k.current=t,Pt.flushSync(()=>{u(t)}))})},[h,t,s,A,T]);Km(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);const R=Ct.useRef(!1);Km(()=>(R.current=!0,()=>{R.current=!1}),[]),Km(()=>{if(y&&(j.current=y),w&&(N.current=w),y&&w){if(C.current)return C.current(y,w,E);E()}},[y,w,E,C,S]);const P=Ct.useMemo(()=>({reference:j,floating:N,setReference:b,setFloating:v}),[b,v]),I=Ct.useMemo(()=>({reference:y,floating:w}),[y,w]),L=Ct.useMemo(()=>{const e={position:s,left:0,top:0};if(!I.floating)return e;const t=ef(I.floating,d.x),i=ef(I.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+i+"px)",...Jm(I.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:t,top:i}},[s,o,I.floating,d.x,d.y]);return Ct.useMemo(()=>({...d,update:E,refs:P,elements:I,floatingStyles:L}),[d,E,P,I,L])}const rf=e=>({name:"arrow",options:e,fn(t){const{element:s,padding:i}="function"==typeof e?e(t):e;return s&&(r=s,{}.hasOwnProperty.call(r,"current"))?null!=s.current?Gm({element:s.current,padding:i}).fn(t):{}:s?Gm({element:s,padding:i}).fn(t):{};var r}}),af=(e,t)=>({...Xm(e),options:[e,t]}),nf=(e,t)=>({...Ym(e),options:[e,t]}),of=(e,t)=>({...$m(e),options:[e,t]}),lf=(e,t)=>({...Vm(e),options:[e,t]}),cf=(e,t)=>({...Um(e),options:[e,t]}),df=(e,t)=>({...qm(e),options:[e,t]}),uf=(e,t)=>({...rf(e),options:[e,t]});var hf=Ct.forwardRef((e,t)=>{const{children:i,width:r=10,height:a=5,...n}=e;return s.jsx(m.svg,{...n,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?i:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});hf.displayName="Arrow";var pf=hf;function mf(e){const[t,s]=Ct.useState(void 0);return b(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const i=t[0];let r,a;if("borderBoxSize"in i){const e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;s({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}var ff="Popper",[gf,xf]=v(ff),[bf,vf]=gf(ff),yf=e=>{const{__scopePopper:t,children:i}=e,[r,a]=Ct.useState(null);return s.jsx(bf,{scope:t,anchor:r,onAnchorChange:a,children:i})};yf.displayName=ff;var wf="PopperAnchor",jf=Ct.forwardRef((e,t)=>{const{__scopePopper:i,virtualRef:r,...a}=e,n=vf(wf,i),o=Ct.useRef(null),l=h(t,o);return Ct.useEffect(()=>{n.onAnchorChange((null==r?void 0:r.current)||o.current)}),r?null:s.jsx(m.div,{...a,ref:l})});jf.displayName=wf;var Nf="PopperContent",[kf,Sf]=gf(Nf),Cf=Ct.forwardRef((e,t)=>{var i,r,a,n,o,l;const{__scopePopper:c,side:d="bottom",sideOffset:u=0,align:p="center",alignOffset:f=0,arrowPadding:x=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:w=0,sticky:j="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:S,...C}=e,A=vf(Nf,c),[T,E]=Ct.useState(null),R=h(t,e=>E(e)),[P,I]=Ct.useState(null),L=mf(P),M=(null==L?void 0:L.width)??0,O=(null==L?void 0:L.height)??0,D=d+("center"!==p?"-"+p:""),_="number"==typeof w?w:{top:0,right:0,bottom:0,left:0,...w},z=Array.isArray(y)?y:[y],F=z.length>0,B={padding:_,boundary:z.filter(Rf),altBoundary:F},{refs:H,floatingStyles:W,placement:X,isPositioned:Y,middlewareData:V}=sf({strategy:"fixed",placement:D,whileElementsMounted:(...e)=>Wm(...e,{animationFrame:"always"===k}),elements:{reference:A.anchor},middleware:[af({mainAxis:u+O,alignmentAxis:f}),v&&nf({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?of():void 0,...B}),v&&lf({...B}),cf({...B,apply:({elements:e,rects:t,availableWidth:s,availableHeight:i})=>{const{width:r,height:a}=t.reference,n=e.floating.style;n.setProperty("--radix-popper-available-width",`${s}px`),n.setProperty("--radix-popper-available-height",`${i}px`),n.setProperty("--radix-popper-anchor-width",`${r}px`),n.setProperty("--radix-popper-anchor-height",`${a}px`)}}),P&&uf({element:P,padding:x}),Pf({arrowWidth:M,arrowHeight:O}),N&&df({strategy:"referenceHidden",...B})]}),[U,q]=If(X),G=g(S);b(()=>{Y&&(null==G||G())},[Y,G]);const $=null==(i=V.arrow)?void 0:i.x,Q=null==(r=V.arrow)?void 0:r.y,K=0!==(null==(a=V.arrow)?void 0:a.centerOffset),[Z,J]=Ct.useState();return b(()=>{T&&J(window.getComputedStyle(T).zIndex)},[T]),s.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[null==(n=V.transformOrigin)?void 0:n.x,null==(o=V.transformOrigin)?void 0:o.y].join(" "),...(null==(l=V.hide)?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(kf,{scope:c,placedSide:U,onArrowChange:I,arrowX:$,arrowY:Q,shouldHideArrow:K,children:s.jsx(m.div,{"data-side":U,"data-align":q,...C,ref:R,style:{...C.style,animation:Y?void 0:"none"}})})})});Cf.displayName=Nf;var Af="PopperArrow",Tf={top:"bottom",right:"left",bottom:"top",left:"right"},Ef=Ct.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,a=Sf(Af,i),n=Tf[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(pf,{...r,ref:t,style:{...r.style,display:"block"}})})});function Rf(e){return null!==e}Ef.displayName=Af;var Pf=e=>({name:"transformOrigin",options:e,fn(t){var s,i,r;const{placement:a,rects:n,middlewareData:o}=t,l=0!==(null==(s=o.arrow)?void 0:s.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,h]=If(a),p={start:"0%",center:"50%",end:"100%"}[h],m=((null==(i=o.arrow)?void 0:i.x)??0)+c/2,f=((null==(r=o.arrow)?void 0:r.y)??0)+d/2;let g="",x="";return"bottom"===u?(g=l?p:`${m}px`,x=-d+"px"):"top"===u?(g=l?p:`${m}px`,x=`${n.floating.height+d}px`):"right"===u?(g=-d+"px",x=l?p:`${f}px`):"left"===u&&(g=`${n.floating.width+d}px`,x=l?p:`${f}px`),{data:{x:g,y:x}}}});function If(e){const[t,s="center"]=e.split("-");return[t,s]}var Lf=yf,Mf=jf,Of=Cf,Df=Ef,_f="rovingFocusGroup.onEntryFocus",zf={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[Bf,Hf,Wf]=y(Ff),[Xf,Yf]=v(Ff,[Wf]),[Vf,Uf]=Xf(Ff),qf=Ct.forwardRef((e,t)=>s.jsx(Bf.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Bf.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Gf,{...e,ref:t})})}));qf.displayName=Ff;var Gf=Ct.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:i,orientation:r,loop:a=!1,dir:n,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...p}=e,x=Ct.useRef(null),b=h(t,x),v=j(n),[y,w]=N({prop:o,defaultProp:l??null,onChange:c,caller:Ff}),[k,S]=Ct.useState(!1),C=g(d),A=Hf(i),T=Ct.useRef(!1),[E,R]=Ct.useState(0);return Ct.useEffect(()=>{const e=x.current;if(e)return e.addEventListener(_f,C),()=>e.removeEventListener(_f,C)},[C]),s.jsx(Vf,{scope:i,orientation:r,dir:v,loop:a,currentTabStopId:y,onItemFocus:Ct.useCallback(e=>w(e),[w]),onItemShiftTab:Ct.useCallback(()=>S(!0),[]),onFocusableItemAdd:Ct.useCallback(()=>R(e=>e+1),[]),onFocusableItemRemove:Ct.useCallback(()=>R(e=>e-1),[]),children:s.jsx(m.div,{tabIndex:k||0===E?-1:0,"data-orientation":r,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:f(e.onMouseDown,()=>{T.current=!0}),onFocus:f(e.onFocus,e=>{const t=!T.current;if(e.target===e.currentTarget&&t&&!k){const t=new CustomEvent(_f,zf);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=A().filter(e=>e.focusable);Zf([e.find(e=>e.active),e.find(e=>e.id===y),...e].filter(Boolean).map(e=>e.ref.current),u)}}T.current=!1}),onBlur:f(e.onBlur,()=>S(!1))})})}),$f="RovingFocusGroupItem",Qf=Ct.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:i,focusable:r=!0,active:a=!1,tabStopId:n,children:o,...l}=e,c=w(),d=n||c,u=Uf($f,i),h=u.currentTabStopId===d,p=Hf(i),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:b}=u;return Ct.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),s.jsx(Bf.ItemSlot,{scope:i,id:d,focusable:r,active:a,children:s.jsx(m.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:f(e.onMouseDown,e=>{r?u.onItemFocus(d):e.preventDefault()}),onFocus:f(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:f(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,s){const i=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,s);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(i)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)?void 0:Kf[i]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const a=r.indexOf(e.currentTarget);r=u.loop?(i=a+1,(s=r).map((e,t)=>s[(i+t)%s.length])):r.slice(a+1)}setTimeout(()=>Zf(r))}var s,i}),children:"function"==typeof o?o({isCurrentTabStop:h,hasTabStop:null!=b}):o})})});Qf.displayName=$f;var Kf={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zf(e,t=!1){const s=document.activeElement;for(const i of e){if(i===s)return;if(i.focus({preventScroll:t}),document.activeElement!==s)return}}var Jf=qf,eg=Qf,tg=["Enter"," "],sg=["ArrowUp","PageDown","End"],ig=["ArrowDown","PageUp","Home",...sg],rg={ltr:[...tg,"ArrowRight"],rtl:[...tg,"ArrowLeft"]},ag={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ng="Menu",[og,lg,cg]=y(ng),[dg,ug]=v(ng,[cg,xf,Yf]),hg=xf(),pg=Yf(),[mg,fg]=dg(ng),[gg,xg]=dg(ng),bg=e=>{const{__scopeMenu:t,open:i=!1,children:r,dir:a,onOpenChange:n,modal:o=!0}=e,l=hg(t),[c,d]=Ct.useState(null),u=Ct.useRef(!1),h=g(n),p=j(a);return Ct.useEffect(()=>{const e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),s.jsx(Lf,{...l,children:s.jsx(mg,{scope:t,open:i,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(gg,{scope:t,onClose:Ct.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};bg.displayName=ng;var vg=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e,a=hg(i);return s.jsx(Mf,{...a,...r,ref:t})});vg.displayName="MenuAnchor";var yg="MenuPortal",[wg,jg]=dg(yg,{forceMount:void 0}),Ng=e=>{const{__scopeMenu:t,forceMount:i,children:r,container:a}=e,n=fg(yg,t);return s.jsx(wg,{scope:t,forceMount:i,children:s.jsx(S,{present:i||n.open,children:s.jsx(C,{asChild:!0,container:a,children:r})})})};Ng.displayName=yg;var kg="MenuContent",[Sg,Cg]=dg(kg),Ag=Ct.forwardRef((e,t)=>{const i=jg(kg,e.__scopeMenu),{forceMount:r=i.forceMount,...a}=e,n=fg(kg,e.__scopeMenu),o=xg(kg,e.__scopeMenu);return s.jsx(og.Provider,{scope:e.__scopeMenu,children:s.jsx(S,{present:r||n.open,children:s.jsx(og.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Tg,{...a,ref:t}):s.jsx(Eg,{...a,ref:t})})})})}),Tg=Ct.forwardRef((e,t)=>{const i=fg(kg,e.__scopeMenu),r=Ct.useRef(null),a=h(t,r);return Ct.useEffect(()=>{const e=r.current;if(e)return E(e)},[]),s.jsx(Pg,{...e,ref:a,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:f(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),Eg=Ct.forwardRef((e,t)=>{const i=fg(kg,e.__scopeMenu);return s.jsx(Pg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),Rg=T("MenuContent.ScrollLock"),Pg=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,loop:r=!1,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...b}=e,v=fg(kg,i),y=xg(kg,i),w=hg(i),j=pg(i),N=lg(i),[k,S]=Ct.useState(null),C=Ct.useRef(null),T=h(t,C,v.onContentChange),E=Ct.useRef(0),R=Ct.useRef(""),P=Ct.useRef(0),I=Ct.useRef(null),L=Ct.useRef("right"),M=Ct.useRef(0),O=x?A:Ct.Fragment,D=x?{as:Rg,allowPinchZoom:!0}:void 0,_=e=>{var t,s;const i=R.current+e,r=N().filter(e=>!e.disabled),a=document.activeElement,n=null==(t=r.find(e=>e.ref.current===a))?void 0:t.textValue,o=function(e,t,s){const i=t.length>1&&Array.from(t).every(e=>e===t[0]),r=i?t[0]:t,a=s?e.indexOf(s):-1;let n=(o=e,l=Math.max(a,0),o.map((e,t)=>o[(l+t)%o.length]));var o,l;1===r.length&&(n=n.filter(e=>e!==s));const c=n.find(e=>e.toLowerCase().startsWith(r.toLowerCase()));return c!==s?c:void 0}(r.map(e=>e.textValue),i,n),l=null==(s=r.find(e=>e.textValue===o))?void 0:s.ref.current;!function e(t){R.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout(()=>e(""),1e3))}(i),l&&setTimeout(()=>l.focus())};Ct.useEffect(()=>()=>window.clearTimeout(E.current),[]),cp();const z=Ct.useCallback(e=>{var t,s;return L.current===(null==(t=I.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return function(e,t){const{x:s,y:i}=e;let r=!1;for(let a=0,n=t.length-1;a<t.length;n=a++){const e=t[a],o=t[n],l=e.x,c=e.y,d=o.x,u=o.y;c>i!=u>i&&s<(d-l)*(i-c)/(u-c)+l&&(r=!r)}return r}(s,t)}(e,null==(s=I.current)?void 0:s.area)},[]);return s.jsx(Sg,{scope:i,searchRef:R,onItemEnter:Ct.useCallback(e=>{z(e)&&e.preventDefault()},[z]),onItemLeave:Ct.useCallback(e=>{var t;z(e)||(null==(t=C.current)||t.focus(),S(null))},[z]),onTriggerLeave:Ct.useCallback(e=>{z(e)&&e.preventDefault()},[z]),pointerGraceTimerRef:P,onPointerGraceIntentChange:Ct.useCallback(e=>{I.current=e},[]),children:s.jsx(O,{...D,children:s.jsx(mp,{asChild:!0,trapped:a,onMountAutoFocus:f(n,e=>{var t;e.preventDefault(),null==(t=C.current)||t.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ap,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:s.jsx(Jf,{asChild:!0,...j,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:f(c,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Of,{role:"menu","aria-orientation":"vertical","data-state":ix(v.open),"data-radix-menu-content":"",dir:y.dir,...w,...b,ref:T,style:{outline:"none",...b.style},onKeyDown:f(b.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,s=e.ctrlKey||e.altKey||e.metaKey,i=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!s&&i&&_(e.key));const r=C.current;if(e.target!==r)return;if(!ig.includes(e.key))return;e.preventDefault();const a=N().filter(e=>!e.disabled).map(e=>e.ref.current);sg.includes(e.key)&&a.reverse(),function(e){const t=document.activeElement;for(const s of e){if(s===t)return;if(s.focus(),document.activeElement!==t)return}}(a)}),onBlur:f(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:f(e.onPointerMove,nx(e=>{const t=e.target,s=M.current!==e.clientX;if(e.currentTarget.contains(t)&&s){const t=e.clientX>M.current?"right":"left";L.current=t,M.current=e.clientX}}))})})})})})})});Ag.displayName=kg;var Ig=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e;return s.jsx(m.div,{role:"group",...r,ref:t})});Ig.displayName="MenuGroup";var Lg=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e;return s.jsx(m.div,{...r,ref:t})});Lg.displayName="MenuLabel";var Mg="MenuItem",Og="menu.itemSelect",Dg=Ct.forwardRef((e,t)=>{const{disabled:i=!1,onSelect:r,...a}=e,n=Ct.useRef(null),o=xg(Mg,e.__scopeMenu),l=Cg(Mg,e.__scopeMenu),c=h(t,n),d=Ct.useRef(!1);return s.jsx(_g,{...a,ref:c,disabled:i,onClick:f(e.onClick,()=>{const e=n.current;if(!i&&e){const t=new CustomEvent(Og,{bubbles:!0,cancelable:!0});e.addEventListener(Og,e=>null==r?void 0:r(e),{once:!0}),x(e,t),t.defaultPrevented?d.current=!1:o.onClose()}}),onPointerDown:t=>{var s;null==(s=e.onPointerDown)||s.call(e,t),d.current=!0},onPointerUp:f(e.onPointerUp,e=>{var t;d.current||null==(t=e.currentTarget)||t.click()}),onKeyDown:f(e.onKeyDown,e=>{const t=""!==l.searchRef.current;i||t&&" "===e.key||tg.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});Dg.displayName=Mg;var _g=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,disabled:r=!1,textValue:a,...n}=e,o=Cg(Mg,i),l=pg(i),c=Ct.useRef(null),d=h(t,c),[u,p]=Ct.useState(!1),[g,x]=Ct.useState("");return Ct.useEffect(()=>{const e=c.current;e&&x((e.textContent??"").trim())},[n.children]),s.jsx(og.ItemSlot,{scope:i,disabled:r,textValue:a??g,children:s.jsx(eg,{asChild:!0,...l,focusable:!r,children:s.jsx(m.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...n,ref:d,onPointerMove:f(e.onPointerMove,nx(e=>{if(r)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:f(e.onPointerLeave,nx(e=>o.onItemLeave(e))),onFocus:f(e.onFocus,()=>p(!0)),onBlur:f(e.onBlur,()=>p(!1))})})})}),zg=Ct.forwardRef((e,t)=>{const{checked:i=!1,onCheckedChange:r,...a}=e;return s.jsx(Ug,{scope:e.__scopeMenu,checked:i,children:s.jsx(Dg,{role:"menuitemcheckbox","aria-checked":rx(i)?"mixed":i,...a,ref:t,"data-state":ax(i),onSelect:f(a.onSelect,()=>null==r?void 0:r(!!rx(i)||!i),{checkForDefaultPrevented:!1})})})});zg.displayName="MenuCheckboxItem";var Fg="MenuRadioGroup",[Bg,Hg]=dg(Fg,{value:void 0,onValueChange:()=>{}}),Wg=Ct.forwardRef((e,t)=>{const{value:i,onValueChange:r,...a}=e,n=g(r);return s.jsx(Bg,{scope:e.__scopeMenu,value:i,onValueChange:n,children:s.jsx(Ig,{...a,ref:t})})});Wg.displayName=Fg;var Xg="MenuRadioItem",Yg=Ct.forwardRef((e,t)=>{const{value:i,...r}=e,a=Hg(Xg,e.__scopeMenu),n=i===a.value;return s.jsx(Ug,{scope:e.__scopeMenu,checked:n,children:s.jsx(Dg,{role:"menuitemradio","aria-checked":n,...r,ref:t,"data-state":ax(n),onSelect:f(r.onSelect,()=>{var e;return null==(e=a.onValueChange)?void 0:e.call(a,i)},{checkForDefaultPrevented:!1})})})});Yg.displayName=Xg;var Vg="MenuItemIndicator",[Ug,qg]=dg(Vg,{checked:!1}),Gg=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,forceMount:r,...a}=e,n=qg(Vg,i);return s.jsx(S,{present:r||rx(n.checked)||!0===n.checked,children:s.jsx(m.span,{...a,ref:t,"data-state":ax(n.checked)})})});Gg.displayName=Vg;var $g=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e;return s.jsx(m.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});$g.displayName="MenuSeparator";var Qg=Ct.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e,a=hg(i);return s.jsx(Df,{...a,...r,ref:t})});Qg.displayName="MenuArrow";var[Kg,Zg]=dg("MenuSub"),Jg="MenuSubTrigger",ex=Ct.forwardRef((e,t)=>{const i=fg(Jg,e.__scopeMenu),r=xg(Jg,e.__scopeMenu),a=Zg(Jg,e.__scopeMenu),n=Cg(Jg,e.__scopeMenu),o=Ct.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=n,d={__scopeMenu:e.__scopeMenu},u=Ct.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return Ct.useEffect(()=>u,[u]),Ct.useEffect(()=>{const e=l.current;return()=>{window.clearTimeout(e),c(null)}},[l,c]),s.jsx(vg,{asChild:!0,...d,children:s.jsx(_g,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":a.contentId,"data-state":ix(i.open),...e,ref:k(t,a.onTriggerChange),onClick:t=>{var s;null==(s=e.onClick)||s.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:f(e.onPointerMove,nx(t=>{n.onItemEnter(t),t.defaultPrevented||e.disabled||i.open||o.current||(n.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{i.onOpenChange(!0),u()},100))})),onPointerLeave:f(e.onPointerLeave,nx(e=>{var t,s;u();const r=null==(t=i.content)?void 0:t.getBoundingClientRect();if(r){const t=null==(s=i.content)?void 0:s.dataset.side,a="right"===t,o=a?-5:5,c=r[a?"left":"right"],d=r[a?"right":"left"];n.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:c,y:r.top},{x:d,y:r.top},{x:d,y:r.bottom},{x:c,y:r.bottom}],side:t}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>n.onPointerGraceIntentChange(null),300)}else{if(n.onTriggerLeave(e),e.defaultPrevented)return;n.onPointerGraceIntentChange(null)}})),onKeyDown:f(e.onKeyDown,t=>{var s;const a=""!==n.searchRef.current;e.disabled||a&&" "===t.key||rg[r.dir].includes(t.key)&&(i.onOpenChange(!0),null==(s=i.content)||s.focus(),t.preventDefault())})})})});ex.displayName=Jg;var tx="MenuSubContent",sx=Ct.forwardRef((e,t)=>{const i=jg(kg,e.__scopeMenu),{forceMount:r=i.forceMount,...a}=e,n=fg(kg,e.__scopeMenu),o=xg(kg,e.__scopeMenu),l=Zg(tx,e.__scopeMenu),c=Ct.useRef(null),d=h(t,c);return s.jsx(og.Provider,{scope:e.__scopeMenu,children:s.jsx(S,{present:r||n.open,children:s.jsx(og.Slot,{scope:e.__scopeMenu,children:s.jsx(Pg,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;o.isUsingKeyboardRef.current&&(null==(t=c.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:f(e.onFocusOutside,e=>{e.target!==l.trigger&&n.onOpenChange(!1)}),onEscapeKeyDown:f(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:f(e.onKeyDown,e=>{var t;const s=e.currentTarget.contains(e.target),i=ag[o.dir].includes(e.key);s&&i&&(n.onOpenChange(!1),null==(t=l.trigger)||t.focus(),e.preventDefault())})})})})})});function ix(e){return e?"open":"closed"}function rx(e){return"indeterminate"===e}function ax(e){return rx(e)?"indeterminate":e?"checked":"unchecked"}function nx(e){return t=>"mouse"===t.pointerType?e(t):void 0}sx.displayName=tx;var ox=bg,lx=vg,cx=Ng,dx=Ag,ux=Ig,hx=Lg,px=Dg,mx=zg,fx=Wg,gx=Yg,xx=Gg,bx=$g,vx=Qg,yx=ex,wx=sx,jx="DropdownMenu",[Nx,kx]=v(jx,[ug]),Sx=ug(),[Cx,Ax]=Nx(jx),Tx=e=>{const{__scopeDropdownMenu:t,children:i,dir:r,open:a,defaultOpen:n,onOpenChange:o,modal:l=!0}=e,c=Sx(t),d=Ct.useRef(null),[u,h]=N({prop:a,defaultProp:n??!1,onChange:o,caller:jx});return s.jsx(Cx,{scope:t,triggerId:w(),triggerRef:d,contentId:w(),open:u,onOpenChange:h,onOpenToggle:Ct.useCallback(()=>h(e=>!e),[h]),modal:l,children:s.jsx(ox,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:i})})};Tx.displayName=jx;var Ex="DropdownMenuTrigger",Rx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,disabled:r=!1,...a}=e,n=Ax(Ex,i),o=Sx(i);return s.jsx(lx,{asChild:!0,...o,children:s.jsx(m.button,{type:"button",id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.open?n.contentId:void 0,"data-state":n.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:k(t,n.triggerRef),onPointerDown:f(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(n.onOpenToggle(),n.open||e.preventDefault())}),onKeyDown:f(e.onKeyDown,e=>{r||(["Enter"," "].includes(e.key)&&n.onOpenToggle(),"ArrowDown"===e.key&&n.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});Rx.displayName=Ex;var Px=e=>{const{__scopeDropdownMenu:t,...i}=e,r=Sx(t);return s.jsx(cx,{...r,...i})};Px.displayName="DropdownMenuPortal";var Ix="DropdownMenuContent",Lx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Ax(Ix,i),n=Sx(i),o=Ct.useRef(!1);return s.jsx(dx,{id:a.contentId,"aria-labelledby":a.triggerId,...n,...r,ref:t,onCloseAutoFocus:f(e.onCloseAutoFocus,e=>{var t;o.current||null==(t=a.triggerRef.current)||t.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:f(e.onInteractOutside,e=>{const t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey,i=2===t.button||s;a.modal&&!i||(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Lx.displayName=Ix;Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(ux,{...a,...r,ref:t})}).displayName="DropdownMenuGroup";var Mx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(hx,{...a,...r,ref:t})});Mx.displayName="DropdownMenuLabel";var Ox=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(px,{...a,...r,ref:t})});Ox.displayName="DropdownMenuItem";var Dx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(mx,{...a,...r,ref:t})});Dx.displayName="DropdownMenuCheckboxItem";Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(fx,{...a,...r,ref:t})}).displayName="DropdownMenuRadioGroup";var _x=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(gx,{...a,...r,ref:t})});_x.displayName="DropdownMenuRadioItem";var zx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(xx,{...a,...r,ref:t})});zx.displayName="DropdownMenuItemIndicator";var Fx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(bx,{...a,...r,ref:t})});Fx.displayName="DropdownMenuSeparator";Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(vx,{...a,...r,ref:t})}).displayName="DropdownMenuArrow";var Bx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(yx,{...a,...r,ref:t})});Bx.displayName="DropdownMenuSubTrigger";var Hx=Ct.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Sx(i);return s.jsx(wx,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hx.displayName="DropdownMenuSubContent";var Wx=Px,Xx=Lx,Yx=Mx,Vx=Ox,Ux=Dx,qx=_x,Gx=zx,$x=Fx,Qx=Bx,Kx=Hx;const Zx=Tx,Jx=Rx;Ct.forwardRef(({className:e,inset:t,children:i,...r},a)=>s.jsxs(Qx,{ref:a,className:Yh("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[i,s.jsx(R,{className:"ml-auto"})]})).displayName=Qx.displayName;Ct.forwardRef(({className:e,...t},i)=>s.jsx(Kx,{ref:i,className:Yh("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t})).displayName=Kx.displayName;const eb=Ct.forwardRef(({className:e,sideOffset:t=4,...i},r)=>s.jsx(Wx,{children:s.jsx(Xx,{ref:r,sideOffset:t,className:Yh("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...i})}));eb.displayName=Xx.displayName;const tb=Ct.forwardRef(({className:e,inset:t,...i},r)=>s.jsx(Vx,{ref:r,className:Yh("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...i}));tb.displayName=Vx.displayName;Ct.forwardRef(({className:e,children:t,checked:i,...r},a)=>s.jsxs(Ux,{ref:a,className:Yh("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:i,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Gx,{children:s.jsx(P,{className:"h-4 w-4"})})}),t]})).displayName=Ux.displayName;Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(qx,{ref:r,className:Yh("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...i,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Gx,{children:s.jsx(I,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=qx.displayName;Ct.forwardRef(({className:e,inset:t,...i},r)=>s.jsx(Yx,{ref:r,className:Yh("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...i})).displayName=Yx.displayName;const sb=Ct.forwardRef(({className:e,...t},i)=>s.jsx($x,{ref:i,className:Yh("-mx-1 my-1 h-px bg-muted",e),...t}));sb.displayName=$x.displayName;const ib=[{name:"Account Settings",to:Yi.AccountRoute.to,icon:L,isAuthRequired:!1,isAdminOnly:!1}];function rb({user:e}){const[t,i]=Ct.useState(!1);return s.jsxs(Zx,{open:t,onOpenChange:i,children:[s.jsx(Jx,{asChild:!0,children:s.jsxs("button",{className:"flex items-center duration-300 ease-in-out text-foreground hover:text-primary transition-colors",children:[s.jsx("span",{className:"hidden mr-2 text-right lg:block text-sm font-medium text-foreground",children:e.username}),s.jsx(M,{className:"size-5"}),s.jsx(O,{className:"size-4"})]})}),s.jsxs(eb,{children:[ib.map(t=>t.isAuthRequired&&!e?null:!t.isAdminOnly||e&&e.isAdmin?s.jsx(tb,{asChild:!0,children:s.jsxs(Xi,{to:t.to,onClick:()=>{i(!1)},className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary",children:[s.jsx(t.icon,{size:"1.1rem"}),t.name]})}):null),s.jsxs(tb,{onClick:()=>Uu(),className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary",children:[s.jsx(D,{size:"1.1rem"}),"Log Out"]})]})]})}const ab=({user:e,onItemClick:t})=>s.jsxs(s.Fragment,{children:[ib.map(i=>i.isAuthRequired&&!e?null:!i.isAdminOnly||e&&e.isAdmin?s.jsx("div",{className:"py-2",children:s.jsxs(Xi,{to:i.to,onClick:t,className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out text-foreground hover:text-primary",children:[s.jsx(i.icon,{size:"1.1rem"}),i.name]})},i.name):null),s.jsx("div",{className:"py-2",children:s.jsxs("button",{onClick:()=>{Uu(),null==t||t()},className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out text-foreground hover:text-primary",children:[s.jsx(D,{size:"1.1rem"}),"Log Out"]})})]});var nb=Ct.forwardRef((e,t)=>s.jsx(m.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));nb.displayName="Label";var ob=nb;const lb=Ku("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cb=Ct.forwardRef(({className:e,...t},i)=>s.jsx(ob,{ref:i,className:Yh(lb(),e),...t}));function db(){const[e,t]=function(e,t){const[s,i]=Ct.useState(()=>{try{const s=window.localStorage.getItem(e);return s?JSON.parse(s):t}catch(s){return t}});return Ct.useEffect(()=>{try{const t="function"==typeof s?s(s):s;window.localStorage.setItem(e,JSON.stringify(t))}catch(t){}},[e,s]),[s,i]}("color-theme","light");return Ct.useEffect(()=>{const t="dark",s=window.document.body.classList;"dark"===e?s.add(t):s.remove(t)},[e]),[e,t]}cb.displayName=ob.displayName;const ub=()=>{const[e,t]=db(),i="light"===e;return s.jsx("div",{children:s.jsxs(cb,{className:Yh("relative m-0 block h-7.5 w-14 rounded-full transition-colors duration-300 ease-in-out cursor-pointer bg-muted"),children:[s.jsx("input",{type:"checkbox",onChange:()=>{"function"==typeof t&&t(i?"dark":"light")},className:"absolute top-0 z-50 m-0 h-full w-full cursor-pointer opacity-0"}),s.jsx("span",{className:Yh("absolute top-1/2 left-[3px] flex h-6 w-6 -translate-y-1/2 translate-x-0 items-center justify-center rounded-full bg-white shadow-md border border-border transition-all duration-300 ease-in-out",{"!right-[3px] !translate-x-full":!i}),children:s.jsx(hb,{isInLightMode:i})})]})})};function hb({isInLightMode:e}){const t="absolute inset-0 flex items-center justify-center transition-opacity ease-in-out duration-300";return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:Yh(t,e?"opacity-100":"opacity-0"),children:s.jsx(_,{className:"size-4 stroke-amber-500 fill-amber-500"})}),s.jsx("span",{className:Yh(t,e?"opacity-0":"opacity-100"),children:s.jsx(z,{className:"size-4 stroke-slate-600 fill-slate-600"})})]})}function pb({navigationItems:e}){const[t,i]=Ct.useState(!1);return(()=>{const e=Rt();Ct.useMemo(()=>"/"===e.pathname,[e])})(),Ct.useEffect(()=>{const e=function(e,t){let s=null,i=null,r=!1;const a=()=>{s=Date.now(),e()},n=()=>{const e=Date.now(),n=s?e-s:0;if(null===s||n>=t)a();else if(!r){r=!0;const e=Math.max(t-n,0);i=setTimeout(()=>{a(),r=!1},e)}};return n.cancel=()=>{i&&(clearTimeout(i),i=null),r=!1},n}(()=>{i(window.scrollY>0)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e),e.cancel()}},[]),s.jsx(s.Fragment,{children:s.jsx("header",{className:Yh("sticky top-0 z-50 transition-all duration-300",t&&"top-4"),children:s.jsx("div",{className:Yh("transition-all duration-300",{"mx-4 md:mx-20 pr-2 lg:pr-0 rounded-full shadow-lg bg-background/90 backdrop-blur-lg border border-border":t,"mx-0 bg-background/80 backdrop-blur-lg border-b border-border":!t}),children:s.jsxs("nav",{className:Yh("flex items-center justify-between transition-all duration-300",{"p-3 lg:px-6":t,"p-6 lg:px-8":!t}),"aria-label":"Global",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(Xi,{to:Yi.LandingPageRoute.to,className:"flex items-center text-foreground duration-300 ease-in-out hover:text-primary transition-colors",children:[s.jsx(xb,{isScrolled:t}),s.jsx("span",{className:Yh("font-semibold leading-6 text-foreground transition-all duration-300",{"ml-2 text-sm":!t,"ml-2 text-xs":t}),children:"BrainLens"})]}),s.jsx("ul",{className:"hidden lg:flex items-center gap-6 ml-4",children:gb(e)})]}),s.jsx(fb,{isScrolled:t,navigationItems:e}),s.jsx(mb,{isScrolled:t})]})})})})}function mb({isScrolled:e}){const{data:t,isLoading:i}=Vu();return s.jsxs("div",{className:"hidden lg:flex lg:flex-1 gap-3 justify-end items-center",children:[s.jsx("ul",{className:"flex justify-center items-center gap-2 sm:gap-4",children:s.jsx(ub,{})}),i?null:t?s.jsx("div",{className:"ml-3",children:s.jsx(rb,{user:t})}):s.jsx(Xi,{to:Yi.LoginRoute.to,className:Yh("font-semibold leading-6 ml-3 transition-all duration-300",{"text-sm":!e,"text-xs":e}),children:s.jsxs("div",{className:"flex items-center duration-300 ease-in-out text-foreground hover:text-primary transition-colors",children:["Log in"," ",s.jsx(B,{size:e?"1rem":"1.1rem",className:Yh("transition-all duration-300",{"ml-1 mt-[0.1rem]":!e,"ml-1":e})})]})})]})}function fb({isScrolled:e,navigationItems:t}){const{data:i,isLoading:r}=Vu(),[a,n]=Ct.useState(!1);return s.jsx("div",{className:"flex lg:hidden",children:s.jsxs(Vh,{open:a,onOpenChange:n,children:[s.jsx(Uh,{asChild:!0,children:s.jsxs("button",{type:"button",className:Yh("inline-flex items-center justify-center rounded-md text-muted-foreground hover:text-muted hover:bg-accent transition-colors"),children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),s.jsx(F,{className:Yh("transition-all duration-300",{"size-8 p-1":!e,"size-6 p-0.5":e}),"aria-hidden":"true"})]})}),s.jsxs(Qh,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(Kh,{children:s.jsx(Zh,{className:"flex items-center",children:s.jsxs(Xi,{to:Yi.LandingPageRoute.to,children:[s.jsx("span",{className:"sr-only",children:"Your SaaS"}),s.jsx(xb,{isScrolled:!1})]})})}),s.jsx("div",{className:"mt-6 flow-root",children:s.jsxs("div",{className:"-my-6 divide-y divide-border",children:[s.jsx("ul",{className:"space-y-2 py-6",children:gb(t,n)}),s.jsx("div",{className:"py-6",children:r?null:i?s.jsx("div",{className:"space-y-2",children:s.jsx(ab,{user:i,onItemClick:()=>n(!1)})}):s.jsx(Xi,{to:Yi.LoginRoute.to,children:s.jsxs("div",{className:"flex justify-end items-center duration-300 ease-in-out text-foreground hover:text-primary transition-colors",children:["Log in ",s.jsx(B,{size:"1.1rem",className:"ml-1"})]})})}),s.jsx("div",{className:"py-6",children:s.jsx(ub,{})})]})})]})]})})}function gb(e,t){const i=Yh({"block rounded-lg px-3 py-2 text-sm font-medium leading-7 text-foreground hover:bg-accent hover:text-accent-foreground transition-colors":!!t,"text-sm font-normal leading-6 text-foreground duration-300 ease-in-out hover:text-primary transition-colors":!t});return e.map(e=>s.jsx("li",{children:s.jsx(At,{to:e.to,className:i,onClick:t&&(()=>t(!1)),children:e.name})},e.name))}const xb=({isScrolled:e})=>s.jsx("img",{className:Yh("transition-all duration-500",{"size-8":!e,"size-7":e}),src:"/favicon.png",alt:"Your SaaS App"}),bb="https://docs.opensaas.sh",vb="https://docs.opensaas.sh/blog",yb=[{name:"Documentation",to:bb},{name:"Blog",to:vb}],wb=[{name:"Features",to:"/#features"},{name:"Pricing",to:Yi.PricingPageRoute.to},...yb],jb=[{name:"AI Scheduler",to:Yi.DemoAppRoute.to},{name:"File Upload",to:Yi.FileUploadRoute.to},...yb],Nb=[{name:"Learn",to:"/learn"},{name:"AI Scheduler",to:Yi.DemoAppRoute.to},{name:"File Upload",to:Yi.FileUploadRoute.to},...yb],kb="opt-in",Sb="opt-out",Cb="show--consent",Ab="show--preferences",Tb="disable--interaction",Eb="data-category",Rb="div",Pb="button",Ib="aria-hidden",Lb="btn-group",Mb="click",Ob="data-role",Db="consentModal",_b="preferencesModal";const zb=new class{constructor(){this.t={mode:kb,revision:0,autoShow:!0,lazyHtmlGeneration:!0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:"cc_cookie",expiresAfterDays:182,domain:"",path:"/",secure:!0,sameSite:"Lax"}},this.o={i:{},l:"",_:{},u:{},p:{},m:[],v:!1,h:null,C:null,S:null,M:"",D:!0,T:!1,k:!1,A:!1,N:!1,H:[],V:!1,I:!0,L:[],j:!1,F:"",P:!1,O:[],R:[],B:[],$:[],G:!1,J:!1,U:!1,q:[],K:[],W:[],X:{},Y:{},Z:{},ee:{},te:{},oe:[]},this.ne={ae:{},se:{}},this.ce={},this.re={ie:"cc:onFirstConsent",le:"cc:onConsent",de:"cc:onChange",fe:"cc:onModalShow",_e:"cc:onModalHide",ue:"cc:onModalReady"}}},Fb=(e,t)=>e.indexOf(t),Bb=(e,t)=>-1!==Fb(e,t),Hb=e=>Array.isArray(e),Wb=e=>"string"==typeof e,Xb=e=>!!e&&"object"==typeof e&&!Hb(e),Yb=e=>"function"==typeof e,Vb=e=>Object.keys(e),Ub=e=>Array.from(new Set(e)),qb=()=>document.activeElement,Gb=e=>e.preventDefault(),$b=(e,t)=>e.querySelectorAll(t),Qb=e=>{const t=document.createElement(e);return e===Pb&&(t.type=e),t},Kb=(e,t,s)=>e.setAttribute(t,s),Zb=(e,t,s)=>{e.removeAttribute(s?"data-"+t:t)},Jb=(e,t,s)=>e.getAttribute(s?"data-"+t:t),ev=(e,t)=>e.appendChild(t),tv=(e,t)=>e.classList.add(t),sv=(e,t)=>tv(e,"cm__"+t),iv=(e,t)=>tv(e,"pm__"+t),rv=(e,t)=>e.classList.remove(t),av=e=>{if("object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());let t=Array.isArray(e)?[]:{};for(let s in e){let i=e[s];t[s]=av(i)}return t},nv=(e,t)=>dispatchEvent(new CustomEvent(e,{detail:t})),ov=(e,t,s,i)=>{e.addEventListener(t,s),i&&zb.o.m.push({pe:e,ge:t,me:s})},lv=(e,t)=>{const s=e||[],i=t||[];return s.filter(e=>!Bb(i,e)).concat(i.filter(e=>!Bb(s,e)))},cv=e=>{zb.o.R=Ub(e),zb.o.F=(()=>{let e="custom";const{R:t,O:s,B:i}=zb.o,r=t.length;return r===s.length?e="all":r===i.length&&(e="necessary"),e})()},dv=(e,t,s,i)=>{const r="accept-",{show:a,showPreferences:n,hide:o,hidePreferences:l,acceptCategory:c}=t,d=e||document,u=e=>$b(d,`[data-cc="${e}"]`),h=(e,t)=>{Gb(e),c(t),l(),o()},p=u("show-preferencesModal"),m=u("show-consentModal"),f=u(r+"all"),g=u(r+"necessary"),x=u(r+"custom"),b=zb.t.lazyHtmlGeneration;for(const v of p)Kb(v,"aria-haspopup","dialog"),ov(v,Mb,e=>{Gb(e),n()}),b&&(ov(v,"mouseenter",e=>{Gb(e),zb.o.N||s(t,i)},!0),ov(v,"focus",()=>{zb.o.N||s(t,i)}));for(let v of m)Kb(v,"aria-haspopup","dialog"),ov(v,Mb,e=>{Gb(e),a(!0)},!0);for(let v of f)ov(v,Mb,e=>{h(e,"all")},!0);for(let v of x)ov(v,Mb,e=>{h(e)},!0);for(let v of g)ov(v,Mb,e=>{h(e,[])},!0)},uv=(e,t)=>{e&&(t&&(e.tabIndex=-1),e.focus(),t&&e.removeAttribute("tabindex"))},hv=(e,t)=>{const s=i=>{i.target.removeEventListener("transitionend",s),"opacity"===i.propertyName&&"1"===getComputedStyle(e).opacity&&uv(1===t?zb.ne.be:zb.ne.ve)};ov(e,"transitionend",s)};let pv;const mv=e=>{clearTimeout(pv),e?tv(zb.ne.ye,Tb):pv=setTimeout(()=>{rv(zb.ne.ye,Tb)},500)},fv=["M 19.5 4.5 L 4.5 19.5 M 4.5 4.501 L 19.5 19.5","M 3.572 13.406 L 8.281 18.115 L 20.428 5.885","M 21.999 6.94 L 11.639 17.18 L 2.001 6.82 "],gv=(e=0,t=1.5)=>`<svg viewBox="0 0 24 24" stroke-width="${t}"><path d="${fv[e]}"/></svg>`,xv=e=>{const t=zb.ne,s=zb.o;(e=>{const i=e===t.he,r=s.i.disablePageInteraction?t.ye:i?t.Ce:t.ye;ov(r,"keydown",t=>{if("Tab"!==t.key||!(i?s.k&&!s.A:s.A))return;const r=qb(),a=i?s.q:s.K;0!==a.length&&(t.shiftKey?r!==a[0]&&e.contains(r)||(Gb(t),uv(a[1])):r!==a[1]&&e.contains(r)||(Gb(t),uv(a[0])))},!0)})(e)},bv=["[href]",Pb,"input","details","[tabindex]"].map(e=>e+':not([tabindex="-1"])').join(","),vv=e=>{const{o:t,ne:s}=zb,i=(e,t)=>{const s=$b(e,bv);t[0]=s[0],t[1]=s[s.length-1]};1===e&&t.T&&i(s.he,t.q),2===e&&t.N&&i(s.we,t.K)},yv=(e,t,s)=>{const{de:i,le:r,ie:a,_e:n,ue:o,fe:l}=zb.ce,c=zb.re;if(t){const i={modalName:t};return e===c.fe?Yb(l)&&l(i):e===c._e?Yb(n)&&n(i):(i.modal=s,Yb(o)&&o(i)),nv(e,i)}const d={cookie:zb.o.p};e===c.ie?Yb(a)&&a(av(d)):e===c.le?Yb(r)&&r(av(d)):(d.changedCategories=zb.o.L,d.changedServices=zb.o.ee,Yb(i)&&i(av(d))),nv(e,av(d))},wv=(e,t)=>{try{return e()}catch(s){return!1}},jv=e=>{const{Y:t,ee:s,O:i,X:r,oe:a,p:n,L:o}=zb.o;for(const u of i){const e=s[u]||t[u]||[];for(const s of e){const e=r[u][s];if(!e)continue;const{onAccept:i,onReject:a}=e;!e.Se&&Bb(t[u],s)?(e.Se=!0,Yb(i)&&i()):e.Se&&!Bb(t[u],s)&&(e.Se=!1,Yb(a)&&a())}}if(!zb.t.manageScriptTags)return;const l=a,c=e||n.categories||[],d=(e,i)=>{if(i>=e.length)return;const r=a[i];if(r.xe)return d(e,i+1);const n=r.Me,l=r.De,u=r.Te,h=Bb(c,l),p=!!u&&Bb(t[l],u);if(!u&&!r.ke&&h||!u&&r.ke&&!h&&Bb(o,l)||u&&!r.ke&&p||u&&r.ke&&!p&&Bb(s[l]||[],u)){r.xe=!0;const t=Jb(n,"type",!0);Zb(n,"type",!!t),Zb(n,Eb);let s=Jb(n,"src",!0);s&&Zb(n,"src",!0);const a=Qb("script");a.textContent=n.innerHTML;for(const{nodeName:e}of n.attributes)Kb(a,e,n[e]||Jb(n,e));t&&(a.type=t),s?a.src=s:s=n.src;const o=!!s&&(!t||["text/javascript","module"].includes(t));if(o&&(a.onload=a.onerror=()=>{d(e,++i)}),n.replaceWith(a),o)return}d(e,++i)};d(l,0)},Nv="bottom",kv="left",Sv="center",Cv="right",Av="inline",Tv="wide",Ev="pm--",Rv=["middle","top",Nv],Pv=[kv,Sv,Cv],Iv={box:{Ee:[Tv,Av],Ae:Rv,Ne:Pv,He:Nv,Ve:Cv},cloud:{Ee:[Av],Ae:Rv,Ne:Pv,He:Nv,Ve:Sv},bar:{Ee:[Av],Ae:Rv.slice(1),Ne:[],He:Nv,Ve:""}},Lv={box:{Ee:[],Ae:[],Ne:[],He:"",Ve:""},bar:{Ee:[Tv],Ae:[],Ne:[kv,Cv],He:"",Ve:kv}},Mv=e=>{const t=zb.o.i.guiOptions,s=t&&t.consentModal,i=t&&t.preferencesModal;0===e&&Ov(zb.ne.he,Iv,s,"cm--","box","cm"),1===e&&Ov(zb.ne.we,Lv,i,Ev,"box","pm")},Ov=(e,t,s,i,r,a)=>{e.className=a;const n=s&&s.layout,o=s&&s.position,l=s&&s.flipButtons,c=!s||!1!==s.equalWeightButtons,d=n&&n.split(" ")||[],u=d[0],h=d[1],p=u in t?u:r,m=t[p],f=Bb(m.Ee,h)&&h,g=o&&o.split(" ")||[],x=g[0],b=i===Ev?g[0]:g[1],v=Bb(m.Ae,x)?x:m.He,y=Bb(m.Ne,b)?b:m.Ve,w=t=>{t&&tv(e,i+t)};w(p),w(f),w(v),w(y),l&&w("flip");const j=a+"__btn--secondary";if("cm"===a){const{Ie:e,Le:t}=zb.ne;e&&(c?rv(e,j):tv(e,j)),t&&(c?rv(t,j):tv(t,j))}else{const{je:e}=zb.ne;e&&(c?rv(e,j):tv(e,j))}},Dv=(e,t)=>{const s=zb.o,i=zb.ne,{hide:r,hidePreferences:a,acceptCategory:n}=e,o=e=>{n(e),a(),r()},l=s.u&&s.u.preferencesModal;if(!l)return;const c=l.title,d=l.closeIconLabel,u=l.acceptAllBtn,h=l.acceptNecessaryBtn,p=l.savePreferencesBtn,m=l.sections||[],f=u||h||p;if(i.Fe)i.Pe=Qb(Rb),iv(i.Pe,"body");else{i.Fe=Qb(Rb),tv(i.Fe,"pm-wrapper");const e=Qb("div");tv(e,"pm-overlay"),ev(i.Fe,e),ov(e,Mb,a),i.we=Qb(Rb),tv(i.we,"pm"),Kb(i.we,"role","dialog"),Kb(i.we,Ib,!0),Kb(i.we,"aria-modal",!0),Kb(i.we,"aria-labelledby","pm__title"),ov(i.ye,"keydown",e=>{27===e.keyCode&&a()},!0),i.Oe=Qb(Rb),iv(i.Oe,"header"),i.Re=Qb("h2"),iv(i.Re,"title"),i.Re.id="pm__title",i.Be=Qb(Pb),iv(i.Be,"close-btn"),Kb(i.Be,"aria-label",l.closeIconLabel||""),ov(i.Be,Mb,a),i.$e=Qb("span"),i.$e.innerHTML=gv(),ev(i.Be,i.$e),i.Ge=Qb(Rb),iv(i.Ge,"body"),i.Je=Qb(Rb),iv(i.Je,"footer");var g=Qb(Rb);tv(g,"btns");var x=Qb(Rb),b=Qb(Rb);iv(x,Lb),iv(b,Lb),ev(i.Je,x),ev(i.Je,b),ev(i.Oe,i.Re),ev(i.Oe,i.Be),i.ve=Qb(Rb),Kb(i.ve,"tabIndex",-1),ev(i.we,i.ve),ev(i.we,i.Oe),ev(i.we,i.Ge),f&&ev(i.we,i.Je),ev(i.Fe,i.we)}let v;c&&(i.Re.innerHTML=c,d&&Kb(i.Be,"aria-label",d)),m.forEach((e,t)=>{const r=e.title,a=e.description,n=e.linkedCategory,o=n&&s.P[n],c=e.cookieTable,d=c&&c.body,u=c&&c.caption,h=d&&d.length>0,p=!!o,m=p&&s.X[n],f=Xb(m)&&Vb(m)||[],g=p&&(!!a||!!h||Vb(m).length>0);var x=Qb(Rb);if(iv(x,"section"),g||a){var b=Qb(Rb);iv(b,"section-desc-wrapper")}let y=f.length;if(g&&y>0){const e=Qb(Rb);iv(e,"section-services");for(const t of f){const s=m[t],i=s&&s.label||t,r=Qb(Rb),a=Qb(Rb),l=Qb(Rb),c=Qb(Rb);iv(r,"service"),iv(c,"service-title"),iv(a,"service-header"),iv(l,"service-icon");const d=_v(i,t,o,!0,n);c.innerHTML=i,ev(a,l),ev(a,c),ev(r,a),ev(r,d),ev(e,r)}ev(b,e)}if(r){var w=Qb(Rb),j=Qb(p?Pb:Rb);if(iv(w,"section-title-wrapper"),iv(j,"section-title"),j.innerHTML=r,ev(w,j),p){const e=Qb("span");e.innerHTML=gv(2,3.5),iv(e,"section-arrow"),ev(w,e),x.className+="--toggle";const t=_v(r,n,o);let s=l.serviceCounterLabel;if(y>0&&Wb(s)){let e=Qb("span");iv(e,"badge"),iv(e,"service-counter"),Kb(e,Ib,!0),Kb(e,"data-servicecounter",y),s&&(s=s.split("|"),s=s.length>1&&y>1?s[1]:s[0],Kb(e,"data-counterlabel",s)),e.innerHTML=y+(s?" "+s:""),ev(j,e)}if(g){iv(x,"section--expandable");var N=n+"-desc";Kb(j,"aria-expanded",!1),Kb(j,"aria-controls",N)}ev(w,t)}else Kb(j,"role","heading"),Kb(j,"aria-level","3");ev(x,w)}if(a){var k=Qb("p");iv(k,"section-desc"),k.innerHTML=a,ev(b,k)}if(g&&(Kb(b,Ib,"true"),b.id=N,S=b,C=x,A=j,ov(j,Mb,()=>{C.classList.contains("is-expanded")?(rv(C,"is-expanded"),Kb(A,"aria-expanded","false"),Kb(S,Ib,"true")):(tv(C,"is-expanded"),Kb(A,"aria-expanded","true"),Kb(S,Ib,"false"))}),h)){const e=Qb("table"),s=Qb("thead"),r=Qb("tbody");if(u){const t=Qb("caption");iv(t,"table-caption"),t.innerHTML=u,e.appendChild(t)}iv(e,"section-table"),iv(s,"table-head"),iv(r,"table-body");const a=c.headers,n=Vb(a),o=i.Ue.createDocumentFragment(),l=Qb("tr");for(const i of n){const e=a[i],s=Qb("th");s.id="cc__row-"+e+t,Kb(s,"scope","col"),iv(s,"table-th"),s.innerHTML=e,ev(o,s)}ev(l,o),ev(s,l);const h=i.Ue.createDocumentFragment();for(const i of d){const e=Qb("tr");iv(e,"table-tr");for(const s of n){const r=a[s],n=i[s],o=Qb("td"),l=Qb(Rb);iv(o,"table-td"),Kb(o,"data-column",r),Kb(o,"headers","cc__row-"+r+t),l.insertAdjacentHTML("beforeend",n),ev(o,l),ev(e,o)}ev(h,e)}ev(r,h),ev(e,s),ev(e,r),ev(b,e)}var S,C,A;(g||a)&&ev(x,b);const T=i.Pe||i.Ge;p?(v||(v=Qb(Rb),iv(v,"section-toggles")),v.appendChild(x)):v=null,ev(T,v||x)}),u&&(i.ze||(i.ze=Qb(Pb),iv(i.ze,"btn"),Kb(i.ze,Ob,"all"),ev(x,i.ze),ov(i.ze,Mb,()=>o("all"))),i.ze.innerHTML=u),h&&(i.je||(i.je=Qb(Pb),iv(i.je,"btn"),Kb(i.je,Ob,"necessary"),ev(x,i.je),ov(i.je,Mb,()=>o([]))),i.je.innerHTML=h),p&&(i.qe||(i.qe=Qb(Pb),iv(i.qe,"btn"),iv(i.qe,"btn--secondary"),Kb(i.qe,Ob,"save"),ev(b,i.qe),ov(i.qe,Mb,()=>o())),i.qe.innerHTML=p),i.Pe&&(i.we.replaceChild(i.Pe,i.Ge),i.Ge=i.Pe),Mv(1),s.N||(s.N=!0,yv(zb.re.ue,_b,i.we),t(e),ev(i.Ce,i.Fe),xv(i.we),setTimeout(()=>tv(i.Fe,"cc--anim"),100)),vv(2)};function _v(e,t,s,i,r){const a=zb.o,n=zb.ne,o=Qb("label"),l=Qb("input"),c=Qb("span"),d=Qb("span"),u=Qb("span"),h=Qb("span"),p=Qb("span");if(h.innerHTML=gv(1,3),p.innerHTML=gv(0,3),l.type="checkbox",tv(o,"section__toggle-wrapper"),tv(l,"section__toggle"),tv(h,"toggle__icon-on"),tv(p,"toggle__icon-off"),tv(c,"toggle__icon"),tv(d,"toggle__icon-circle"),tv(u,"toggle__label"),Kb(c,Ib,"true"),i?(tv(o,"toggle-service"),Kb(l,Eb,r),n.se[r][t]=l):n.ae[t]=l,i?(m=r,ov(l,"change",()=>{const e=n.se[m],t=n.ae[m];a.Z[m]=[];for(let s in e){const t=e[s];t.checked&&a.Z[m].push(t.value)}t.checked=a.Z[m].length>0})):(e=>{ov(l,Mb,()=>{const t=n.se[e],s=l.checked;a.Z[e]=[];for(let i in t)t[i].checked=s,s&&a.Z[e].push(i)})})(t),l.value=t,u.textContent=e.replace(/<.*>.*<\/.*>/gm,""),ev(d,p),ev(d,h),ev(c,d),a.D)(s.readOnly||s.enabled)&&(l.checked=!0);else if(i){const e=a.Y[r];l.checked=s.readOnly||Bb(e,t)}else Bb(a.R,t)&&(l.checked=!0);var m;return s.readOnly&&(l.disabled=!0),ev(o,l),ev(o,c),ev(o,u),o}const zv=()=>{const e=Qb("span");return zb.ne.Ke||(zb.ne.Ke=e),e},Fv=(e,t)=>{const s=zb.o,i=zb.ne,{hide:r,showPreferences:a,acceptCategory:n}=e,o=s.u&&s.u.consentModal;if(!o)return;const l=o.acceptAllBtn,c=o.acceptNecessaryBtn,d=o.showPreferencesBtn,u=o.closeIconLabel,h=o.footer,p=o.label,m=o.title,f=e=>{r(),n(e)};if(!i.Qe){i.Qe=Qb(Rb),i.he=Qb(Rb),i.We=Qb(Rb),i.Xe=Qb(Rb),i.Ye=Qb(Rb),tv(i.Qe,"cm-wrapper"),tv(i.he,"cm"),sv(i.We,"body"),sv(i.Xe,"texts"),sv(i.Ye,"btns"),Kb(i.he,"role","dialog"),Kb(i.he,"aria-modal","true"),Kb(i.he,Ib,"false"),Kb(i.he,"aria-describedby","cm__desc"),p?Kb(i.he,"aria-label",p):m&&Kb(i.he,"aria-labelledby","cm__title");const e="box",t=s.i.guiOptions,r=t&&t.consentModal,a=(r&&r.layout||e).split(" ")[0]===e;m&&u&&a&&(i.Le||(i.Le=Qb(Pb),i.Le.innerHTML=gv(),sv(i.Le,"btn"),sv(i.Le,"btn--close"),ov(i.Le,Mb,()=>{f([])}),ev(i.We,i.Le)),Kb(i.Le,"aria-label",u)),ev(i.We,i.Xe),(l||c||d)&&ev(i.We,i.Ye),i.be=Qb(Rb),Kb(i.be,"tabIndex",-1),ev(i.he,i.be),ev(i.he,i.We),ev(i.Qe,i.he)}m&&(i.Ze||(i.Ze=Qb("h2"),i.Ze.className=i.Ze.id="cm__title",ev(i.Xe,i.Ze)),i.Ze.innerHTML=m);let g=o.description;if(g&&(s.V&&(g=g.replace("{{revisionMessage}}",s.I?"":o.revisionMessage||"")),i.et||(i.et=Qb("p"),i.et.className=i.et.id="cm__desc",ev(i.Xe,i.et)),i.et.innerHTML=g),l&&(i.tt||(i.tt=Qb(Pb),ev(i.tt,zv()),sv(i.tt,"btn"),Kb(i.tt,Ob,"all"),ov(i.tt,Mb,()=>{f("all")})),i.tt.firstElementChild.innerHTML=l),c&&(i.Ie||(i.Ie=Qb(Pb),ev(i.Ie,zv()),sv(i.Ie,"btn"),Kb(i.Ie,Ob,"necessary"),ov(i.Ie,Mb,()=>{f([])})),i.Ie.firstElementChild.innerHTML=c),d&&(i.ot||(i.ot=Qb(Pb),ev(i.ot,zv()),sv(i.ot,"btn"),sv(i.ot,"btn--secondary"),Kb(i.ot,Ob,"show"),ov(i.ot,"mouseenter",()=>{s.N||Dv(e,t)}),ov(i.ot,Mb,a)),i.ot.firstElementChild.innerHTML=d),i.nt||(i.nt=Qb(Rb),sv(i.nt,Lb),l&&ev(i.nt,i.tt),c&&ev(i.nt,i.Ie),(l||c)&&ev(i.We,i.nt),ev(i.Ye,i.nt)),i.ot&&!i.st&&(i.st=Qb(Rb),i.Ie&&i.tt?(sv(i.st,Lb),ev(i.st,i.ot),ev(i.Ye,i.st)):(ev(i.nt,i.ot),sv(i.nt,Lb+"--uneven"))),h){if(!i.ct){let e=Qb(Rb),t=Qb(Rb);i.ct=Qb(Rb),sv(e,"footer"),sv(t,"links"),sv(i.ct,"link-group"),ev(t,i.ct),ev(e,t),ev(i.he,e)}i.ct.innerHTML=h}Mv(0),s.T||(s.T=!0,yv(zb.re.ue,Db,i.he),t(e),ev(i.Ce,i.Qe),xv(i.he),setTimeout(()=>tv(i.Qe,"cc--anim"),100)),vv(1),dv(i.We,e,Dv,t)},Bv=e=>{if(!Wb(e))return null;if(e in zb.o._)return e;let t=e.slice(0,2);return t in zb.o._?t:null},Hv=()=>zb.o.l||zb.o.i.language.default,Wv=e=>{e&&(zb.o.l=e)},Xv=()=>{const e=zb.ne;if(e.Ce)return;e.Ce=Qb(Rb),e.Ce.id="cc-main",e.Ce.setAttribute("data-nosnippet",""),(()=>{let e=zb.o.i.language.rtl,t=zb.ne.Ce;e&&t&&(Hb(e)||(e=[e]),Bb(e,zb.o.l)?tv(t,"cc--rtl"):rv(t,"cc--rtl"))})();let t=zb.o.i.root;t&&Wb(t)&&(t=document.querySelector(t)),(t||e.Ue.body).appendChild(e.Ce)},Yv=(e,t)=>{if(t instanceof RegExp)return e.filter(e=>t.test(e));{const s=Fb(e,t);return s>-1?[e[s]]:[]}},Vv=e=>{const{hostname:t,protocol:s}=location,{name:i,path:r,domain:a,sameSite:n,useLocalStorage:o,secure:l}=zb.t.cookie,c=864e5*(()=>{const e=zb.t.cookie.expiresAfterDays;return Yb(e)?e(zb.o.F):e})(),d=new Date;d.setTime(d.getTime()+c),zb.o.p.expirationTime=d.getTime();const u=JSON.stringify(zb.o.p);let h=i+"="+encodeURIComponent(u)+(0!==c?"; expires="+d.toUTCString():"")+"; Path="+r+"; SameSite="+n;var p,m;Bb(t,".")&&(h+="; Domain="+a),l&&"https:"===s&&(h+="; Secure"),o?(p=i,m=u,wv(()=>localStorage.setItem(p,m))):document.cookie=h,zb.o.p},Uv=(e,t,s)=>{if(0===e.length)return;const i=s||zb.t.cookie.domain,r=t||zb.t.cookie.path,a="www."===i.slice(0,4),n=a&&i.substring(4),o=(e,t)=>{t&&"."!==t.slice(0,1)&&(t="."+t),document.cookie=e+"=; path="+r+(t?"; domain="+t:"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"};for(const l of e)o(l,s),s||o(l,i),a&&o(l,n)},qv=(e,t)=>{const s=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return s?s.pop():""},Gv=e=>{const t=zb.o.D?[]:zb.o.R;return Bb(t,e)},$v=(e,t)=>{const s=zb.o.D?[]:zb.o.Y[t]||[];return Bb(s,e)},Qv=e=>{const{ne:t,o:s}=zb;if(!s.k){if(!s.T){if(!e)return;Fv(Kv,Xv)}s.k=!0,s.J=qb(),s.v&&mv(!0),hv(t.he,1),tv(t.ye,Cb),Kb(t.he,Ib,"false"),setTimeout(()=>{uv(zb.ne.be)},100),yv(zb.re.fe,Db)}};var Kv={show:Qv,hide:()=>{const{ne:e,o:t,re:s}=zb;t.k&&(t.k=!1,t.v&&mv(),uv(e.Ke,!0),rv(e.ye,Cb),Kb(e.he,Ib,"true"),uv(t.J),t.J=null,yv(s._e,Db))},showPreferences:()=>{const e=zb.o;e.A||(e.N||Dv(Kv,Xv),e.A=!0,e.k?e.U=qb():e.J=qb(),hv(zb.ne.we,2),tv(zb.ne.ye,Ab),Kb(zb.ne.we,Ib,"false"),setTimeout(()=>{uv(zb.ne.ve)},100),yv(zb.re.fe,_b))},hidePreferences:()=>{const e=zb.o;e.A&&(e.A=!1,(()=>{const e=Zv(),t=zb.o.P,s=zb.ne.ae,i=zb.ne.se,r=e=>Bb(zb.o.$,e);for(const a in s){const n=!!t[a].readOnly;s[a].checked=n||(e?Gv(a):r(a));for(const t in i[a])i[a][t].checked=n||(e?$v(t,a):r(a))}})(),uv(zb.ne.$e,!0),rv(zb.ne.ye,Ab),Kb(zb.ne.we,Ib,"true"),e.k?(uv(e.U),e.U=null):(uv(e.J),e.J=null),yv(zb.re._e,_b))},acceptCategory:(e,t=[])=>{((e,t)=>{const{O:s,R:i,B:r,N:a,Z:n,$:o,X:l}=zb.o;let c=[];if(e){Hb(e)?c.push(...e):Wb(e)&&(c="all"===e?s:[e]);for(const e of s)n[e]=Bb(c,e)?Vb(l[e]):[]}else c=[...i,...o],a&&(c=(()=>{const e=zb.ne.ae;if(!e)return[];let t=[];for(let s in e)e[s].checked&&t.push(s);return t})());c=c.filter(e=>!Bb(s,e)||!Bb(t,e)),c.push(...r),cv(c)})(e,t),(()=>{const e=zb.o,{Z:t,B:s,Y:i,X:r,O:a}=e,n=a;e.te=av(i);for(const o of n){const a=r[o],n=Vb(a),l=t[o]&&t[o].length>0,c=Bb(s,o);if(0!==n.length){if(i[o]=[],c)i[o].push(...n);else if(l){const e=t[o];i[o].push(...e)}else i[o]=e.Z[o];i[o]=Ub(i[o])}}})(),(()=>{const e=zb.o;e.L=zb.t.mode===Sb&&e.D?lv(e.$,e.R):lv(e.R,e.p.categories);let t=e.L.length>0,s=!1;for(const n of e.O)e.ee[n]=lv(e.Y[n],e.te[n]),e.ee[n].length>0&&(s=!0);const i=zb.ne.ae;for(const n in i)i[n].checked=Bb(e.R,n);for(const n of e.O){const t=zb.ne.se[n],s=e.Y[n];for(const e in t)t[e].checked=Bb(s,e)}e.C||(e.C=new Date),e.M||(e.M="10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),e.p={categories:av(e.R),revision:zb.t.revision,data:e.h,consentTimestamp:e.C.toISOString(),consentId:e.M,services:av(e.Y),languageCode:zb.o.l},e.S&&(e.p.lastConsentTimestamp=e.S.toISOString());let r=!1;const a=t||s;(e.D||a)&&(e.D&&(e.D=!1,r=!0),e.S=e.S?new Date:e.C,e.p.lastConsentTimestamp=e.S.toISOString(),Vv(),zb.t.autoClearCookies&&(r||a)&&(e=>{const t=zb.o,s=(()=>{const e=document.cookie.split(/;\s*/),t=[];for(const s of e){let e=s.split("=")[0];t.push(e)}return t})(),i=(e=>{const t=zb.o;return(e?t.O:t.L).filter(e=>{const s=t.P[e];return!!s&&!s.readOnly&&!!s.autoClear})})(e);for(const r in t.ee)for(const e of t.ee[r]){const i=t.X[r][e].cookies;if(!Bb(t.Y[r],e)&&i)for(const e of i){const t=Yv(s,e.name);Uv(t,e.path,e.domain)}}for(const r of i){const i=t.P[r].autoClear,a=i&&i.cookies||[],n=Bb(t.L,r),o=!Bb(t.R,r),l=n&&o;if(e?o:l){i.reloadPage&&l&&(t.j=!0);for(const e of a){const t=Yv(s,e.name);Uv(t,e.path,e.domain)}}}})(r),jv()),r&&(yv(zb.re.ie),yv(zb.re.le),zb.t.mode===kb)||(a&&yv(zb.re.de),e.j&&(e.j=!1,location.reload()))})()}};const Zv=()=>!zb.o.D,Jv=async e=>{const{o:t,t:s,re:i}=zb,r=window;if(!r._ccRun){if(r._ccRun=!0,(e=>{const{ne:t,t:s,o:i}=zb,r=s,a=i,{cookie:n}=r,o=zb.ce,l=e.cookie,c=e.categories,d=Vb(c)||[],u=navigator,h=document;t.Ue=h,t.ye=h.documentElement,n.domain=location.hostname,a.i=e,a.P=c,a.O=d,a._=e.language.translations,a.v=!!e.disablePageInteraction,o.ie=e.onFirstConsent,o.le=e.onConsent,o.de=e.onChange,o._e=e.onModalHide,o.fe=e.onModalShow,o.ue=e.onModalReady;const{mode:p,autoShow:m,lazyHtmlGeneration:f,autoClearCookies:g,revision:x,manageScriptTags:b,hideFromBots:v}=e;p===Sb&&(r.mode=p),"boolean"==typeof g&&(r.autoClearCookies=g),"boolean"==typeof b&&(r.manageScriptTags=b),"number"==typeof x&&x>=0&&(r.revision=x,a.V=!0),"boolean"==typeof m&&(r.autoShow=m),"boolean"==typeof f&&(r.lazyHtmlGeneration=f),!1===v&&(r.hideFromBots=!1),!0===r.hideFromBots&&u&&(a.G=u.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(u.userAgent)||u.webdriver),Xb(l)&&(r.cookie={...n,...l}),r.autoClearCookies,a.V,r.manageScriptTags,(e=>{const{P:t,X:s,Y:i,Z:r,B:a}=zb.o;for(let n of e){const e=t[n],o=e.services||{},l=Xb(o)&&Vb(o)||[];s[n]={},i[n]=[],r[n]=[],e.readOnly&&(a.push(n),i[n]=l),zb.ne.se[n]={};for(let t of l){const e=o[t];e.Se=!1,s[n][t]=e}}})(d),(()=>{if(!zb.t.manageScriptTags)return;const e=zb.o,t=$b(document,"script["+Eb+"]");for(const s of t){let t=Jb(s,Eb),i=s.dataset.service||"",r=!1;if(t&&"!"===t.charAt(0)&&(t=t.slice(1),r=!0),"!"===i.charAt(0)&&(i=i.slice(1),r=!0),Bb(e.O,t)&&(e.oe.push({Me:s,xe:!1,ke:r,De:t,Te:i}),i)){const s=e.X[t];s[i]||(s[i]={Se:!1})}}})(),Wv((()=>{const e=zb.o.i.language.autoDetect;if(e){const t={browser:navigator.language,document:document.documentElement.lang},s=Bv(t[e]);if(s)return s}return Hv()})())})(e),t.G)return;(()=>{const e=zb.o,t=zb.t,s=(()=>{const e=zb.t.cookie.name,t=zb.t.cookie.useLocalStorage;return((e,t)=>{let s;return s=wv(()=>JSON.parse(t?e:decodeURIComponent(e)))||{},s})(t?(s=e,wv(()=>localStorage.getItem(s))||""):qv(e),t);var s})(),{categories:i,services:r,consentId:a,consentTimestamp:n,lastConsentTimestamp:o,data:l,revision:c}=s,d=Hb(i);e.p=s,e.M=a;const u=!!a&&Wb(a);e.C=n,e.C&&(e.C=new Date(n)),e.S=o,e.S&&(e.S=new Date(o)),e.h=void 0!==l?l:null,e.V&&u&&c!==t.revision&&(e.I=!1),e.D=!(u&&e.I&&e.C&&e.S&&d),t.cookie.useLocalStorage&&!e.D&&(e.D=(new Date).getTime()>(s.expirationTime||0),e.D&&(e=>{wv(()=>localStorage.removeItem(e))})(t.cookie.name)),e.D,(()=>{const e=zb.o;for(const t of e.O){const s=e.P[t];if(s.readOnly||s.enabled){e.$.push(t);const s=e.X[t]||{};for(let i in s)e.Z[t].push(i),e.i.mode===Sb&&e.Y[t].push(i)}}})(),e.D?t.mode===Sb&&(e.R=[...e.$]):(e.Y={...e.Y,...r},e.Z={...e.Y},cv([...e.B,...i]))})();const n=Zv();if(!(await(async e=>{const t=zb.o;let s=Bv(e)?e:Hv(),i=t._[s];if(Wb(i)?i=await(async e=>{try{const t=await fetch(e);return await t.json()}catch(t){return!1}})(i):Yb(i)&&(i=await i()),!i)throw`Could not load translation for the '${s}' language`;return t.u=i,Wv(s),!0})()))return!1;if(dv(null,a=Kv,Dv,Xv),zb.o.D&&Fv(a,Xv),zb.t.lazyHtmlGeneration||Dv(a,Xv),s.autoShow&&!n&&Qv(!0),n)return jv(),yv(i.le);s.mode===Sb&&jv(t.$)}var a},ey=()=>(Ct.useEffect(()=>{Jv({root:"body",autoShow:!0,disablePageInteraction:!1,hideFromBots:!0,mode:"opt-in",revision:0,cookie:{name:"cc_cookie",domain:location.hostname,path:"/",sameSite:"Lax",expiresAfterDays:365},guiOptions:{consentModal:{layout:"box",position:"bottom right",equalWeightButtons:!0,flipButtons:!1}},categories:{necessary:{enabled:!0,readOnly:!0},analytics:{autoClear:{cookies:[{name:/^_ga/},{name:"_gid"}]},services:{ga:{label:"Google Analytics",onAccept:()=>{try{let e=function(...e){window.dataLayer.push(arguments)};const t=void 0;if(!t.length)throw new Error("Google Analytics ID is missing");window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",t);const s=document.createElement("script");s.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,s.async=!0,document.body.appendChild(s)}catch(e){}},onReject:()=>{}}}}},language:{default:"en",translations:{en:{consentModal:{title:"We use cookies",description:"We use cookies primarily for analytics to enhance your experience. By accepting, you agree to our use of these cookies. You can manage your preferences or learn more about our cookie policy.",acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",footer:'\n            <a href="<your-url-here>" target="_blank">Privacy Policy</a>\n            <a href="<your-url-here>" target="_blank">Terms and Conditions</a>\n                    '},preferencesModal:{sections:[]}}}}})},[]),s.jsx("div",{id:"cookieconsent"})),ty="pendingTopic";function sy(e){sessionStorage.setItem(ty,e.trim())}async function iy(){const e=function(){const e=sessionStorage.getItem(ty);return e?(sessionStorage.removeItem(ty),e):null}();if(!e)return null;try{const t=await ru({title:e,summary:`Learn about ${e}`,description:`Comprehensive learning material for ${e}`});return{id:t.id,slug:t.slug}}catch(t){throw sy(e),t}}function ry(){const{data:e,isLoading:t}=Vu();Ct.useEffect(()=>{if(!t&&e){const e=setTimeout(async()=>{try{await async function(){try{const e=await iy();return!!e&&(window.location.href=`/learn/${e.slug}`,!0)}catch(e){return!1}}()}catch(e){}},100);return()=>clearTimeout(e)}},[e,t])}function ay(){const e=Rt();ry();const t=Ct.useMemo(()=>"/"===e.pathname||e.pathname.startsWith("/pricing")||"/home"===e.pathname,[e]),i=Ct.useMemo(()=>e.pathname.startsWith("/learn"),[e]),r=Ct.useMemo(()=>t?wb:i?Nb:jb,[t,i]),a=Ct.useMemo(()=>e.pathname.startsWith("/admin"),[e]),n=Ct.useMemo(()=>e.pathname!==Yi.LoginRoute.build()&&e.pathname!==Yi.SignupRoute.build()&&!i&&!a,[e,i,a]);return Ct.useEffect(()=>{if(e.hash){const t=e.hash.replace("#",""),s=document.getElementById(t);s&&s.scrollIntoView()}},[e]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-background text-foreground",children:a||i?s.jsx(It,{}):t?s.jsxs(s.Fragment,{children:[n&&s.jsx(pb,{navigationItems:r}),s.jsx(It,{})]}):s.jsxs(s.Fragment,{children:[n&&s.jsx(pb,{navigationItems:r}),s.jsx("div",{className:"mx-auto max-w-screen-2xl",children:s.jsx(It,{})})]})}),s.jsx(ey,{})]})}const ny={loader:"_loader_uc0fn_1",loaderCircle:"_loaderCircle_uc0fn_5",loaderAccessibilityText:"_loaderAccessibilityText_uc0fn_18"};function oy(){const e=["wasp-loader",ny.loader].join(" ");return s.jsxs("div",{className:e,children:[s.jsx("div",{className:ny.loaderCircle}),s.jsx("div",{className:ny.loaderAccessibilityText,children:"Loading..."})]})}const ly={borderRadius:".5rem",padding:"1rem"},cy={...ly,borderColor:"rgb(240 82 82)",backgroundColor:"rgb(253 232 232)",color:"rgb(200 30 30)"},dy={...ly,borderColor:"rgb(107 114 128)",backgroundColor:"rgb(243 244 246)",color:"rgb(55 65 81)"},uy={display:"flex",alignItems:"center",gap:".5rem"},hy={marginLeft:"1.75rem"};function py({children:e,subtitle:t}){return s.jsx("div",{style:cy,children:s.jsxs("div",{children:[s.jsxs("div",{style:uy,children:[s.jsx(fy,{})," ",e]}),t&&s.jsx("div",{style:hy,children:t})]})})}function my({children:e,subtitle:t}){return s.jsx("div",{style:dy,children:s.jsxs("div",{children:[s.jsxs("div",{style:uy,children:[s.jsx(fy,{})," ",e]}),t&&s.jsx("div",{style:hy,children:t})]})})}const fy=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.25rem",height:"1.25rem",fill:"currentColor",stroke:"currentColor",strokeWidth:0,"aria-hidden":"true",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 9a1 1 0 0 0 0 2v3a1 1 0 0 0 1 1h1a1 1 0 1 0 0-2v-3a1 1 0 0 0-1-1H9z",clipRule:"evenodd"})}),gy={display:"flex",minHeight:"80vh",justifyContent:"center",alignItems:"center"};function xy({children:e,className:t}){const i=["wasp-full-page-wrapper",t].filter(Boolean).join(" ");return s.jsx("div",{className:i,style:gy,children:e})}const by=e=>t=>{const{data:i,status:r,error:a}=Vu();switch(r){case"success":return i?s.jsx(e,{...t,user:i}):s.jsx(Lt,{to:"/login",replace:!0});case"loading":return s.jsx(xy,{className:"wasp-auth-required-loader-wrapper",children:s.jsx(oy,{})});case"error":return s.jsx(xy,{className:"wasp-auth-required-error-wrapper",children:s.jsx(py,{subtitle:s.jsxs("small",{children:["Details: ",a.message]}),children:"Failed to load user data. Try refreshing the page."})})}},vy={},yy=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));i=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in vy)return;vy[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise((t,s)=>{i.addEventListener("load",t),i.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},wy=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,jy=e=>wy()?0:e,Ny=[{id:"expert",text:"What do you want to be expert on?",weight:1},{id:"know",text:"What do you want to know?",weight:1},{id:"master",text:"What would you like to master?",weight:1},{id:"curiosity",text:"What sparks your curiosity?",weight:1},{id:"adventure",text:"What's your next learning adventure?",weight:1}],ky=[{id:"ai-research",icon:"Search",title:"AI Research",description:"Automated information gathering and synthesis from multiple sources",category:"core"},{id:"structured-learning",icon:"BookOpen",title:"Structured Learning",description:"Organized content with clear progression and learning paths",category:"core"},{id:"progress-tracking",icon:"TrendingUp",title:"Progress Tracking",description:"Visual indicators of learning advancement and milestones",category:"core"},{id:"interactive-content",icon:"MessageCircle",title:"Interactive Content",description:"Quizzes, exercises, and engagement tools for active learning",category:"advanced"},{id:"personalization",icon:"User",title:"Personalization",description:"Adaptive content based on your preferences and learning style",category:"advanced"},{id:"export-options",icon:"Download",title:"Export Options",description:"Save and share your learning materials in various formats",category:"integration"}],Sy=[{id:"getting-started",question:"How do I get started with the platform?",answer:"Simply enter any topic you want to learn about in the input field above. Our AI will research and create a structured learning path for you.",category:"general"},{id:"ai-research",question:"How does the AI research work?",answer:"Our AI agents search multiple sources, synthesize information, and organize it into digestible learning modules tailored to your topic.",category:"features"},{id:"learning-paths",question:"What makes the learning paths structured?",answer:"Each topic is broken down into logical subtopics with clear progression, interactive quizzes, and milestone tracking to ensure comprehensive understanding.",category:"features"},{id:"progress-tracking",question:"How can I track my learning progress?",answer:"The platform provides visual progress indicators, completion percentages, and milestone achievements to help you stay motivated and on track.",category:"features"},{id:"pricing",question:"Is there a free tier available?",answer:"Yes, we offer a free tier with limited topics per month. Premium plans provide unlimited access and advanced features.",category:"pricing"},{id:"subscription-benefits",question:"What are the benefits of a premium subscription?",answer:"Premium subscribers get unlimited topic generation, advanced personalization, priority support, and access to exclusive features like detailed analytics.",category:"pricing"},{id:"offline-access",question:"Can I access my learning materials offline?",answer:"Yes, you can download your learning materials for offline access through our export feature.",category:"technical"},{id:"data-privacy",question:"How is my data protected?",answer:"We use industry-standard encryption and never share your personal learning data with third parties.",category:"technical"},{id:"mobile-support",question:"Does the platform work on mobile devices?",answer:"Absolutely! Our platform is fully responsive and optimized for mobile devices, tablets, and desktops for learning on the go.",category:"technical"},{id:"topic-complexity",question:"Can I learn complex technical topics?",answer:"Yes, our AI can handle topics of any complexity level, from basic concepts to advanced technical subjects, adapting the content to your expertise level.",category:"general"}],Cy=[{id:"product",title:"Product",links:[{id:"features",label:"Features",href:"#features"},{id:"pricing",label:"Pricing",href:"/pricing"},{id:"demo",label:"Demo",href:"/demo-app"}]},{id:"company",title:"Company",links:[{id:"about",label:"About",href:"#"},{id:"blog",label:"Blog",href:"#"},{id:"careers",label:"Careers",href:"#"},{id:"contact",label:"Contact",href:"mailto:hello@learningplatform.com"}]},{id:"resources",title:"Resources",links:[{id:"help",label:"Help Center",href:"#"},{id:"docs",label:"Documentation",href:"#"},{id:"api",label:"API",href:"#"}]},{id:"legal",title:"Legal",links:[{id:"privacy",label:"Privacy Policy",href:"#"},{id:"terms",label:"Terms of Service",href:"#"},{id:"cookies",label:"Cookie Policy",href:"#"}]}],Ay=3,Ty=500,Ey="Enter any topic you want to learn about...",Ry=e=>{const t=e.trim(),s=[];return 0===t.length?{isValid:!1,error:"Please enter a topic to get started",minLength:Ay,maxLength:Ty,warnings:s}:t.length<Ay?{isValid:!1,error:`Topic must be at least ${Ay} characters long`,minLength:Ay,maxLength:Ty,warnings:s}:t.length>Ty?{isValid:!1,error:`Topic must be less than ${Ty} characters`,minLength:Ay,maxLength:Ty,warnings:s}:(t.length<10&&s.push("Consider adding more detail for better results"),t.length>300&&s.push("Very long topics may take longer to process"),/^\d+$/.test(t)&&s.push("Consider adding context to numbers"),1===t.split(" ").length&&t.length>20&&s.push("Consider breaking long single words into phrases"),{isValid:!0,minLength:Ay,maxLength:Ty,warnings:s.length>0?s:void 0})},Py=e=>{var t;return"NetworkError"===(null==e?void 0:e.name)||"NETWORK_ERROR"===(null==e?void 0:e.code)?{type:"network",message:"Network connection failed. Please check your internet connection.",retryable:!0,details:"Unable to reach the server"}:"TimeoutError"===(null==e?void 0:e.name)||"TIMEOUT"===(null==e?void 0:e.code)?{type:"network",message:"Request timed out. Please try again.",retryable:!0,details:"Server took too long to respond"}:(null==e?void 0:e.status)>=500&&(null==e?void 0:e.status)<600?{type:"server",message:"Server error occurred. Please try again in a moment.",retryable:!0,details:`Server returned ${e.status}`}:(null==e?void 0:e.status)>=400&&(null==e?void 0:e.status)<500?{type:"validation",message:(null==e?void 0:e.message)||"Invalid request. Please check your input.",retryable:!1,details:`Client error ${e.status}`}:401===(null==e?void 0:e.status)||(null==(t=null==e?void 0:e.message)?void 0:t.includes("unauthorized"))?{type:"validation",message:"Authentication required. Please log in and try again.",retryable:!1,details:"User not authenticated"}:429===(null==e?void 0:e.status)?{type:"server",message:"Too many requests. Please wait a moment and try again.",retryable:!0,details:"Rate limit exceeded"}:{type:"unknown",message:(null==e?void 0:e.message)||"An unexpected error occurred. Please try again.",retryable:!0,details:"Unknown error type"}},Iy=(e,t)=>({validating:"Validating your topic...",submitting:t&&t>1?`Retrying... (attempt ${t})`:"Creating your learning path...",processing:"Processing your request...",complete:"Success! Redirecting..."}[e]||"Loading..."),Ly=({onSubmit:e,isLoading:t=!1,placeholder:i=Ey,maxRetries:r=3,showCharacterCount:a=!0,showValidationHints:n=!0})=>{const[o,l]=Ct.useState(""),[c,d]=Ct.useState(null),[u,h]=Ct.useState({isLoading:!1,stage:"validating"}),[p,m]=Ct.useState(0),[f,g]=Ct.useState(!1),x=Ct.useRef(null),b=Ct.useRef(((e=3)=>async(t,s)=>{let i;for(let r=1;r<=e;r++)try{return await t()}catch(c){if(i=c,!Py(c).retryable||r===e)throw c;s&&s(r,c);const a=Math.min(1e3*Math.pow(2,r-1),1e4);await new Promise(e=>setTimeout(e,a))}throw i})(r)),v=Ry(o),y=!v.isValid||u.isLoading,w=Ct.useCallback(async()=>{if(y)return;const t=(e=>e.trim().replace(/[<>]/g,"").replace(/javascript:/gi,"").slice(0,Ty))(o),s=Ry(t);if(s.isValid){d(null),m(0),g(!1),h({isLoading:!0,stage:"validating",message:Iy("validating")});try{await b.current(async()=>{h(e=>({...e,stage:"submitting",message:Iy("submitting",p+1)})),await e(t)},(e,t)=>{m(e),h(t=>({...t,message:Iy("submitting",e+1)}))}),h({isLoading:!0,stage:"complete",message:Iy("complete")}),g(!0),l(""),setTimeout(()=>{g(!1),h({isLoading:!1,stage:"validating"})},2e3)}catch(i){const e=Py(i);d(e),h({isLoading:!1,stage:"validating"})}}else d({type:"validation",message:s.error||"Invalid input",retryable:!1})},[o,y,e,r,p]),j=Ct.useCallback(()=>{d(null),w()},[w]);Ct.useEffect(()=>{const e=x.current;e&&(e.style.height="auto",e.style.height=`${Math.max(120,e.scrollHeight)}px`)},[o]);return s.jsx("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 lg:px-0",children:s.jsxs("div",{className:`relative bg-card/90 backdrop-blur-sm rounded-2xl shadow-xl border transition-all duration-300 ease-out p-4 sm:p-6 lg:p-8 group ${c?"border-destructive/50 focus-within:border-destructive focus-within:ring-destructive/30":f?"border-green-500/50 focus-within:border-green-500 focus-within:ring-green-500/30":"border-border/50 hover:border-border focus-within:border-primary/50 focus-within:ring-primary/30"} ${u.isLoading?"hover:shadow-xl":"hover:shadow-2xl"} focus-within:shadow-2xl focus-within:ring-2`,children:[s.jsx("label",{htmlFor:"topic-input",className:"sr-only",children:"Enter a topic you want to learn about"}),s.jsx("textarea",{id:"topic-input",ref:x,value:o,onChange:e=>{const t=e.target.value;l(t),c&&d(null),f&&g(!1)},onKeyDown:e=>{var t;((t=e.nativeEvent).metaKey||t.ctrlKey)&&"Enter"===t.key&&(e.preventDefault(),w())},placeholder:i,className:"w-full min-h-[100px] sm:min-h-[120px] lg:min-h-[140px] resize-none border-0 bg-transparent text-base sm:text-lg lg:text-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-0 leading-relaxed touch-manipulation transition-all duration-200 "+(u.isLoading?"opacity-75":""),disabled:u.isLoading,maxLength:Ty,"aria-describedby":["input-instructions",c?"input-error":null,v.warnings?"input-warnings":null,a?"character-count":null].filter(Boolean).join(" "),"aria-invalid":c?"true":"false","aria-required":"true",role:"textbox","aria-multiline":"true"}),s.jsx("div",{id:"input-instructions",className:"sr-only",children:"Enter a topic you want to learn about. Use Command+Enter or click the submit button to create your learning path."}),s.jsxs("div",{className:"flex items-end justify-between mt-3 sm:mt-4 lg:mt-6 gap-3",children:[s.jsxs("div",{className:"flex flex-col space-y-2 sm:space-y-1 text-xs sm:text-sm text-muted-foreground flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("kbd",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground bg-muted border border-border rounded whitespace-nowrap transition-colors duration-200 group-focus-within:bg-accent group-focus-within:text-accent-foreground","aria-label":"Keyboard shortcut: Command plus Enter",children:"⌘ + Enter"}),s.jsx("span",{className:"hidden sm:inline text-xs transition-opacity duration-200 group-focus-within:opacity-80",children:"to submit"})]}),a&&s.jsxs("div",{id:"character-count",className:"flex items-center space-x-2","aria-live":"polite",children:[s.jsxs("span",{className:`text-xs transition-colors duration-200 ${(()=>{const e=o.length;return e>.9*Ty?"text-destructive":e>.7*Ty?"text-yellow-600":"text-muted-foreground"})()}`,"aria-label":`${o.length} of ${Ty} characters used`,children:[o.length,"/",Ty]}),o.length>.9*Ty&&s.jsx(H,{className:"w-3 h-3 text-yellow-600","aria-label":"Warning: approaching character limit"})]}),u.isLoading&&u.message&&s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-primary","aria-live":"polite",children:[s.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),s.jsx("span",{children:u.message})]})]}),s.jsx("button",{onClick:w,disabled:y,type:"submit",className:`\n              flex items-center justify-center min-w-[48px] min-h-[48px] w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-xl transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-background touch-manipulation flex-shrink-0 focus:ring-4\n              ${y?"bg-muted text-muted-foreground cursor-not-allowed opacity-50":f?"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl focus:bg-green-700":"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-xl transform hover:scale-105 hover:-translate-y-0.5 active:scale-95 active:translate-y-0 focus:bg-primary/90 focus:scale-105"}\n            `,"aria-label":u.isLoading?`${u.message||"Submitting"} - Please wait`:f?"Topic created successfully!":"Create learning path for this topic","aria-describedby":"topic-input",children:u.isLoading?s.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 border-2 border-current border-t-transparent rounded-full animate-spin"}):f?s.jsx(W,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7"}):s.jsx(X,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 transition-transform duration-200 group-hover:translate-x-0.5"})})]}),c&&s.jsx("div",{id:"input-error",className:"mt-4 p-3 sm:p-4 bg-destructive/10 border border-destructive/20 rounded-xl animate-in slide-in-from-top-2 duration-300",role:"alert","aria-live":"assertive",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Y,{className:"w-4 h-4 text-destructive mt-0.5 flex-shrink-0","aria-hidden":"true"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-destructive font-medium",children:c.message}),c.details&&s.jsx("p",{className:"text-xs text-destructive/70 mt-1",children:c.details}),c.retryable&&s.jsxs("button",{onClick:j,className:"inline-flex items-center space-x-1 mt-2 text-xs text-destructive hover:text-destructive/80 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-destructive focus:ring-offset-2 focus:ring-offset-background rounded px-2 py-1 min-h-[32px]",type:"button","aria-label":"Retry submitting the topic",children:[s.jsx(V,{className:"w-3 h-3","aria-hidden":"true"}),s.jsx("span",{children:"Try again"})]})]})]})}),f&&s.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-green-50 border border-green-200 rounded-xl animate-in slide-in-from-top-2 duration-300",role:"status","aria-live":"polite",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(W,{className:"w-4 h-4 text-green-600","aria-hidden":"true"}),s.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Topic created successfully! Redirecting to your learning path..."})]})})]})})},My=({onTopicSubmit:e,isLoading:t=!1})=>{const[i,r]=Ct.useState(""),[a,n]=Ct.useState(!1),o=wy();Ct.useEffect(()=>{const e=(()=>{const e=Ny.reduce((e,t)=>e+(t.weight||1),0);let t=Math.random()*e;for(const s of Ny)if(t-=s.weight||1,t<=0)return s;return Ny[0]})();r(e.text);const t=setTimeout(()=>n(!0),100);return()=>clearTimeout(t)},[]);return s.jsxs("section",{id:"hero",className:"h-screen flex flex-col items-center justify-center relative bg-gradient-to-br from-background via-muted/30 to-accent/20 overflow-hidden",role:"banner","aria-labelledby":"hero-title","aria-describedby":"hero-subtitle",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-primary/3 to-primary/5","aria-hidden":"true"}),!o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-48 h-48 sm:w-72 sm:h-72 lg:w-96 lg:h-96 bg-primary/10 rounded-full blur-3xl will-change-transform",style:{animation:o?"none":"pulse 4s ease-in-out infinite"},"aria-hidden":"true"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 sm:w-72 sm:h-72 lg:w-96 lg:h-96 bg-primary/8 rounded-full blur-3xl will-change-transform",style:{animation:o?"none":"pulse 4s ease-in-out infinite 2s"},"aria-hidden":"true"})]}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 text-center flex-1 flex flex-col justify-center",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{id:"hero-title",className:`\n              text-title-lg sm:text-title-xl md:text-title-xxl lg:text-6xl xl:text-7xl font-bold text-foreground mb-6 sm:mb-8 leading-tight tracking-tight px-2 sm:px-0\n              transform transition-all ease-out will-change-transform\n              ${a?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}\n            `,style:{transitionDuration:`${jy(700)}ms`},children:i}),s.jsx("p",{id:"hero-subtitle",className:`\n              text-lg sm:text-xl md:text-2xl text-muted-foreground mb-8 sm:mb-12 max-w-2xl mx-auto leading-relaxed px-4 sm:px-0\n              transform transition-all ease-out will-change-transform\n              ${a?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}\n            `,style:{transitionDuration:`${jy(700)}ms`,transitionDelay:`${jy(150)}ms`},children:"Transform any topic into a structured learning journey powered by AI research"}),s.jsx("div",{className:`\n              max-w-2xl mx-auto px-2 sm:px-0\n              transform transition-all ease-out will-change-transform\n              ${a?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}\n            `,style:{transitionDuration:`${jy(700)}ms`,transitionDelay:`${jy(300)}ms`},children:s.jsx(Ly,{onSubmit:e,isLoading:t})})]})}),s.jsx("div",{className:"relative z-10 pb-6 sm:pb-8",children:s.jsxs("button",{onClick:()=>{(e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})})("introduction")},className:"flex flex-col items-center space-y-2 text-muted-foreground hover:text-foreground transition-all duration-300 ease-out group min-h-[44px] min-w-[44px] p-3 rounded-xl hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background focus:bg-muted/50","aria-label":"Scroll to introduction section to learn more about our platform",type:"button",children:[s.jsx("span",{className:"text-sm font-medium transition-transform duration-300 group-hover:scale-105",children:"Learn more"}),s.jsx(O,{className:`\n              w-6 h-6 transition-transform duration-300 group-hover:translate-y-1 will-change-transform\n              ${o?"":"animate-bounce group-hover:animate-none"}\n            `,"aria-hidden":"true"})]})})]})},Oy=({children:e,fallback:t=s.jsx("div",{className:"h-96 animate-pulse bg-muted/20 rounded-lg"}),rootMargin:i="100px",threshold:r=.1,className:a=""})=>{const[n,o]=Ct.useState(!1),[l,c]=Ct.useState(!1),d=Ct.useRef(null);return Ct.useEffect(()=>{const e=new IntersectionObserver(([t])=>{t.isIntersecting&&!l&&(o(!0),c(!0),e.disconnect())},{rootMargin:i,threshold:r});return d.current&&e.observe(d.current),()=>{e.disconnect()}},[i,r,l]),s.jsx("div",{ref:d,className:a,children:n?e:t})},Dy=()=>s.jsx("section",{className:"py-16 sm:py-20 lg:py-24 bg-background",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-10 lg:gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-8 sm:h-10 md:h-12 bg-muted/30 rounded-lg animate-pulse mb-4 sm:mb-6 w-3/4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse"}),s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse w-5/6"}),s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse w-4/5"})]})]}),s.jsx("div",{className:"space-y-4 sm:space-y-6",children:[1,2,3].map(e=>s.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-muted/30 rounded-lg animate-pulse"}),s.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[s.jsx("div",{className:"h-5 bg-muted/20 rounded animate-pulse w-1/3"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-4 bg-muted/15 rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted/15 rounded animate-pulse w-4/5"})]})]})]},e))})]}),s.jsx("div",{className:"relative mt-8 lg:mt-0",children:s.jsx("div",{className:"bg-muted/20 rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl border border-border/50 animate-pulse",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-muted/30 rounded-full"}),s.jsx("div",{className:"h-4 bg-muted/30 rounded w-1/3"})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"h-3 sm:h-4 bg-muted/30 rounded"}),s.jsx("div",{className:"h-3 sm:h-4 bg-muted/30 rounded w-3/4"}),s.jsx("div",{className:"h-3 sm:h-4 bg-muted/30 rounded w-1/2"})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-muted/10 rounded-lg",children:[s.jsx("div",{className:"h-3 bg-muted/20 rounded w-1/4 mb-2"}),s.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:[1,2,3].map(e=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-muted/30 rounded-full"}),s.jsx("div",{className:"h-3 bg-muted/20 rounded w-1/3"})]},e))})]})]})})})]})})})}),_y=()=>s.jsx("section",{className:"py-16 sm:py-20 lg:py-24 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-14 lg:mb-16",children:[s.jsx("div",{className:"h-8 sm:h-10 md:h-12 bg-muted/30 rounded-lg animate-pulse mb-4 sm:mb-6 w-2/3 mx-auto"}),s.jsxs("div",{className:"space-y-2 max-w-3xl mx-auto",children:[s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse"}),s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse w-4/5 mx-auto"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[1,2,3,4,5,6].map(e=>s.jsxs("div",{className:"bg-card rounded-xl p-4 sm:p-6 lg:p-8 shadow-lg border border-border animate-pulse",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-muted/30 rounded-lg mb-4 sm:mb-6"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-6 bg-muted/20 rounded w-3/4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted/15 rounded"}),s.jsx("div",{className:"h-4 bg-muted/15 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-muted/15 rounded w-4/5"})]})]}),s.jsx("div",{className:"mt-4 sm:mt-6",children:s.jsx("div",{className:"h-6 bg-muted/20 rounded-full w-16"})})]},e))}),s.jsxs("div",{className:"text-center mt-12 sm:mt-14 lg:mt-16",children:[s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse mb-4 sm:mb-6 w-1/3 mx-auto"}),s.jsx("div",{className:"h-12 bg-muted/30 rounded-lg animate-pulse w-40 mx-auto"})]})]})})}),zy=()=>s.jsx("section",{className:"py-16 sm:py-20 lg:py-24 bg-background",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-14 lg:mb-16",children:[s.jsx("div",{className:"h-8 sm:h-10 md:h-12 bg-muted/30 rounded-lg animate-pulse mb-4 sm:mb-6 w-1/2 mx-auto"}),s.jsxs("div",{className:"space-y-2 max-w-2xl mx-auto",children:[s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse"}),s.jsx("div",{className:"h-6 bg-muted/20 rounded animate-pulse w-3/4 mx-auto"})]})]}),s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>s.jsx("div",{className:"bg-card rounded-lg border border-border p-4 sm:p-6 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-6 bg-muted/20 rounded w-3/4"}),s.jsx("div",{className:"w-6 h-6 bg-muted/30 rounded"})]})},e))})]})})}),Fy=()=>s.jsx("footer",{className:"bg-muted/50 border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-8",children:[1,2,3,4].map(e=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-5 bg-muted/30 rounded w-1/2 animate-pulse"}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(e=>s.jsx("div",{className:"h-4 bg-muted/20 rounded w-3/4 animate-pulse"},e))})]},e))}),s.jsx("div",{className:"border-t border-border pt-6 sm:pt-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[s.jsx("div",{className:"h-4 bg-muted/20 rounded w-48 animate-pulse"}),s.jsx("div",{className:"flex space-x-4",children:[1,2,3].map(e=>s.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded animate-pulse"},e))})]})})]})})}),By=Ct.lazy(()=>yy(()=>import("./IntroductionSection--easerYy.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.IntroductionSection}))),Hy=Ct.lazy(()=>yy(()=>import("./FeaturesSection-BuYFzeKz.js"),__vite__mapDeps([3,1,2,4])).then(e=>({default:e.FeaturesSection}))),Wy=Ct.lazy(()=>yy(()=>import("./FAQSection-CykD6EMb.js"),__vite__mapDeps([5,1,2,4])).then(e=>({default:e.FAQSection}))),Xy=Ct.lazy(()=>yy(()=>import("./FooterSection-CC--QaNB.js"),__vite__mapDeps([6,1,2,4])).then(e=>({default:e.FooterSection})));const Yy=Ku("rounded-xl border shadow hover:shadow-lg transition-all duration-300 xur",{variants:{variant:{default:"bg-card text-card-foreground",accent:"bg-card-accent text-card-accent-foreground hover:scale-[1.02]",faded:"text-card-faded-foreground scale-95 opacity-50",bento:"bg-card-subtle text-card-subtle-foreground hover:scale-[1.02] border-none shadow-none"}}}),Vy=Ct.forwardRef(({className:e,variant:t="default",...i},r)=>s.jsx("div",{ref:r,className:Yh(Yy({variant:t,className:e})),...i}));Vy.displayName="Card";const Uy=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Yh("flex flex-col space-y-1.5 p-6",e),...t}));Uy.displayName="CardHeader";const qy=Ct.forwardRef(({className:e,...t},i)=>s.jsx("h3",{ref:i,className:Yh("font-semibold leading-none tracking-tight",e),...t}));qy.displayName="CardTitle";const Gy=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Yh("text-sm text-muted-foreground",e),...t}));Gy.displayName="CardDescription";const $y=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Yh("p-6 pt-0",e),...t}));$y.displayName="CardContent";const Qy=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Yh("flex items-center p-6 pt-0",e),...t}));Qy.displayName="CardFooter";const Ky=({examples:e})=>{const[t,i]=Ct.useState(0),[r,a]=Ct.useState(!1),n=Ct.useRef(null),o=Ct.useRef(null),l=Ct.useRef(null),c=Ct.useRef(null),d=Ct.useRef(null);Ct.useEffect(()=>(c.current=new IntersectionObserver(([e])=>a(e.isIntersecting),{threshold:.5,rootMargin:"-200px 0px -100px 0px"}),n.current&&c.current.observe(n.current),()=>{c.current&&c.current.disconnect()}),[]),Ct.useEffect(()=>(l.current&&clearInterval(l.current),r&&e.length>1&&(l.current=setInterval(()=>{i(t=>(t+1)%e.length)},3e3)),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{if(o.current){const e=o.current,s=e.children[t];if(s){const t=e.getBoundingClientRect(),i=s.getBoundingClientRect(),r=s.offsetLeft-e.offsetLeft-t.width/2+i.width/2;e.scrollTo({left:r,behavior:"smooth"})}}},200),()=>{l.current&&clearInterval(l.current),d.current&&clearTimeout(d.current)}),[r,e.length,t]);const u=t=>{i(t),l.current&&clearInterval(l.current),r&&e.length>1&&(l.current=setInterval(()=>{i(t=>(t+1)%e.length)},3e3))};return s.jsxs("div",{ref:n,className:"relative w-screen left-1/2 -translate-x-1/2 flex flex-col items-center my-16",children:[s.jsx("h2",{className:"mb-6 text-center font-semibold tracking-wide text-muted-foreground",children:"Used by:"}),s.jsx("div",{className:"w-full max-w-full overflow-hidden",children:s.jsx("div",{className:"flex overflow-x-auto no-scrollbar scroll-smooth pb-10 pt-4 gap-4 px-4 snap-x snap-mandatory",ref:o,children:e.map((e,i)=>s.jsx(Zy,{example:e,index:i,isCurrent:i===t,onMouseEnter:u},i))})})]})},Zy=Ct.forwardRef(({example:e,index:t,isCurrent:i,onMouseEnter:r},a)=>s.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 snap-center",onMouseEnter:()=>r(t),children:s.jsx(Vy,{ref:a,className:"overflow-hidden w-[280px] sm:w-[320px] md:w-[350px] transition-all duration-200 hover:scale-105",variant:i?"default":"faded",children:s.jsxs($y,{className:"p-0 h-full",children:[s.jsx("img",{src:e.imageSrc,alt:e.name,className:"w-full h-auto aspect-video"}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"font-bold",children:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]})]})})}));Zy.displayName="ExampleCard";const Jy=Q,ew=Ct.forwardRef(({className:e,...t},i)=>s.jsx(U,{ref:i,className:Yh("border-b",e),...t}));ew.displayName="AccordionItem";const tw=Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsx(q,{className:"flex",children:s.jsxs(G,{ref:r,className:Yh("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",e),...i,children:[t,s.jsx(O,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));tw.displayName=G.displayName;const sw=Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsx($,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:s.jsx("div",{className:Yh("pb-4 pt-0",e),children:t})}));function iw({faqs:e}){return s.jsxs("div",{className:"mt-32 mx-auto max-w-4xl px-6 pb-8 sm:pb-24 sm:pt-12 lg:max-w-7xl lg:px-8 lg:py-32",children:[s.jsx("h2",{className:"text-2xl font-bold leading-10 tracking-tight text-foreground text-center mb-12",children:"Frequently asked questions"}),s.jsx(Jy,{type:"single",collapsible:!0,className:"w-full space-y-4",children:e.map(e=>s.jsxs(ew,{value:`faq-${e.id}`,className:"border border-border rounded-lg px-6 py-2 hover:bg-muted/20 transition-all duration-200",children:[s.jsx(tw,{className:"text-left text-base font-semibold leading-7 text-foreground hover:text-primary transition-colors duration-200",children:e.question}),s.jsx(sw,{className:"text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4",children:[s.jsx("p",{className:"text-base leading-7 text-muted-foreground flex-1",children:e.answer}),e.href&&s.jsx("a",{href:e.href,className:"text-base leading-7 text-primary hover:text-primary/80 transition-colors duration-200 font-medium whitespace-nowrap flex-shrink-0",children:"Learn more →"})]})})]},e.id))})]})}function rw({title:e,description:t}){const i="string"==typeof e?s.jsx("h3",{className:"mt-2 text-4xl font-bold tracking-tight text-foreground sm:text-5xl",children:e}):e,r="string"==typeof t?s.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground",children:t}):t;return s.jsxs("div",{className:"mx-auto max-w-2xl text-center mb-8",children:[i,r]})}sw.displayName=$.displayName;const aw=({features:e,className:t=""})=>s.jsxs("div",{className:"flex flex-col gap-4 my-16 md:my-24 lg:my-40 max-w-7xl mx-auto",id:"features",children:[s.jsx(rw,{title:"Features",description:"These are some of the features of the product."}),s.jsx("div",{className:Yh("grid grid-cols-2 gap-4 md:grid-cols-4 lg:grid-cols-6 mx-4 md:mx-6 lg:mx-8 auto-rows-[minmax(140px,auto)]",t),children:e.map(e=>s.jsx(nw,{...e},e.name+e.description))})]});function nw({name:e,description:t,icon:i,emoji:r,href:a,direction:n="col",align:o="center",size:l="medium",fullWidthIcon:c=!0}){const d={small:"col-span-1",medium:"col-span-2 md:col-span-2 lg:col-span-2",large:"col-span-2 md:col-span-2 lg:col-span-2 row-span-2"},u=s.jsx(Vy,{className:Yh("h-full min-h-[140px] transition-all duration-300 hover:shadow-lg cursor-pointer",d[l]),variant:"bento",children:s.jsxs($y,{className:"p-4 h-full flex flex-col justify-center items-center",children:[c&&(i||r)?s.jsx("div",{className:"w-full flex justify-center items-center mb-3",children:i||(r?s.jsx("span",{className:"text-4xl",children:r}):null)}):s.jsxs("div",{className:Yh("flex items-center gap-3",{col:"flex-col",row:"flex-row","row-reverse":"flex-row-reverse","col-reverse":"flex-col-reverse"}[n],"center"===o?"justify-center items-center":"justify-start"),children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg",children:i||(r?s.jsx("span",{className:"text-2xl",children:r}):null)}),s.jsx(qy,{className:Yh("center"===o?"text-center":"text-left"),children:e})]}),c&&(i||r)&&s.jsx(qy,{className:"text-center mb-2",children:e}),s.jsx(Gy,{className:Yh("text-xs leading-relaxed",c||"col"===n||"center"===o?"text-center":"text-left"),children:t})]})});return a?s.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:d[l],children:u}):u}function ow({footerNavigation:e}){return s.jsx("div",{className:"mx-auto mt-6 max-w-7xl px-6 lg:px-8 dark:bg-boxdark-2",children:s.jsxs("footer",{"aria-labelledby":"footer-heading",className:"relative border-t border-gray-900/10 dark:border-gray-200/10 py-24 sm:mt-32",children:[s.jsx("h2",{id:"footer-heading",className:"sr-only",children:"Footer"}),s.jsxs("div",{className:"flex items-start justify-end mt-10 gap-20",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold leading-6 text-gray-900 dark:text-white",children:"App"}),s.jsx("ul",{role:"list",className:"mt-6 space-y-4",children:e.app.map(e=>s.jsx("li",{children:s.jsx("a",{href:e.href,className:"text-sm leading-6 text-gray-600 hover:text-gray-900 dark:text-white",children:e.name})},e.name))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold leading-6 text-gray-900 dark:text-white",children:"Company"}),s.jsx("ul",{role:"list",className:"mt-6 space-y-4",children:e.company.map(e=>s.jsx("li",{children:s.jsx("a",{href:e.href,className:"text-sm leading-6 text-gray-600 hover:text-gray-900 dark:text-white",children:e.name})},e.name))})]})]})]})})}const lw=Ku("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),cw=Ct.forwardRef(({className:e,variant:t,size:i,asChild:r=!1,...a},n)=>{const o=r?K:"button";return s.jsx(o,{className:Yh(lw({variant:t,size:i,className:e})),ref:n,...a})});function dw(){return s.jsxs("div",{className:"relative pt-14 w-full",children:[s.jsx(uw,{}),s.jsx(hw,{}),s.jsx("div",{className:"md:p-24",children:s.jsxs("div",{className:"mx-auto max-w-8xl px-6 lg:px-8",children:[s.jsxs("div",{className:"lg:mb-18 mx-auto max-w-3xl text-center",children:[s.jsxs("h1",{className:"text-5xl font-bold text-foreground sm:text-6xl",children:["Some ",s.jsx("span",{className:"italic",children:"cool"})," words about"," ",s.jsx("span",{className:"text-gradient-primary",children:"your product"})]}),s.jsx("p",{className:"mt-6 mx-auto max-w-2xl text-lg leading-8 text-muted-foreground",children:"With some more exciting words about your product!"}),s.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[s.jsx(cw,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Xi,{to:Yi.PricingPageRoute.to,children:"Learn More"})}),s.jsx(cw,{size:"lg",variant:"default",asChild:!0,children:s.jsxs(Xi,{to:Yi.SignupRoute.to,children:["Get Started ",s.jsx("span",{"aria-hidden":"true",children:"→"})]})})]})]}),s.jsx("div",{className:"mt-14 flow-root sm:mt-14",children:s.jsxs("div",{className:"hidden md:flex m-2 justify-center rounded-xl lg:-m-4 lg:rounded-2xl lg:p-4",children:[s.jsx("img",{src:"/assets/open-saas-banner-light-Dyoa6lob.png",alt:"App screenshot",width:1e3,height:530,loading:"lazy",className:"rounded-md shadow-2xl ring-1 ring-gray-900/10 dark:hidden"}),s.jsx("img",{src:"/assets/open-saas-banner-dark-JOpu4xLP.png",alt:"App screenshot",width:1e3,height:530,loading:"lazy",className:"rounded-md shadow-2xl ring-1 ring-gray-900/10 hidden dark:block"})]})})]})})]})}function uw(){return s.jsx("div",{className:"absolute top-0 right-0 -z-10 transform-gpu overflow-hidden w-full blur-3xl sm:top-0","aria-hidden":"true",children:s.jsx("div",{className:"aspect-[1020/880] w-[70rem] flex-none sm:right-1/4 sm:translate-x-1/2 dark:hidden bg-gradient-to-tr from-amber-400 to-purple-300 opacity-10",style:{clipPath:"polygon(80% 20%, 90% 55%, 50% 100%, 70% 30%, 20% 50%, 50% 0)"}})})}function hw(){return s.jsx("div",{className:"absolute inset-x-0 top-[calc(100%-40rem)] sm:top-[calc(100%-65rem)] -z-10 transform-gpu overflow-hidden blur-3xl","aria-hidden":"true",children:s.jsx("div",{className:"relative aspect-[1020/880] sm:-left-3/4 sm:translate-x-1/4 dark:hidden bg-gradient-to-br from-amber-400 to-purple-300 opacity-10 w-[90rem]",style:{clipPath:"ellipse(80% 30% at 80% 50%)"}})})}function pw({testimonials:e}){const[t,i]=Ct.useState(!1),r=e.length>5,a=r&&!t?3:e.length;return s.jsxs("div",{className:"mx-auto mt-32 max-w-7xl sm:mt-56 sm:px-6 lg:px-8",children:[s.jsx(rw,{title:"What Our Users Say"}),s.jsx("div",{className:"relative w-full z-10 px-4 md:px-0 columns-1 md:columns-2 lg:columns-3 gap-2 md:gap-6",children:e.slice(0,a).map((e,t)=>s.jsx("div",{className:"break-inside-avoid mb-6",children:s.jsxs(Vy,{className:"flex flex-col justify-between",children:[s.jsx($y,{className:"p-6",children:s.jsx("blockquote",{className:"leading-6 mb-4",children:s.jsx("p",{className:"italic text-sm",children:e.quote})})}),s.jsx(Qy,{className:"pt-0 flex flex-col",children:s.jsxs("a",{href:e.socialUrl,className:"flex items-center gap-x-3 group transition-all duration-200 hover:opacity-80 w-full",children:[s.jsx("img",{src:e.avatarSrc,loading:"lazy",alt:`${e.name}'s avatar`,className:"h-10 w-10 rounded-full ring-2 ring-border/20 group-hover:ring-primary/30 transition-all duration-200 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx(qy,{className:"text-sm font-semibold group-hover:text-card-foreground transition-colors duration-200 truncate",children:e.name}),s.jsx(Gy,{className:"text-xs truncate",children:e.role})]})]})})]})},t))}),r&&s.jsx("div",{className:"flex justify-center mt-8 md:hidden",children:s.jsx("button",{onClick:()=>i(!t),className:"px-6 py-3 text-sm font-medium text-primary bg-primary/10 hover:bg-primary/20 rounded-lg transition-colors duration-200",children:t?"Show Less":`Show ${e.length-3} More`})})]})}cw.displayName="Button";const mw=({name:e,description:t,direction:i="row",highlightedComponent:r,tilt:a})=>s.jsxs("div",{className:Yh("max-w-6xl mx-auto flex flex-col items-center my-50 gap-x-20 gap-y-10 justify-between px-8 md:px-4 transition-all duration-300 ease-in-out","row"===i?"md:flex-row":"md:flex-row-reverse"),children:[s.jsxs("div",{className:"flex-col flex-1",children:[s.jsx("h2",{className:"text-4xl font-bold mb-2",children:e}),"string"==typeof t?s.jsx("p",{className:"text-muted-foreground",children:t}):t]}),s.jsx("div",{className:Yh("flex flex-1 my-10 transition-transform duration-300 ease-in-out w-full items-center justify-center",a&&{left:"rotate-1",right:"-rotate-1"}[a]),children:r})]});function fw(){return s.jsx(mw,{name:"Example Feature Highlight",description:"Yo! Use this component to show off the most important features in your app.",highlightedComponent:s.jsx(gw,{}),direction:"row-reverse"})}const gw=()=>s.jsxs("div",{className:"w-full",children:[s.jsx("img",{src:"/assets/aiready-Cpt_H99y.webp",alt:"AI Ready",className:"dark:hidden"}),s.jsx("img",{src:"/assets/aiready-dark-B7tcHgkg.webp",alt:"AI Ready",className:"hidden dark:block"})]}),xw="/assets/da-boi-ByL1g9p_.webp",bw=[{name:"Cool Feature 1",description:"Your feature",emoji:"🤝",href:bb,size:"small"},{name:"Cool Feature 2",description:"Feature description",emoji:"🔐",href:bb,size:"small"},{name:"Cool Feature 3",description:"Describe your cool feature here",emoji:"🥞",href:bb,size:"medium"},{name:"Cool Feature 4",description:"Describe your cool feature here",emoji:"💸",href:bb,size:"large"},{name:"Cool Feature 5",description:"Describe your cool feature here",emoji:"💼",href:bb,size:"large"},{name:"Cool Feature 6",description:"It is cool",emoji:"📈",href:bb,size:"small"},{name:"Cool Feature 7",description:"Cool feature",emoji:"📧",href:bb,size:"small"},{name:"Cool Feature 8",description:"Describe your cool feature here",emoji:"🤖",href:bb,size:"medium"},{name:"Cool Feature 9",description:"Describe your cool feature here",emoji:"🚀",href:bb,size:"medium"}],vw=[{name:"Da Boi",role:"Wasp Mascot",avatarSrc:xw,socialUrl:"https://twitter.com/wasplang",quote:"I don't even know how to code. I'm just a plushie."},{name:"Mr. Foobar",role:"Founder @ Cool Startup",avatarSrc:xw,socialUrl:"",quote:"This product makes me cooler than I already am."},{name:"Jamie",role:"Happy Customer",avatarSrc:xw,socialUrl:"#",quote:"My cats love it!"}],yw=[{id:1,question:"Whats the meaning of life?",answer:"42.",href:"https://en.wikipedia.org/wiki/42_(number)"}],ww={app:[{name:"Documentation",href:bb},{name:"Blog",href:vb}],company:[{name:"About",href:"https://wasp.sh"},{name:"Privacy",href:"#"},{name:"Terms of Service",href:"#"}]},jw=[{name:"Example #1",description:"Describe your example here.",imageSrc:"/assets/kivo-48vdn3tS.webp",href:"#"},{name:"Example #2",description:"Describe your example here.",imageSrc:"/assets/messync-Cq-M3Zm7.webp",href:"#"},{name:"Example #3",description:"Describe your example here.",imageSrc:"/assets/microinfluencers-HAyPC-0u.webp",href:"#"},{name:"Example #4",description:"Describe your example here.",imageSrc:"/assets/promptpanda-BzKq7iGx.webp",href:"#"},{name:"Example #5",description:"Describe your example here.",imageSrc:"/assets/reviewradar-BkDwN3Jv.webp",href:"#"},{name:"Example #6",description:"Describe your example here.",imageSrc:"/assets/scribeist-CcdT82tI.webp",href:"#"},{name:"Example #7",description:"Describe your example here.",imageSrc:"/assets/searchcraft-DB3JrydH.webp",href:"#"}];function Nw({children:e}){return s.jsx("div",{className:"flex min-h-screen flex-col justify-center py-12 sm:px-6 lg:px-8 bg-background font-platform",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx(Vy,{className:"shadow-lg",children:s.jsx($y,{className:"p-8",children:e})})})})}var kw="horizontal",Sw=["horizontal","vertical"],Cw=Ct.forwardRef((e,t)=>{const{decorative:i,orientation:r=kw,...a}=e,n=function(e){return Sw.includes(e)}(r)?r:kw,o=i?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"};return s.jsx(m.div,{"data-orientation":n,...o,...a,ref:t})});Cw.displayName="Separator";var Aw=Cw;const Tw=Ct.forwardRef(({className:e,orientation:t="horizontal",decorative:i=!0,...r},a)=>s.jsx(Aw,{ref:a,decorative:i,orientation:t,className:Yh("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Tw.displayName=Aw.displayName;var Ew={};function Rw(e){const t=Ew[e];if(void 0===t)throw new Error(`Env var ${e} is undefined`);return t}var Pw=(e=>(e.PastDue="past_due",e.CancelAtPeriodEnd="cancel_at_period_end",e.Active="active",e.Deleted="deleted",e))(Pw||{}),Iw=(e=>(e.Hobby="hobby",e.Pro="pro",e.Credits10="credits10",e))(Iw||{});const Lw={hobby:{getPaymentProcessorPlanId:()=>Rw("PAYMENTS_HOBBY_SUBSCRIPTION_PLAN_ID"),effect:{kind:"subscription"}},pro:{getPaymentProcessorPlanId:()=>Rw("PAYMENTS_PRO_SUBSCRIPTION_PLAN_ID"),effect:{kind:"subscription"}},credits10:{getPaymentProcessorPlanId:()=>Rw("PAYMENTS_CREDITS_10_PLAN_ID"),effect:{kind:"credits",amount:10}}};function Mw(e){return{hobby:"Hobby",pro:"Pro",credits10:"10 Credits"}[e]}const Ow=Ku("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dw({className:e,variant:t,...i}){return s.jsx("div",{className:Yh(Ow({variant:t}),e),...i})}var _w="Progress",[zw,Fw]=v(_w),[Bw,Hw]=zw(_w),Ww=Ct.forwardRef((e,t)=>{const{__scopeProgress:i,value:r=null,max:a,getValueLabel:n=Vw,...o}=e;(a||0===a)&&Gw(a);const l=Gw(a)?a:100;null!==r&&$w(r,l);const c=$w(r,l)?r:null,d=qw(c)?n(c,l):void 0;return s.jsx(Bw,{scope:i,value:c,max:l,children:s.jsx(m.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":qw(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Uw(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Ww.displayName=_w;var Xw="ProgressIndicator",Yw=Ct.forwardRef((e,t)=>{const{__scopeProgress:i,...r}=e,a=Hw(Xw,i);return s.jsx(m.div,{"data-state":Uw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});function Vw(e,t){return`${Math.round(e/t*100)}%`}function Uw(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function qw(e){return"number"==typeof e}function Gw(e){return qw(e)&&!isNaN(e)&&e>0}function $w(e,t){return qw(e)&&!isNaN(e)&&e<=t&&e>=0}Yw.displayName=Xw;var Qw=Ww,Kw=Yw;const Zw=Ct.forwardRef(({className:e,value:t,...i},r)=>s.jsx(Qw,{ref:r,className:Yh("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...i,children:s.jsx(Kw,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Zw.displayName=Qw.displayName;const Jw=Ku("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ej=Ct.forwardRef(({className:e,variant:t,...i},r)=>s.jsx("div",{ref:r,role:"alert",className:Yh(Jw({variant:t}),e),...i}));ej.displayName="Alert";Ct.forwardRef(({className:e,...t},i)=>s.jsx("h5",{ref:i,className:Yh("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";const tj=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Yh("text-sm [&_p]:leading-relaxed",e),...t}));function sj({compact:e=!1,showRecommendations:t=!0}){var i,r;const{data:a,isLoading:n,error:o}=Hu(zu),{data:l,isLoading:c}=Hu(Fu,void 0,{enabled:t});if(n)return s.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-2 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})})},e))});if(o||!a)return s.jsxs(ej,{variant:"destructive",children:[s.jsx(H,{className:"h-4 w-4"}),s.jsx(tj,{children:"Failed to load usage statistics. Please try again later."})]});const d=(e,t)=>{const s=e/t*100;return s>=90?"text-red-600":s>=70?"text-orange-600":"text-green-600"},u=(e,t)=>{const s=e/t*100;return s>=90?"bg-red-500":s>=70?"bg-orange-500":"bg-green-500"},h=[{label:"Topics Researched",current:a.topicsThisMonth,limit:a.limits.topicsPerMonth,icon:Z,period:"this month",description:"New learning topics created"},{label:"AI Chat Messages",current:a.chatMessagesToday,limit:a.limits.chatMessagesPerDay,icon:J,period:"today",description:"Questions asked to AI assistant"},{label:"Quizzes Generated",current:a.quizzesThisWeek,limit:a.limits.quizzesPerWeek,icon:ee,period:"this week",description:"Knowledge assessments created"}];return e?s.jsx("div",{className:"space-y-3",children:h.map(e=>{const t=e.current/e.limit*100,i=e.icon;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:e.label})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-sm font-medium ${d(e.current,e.limit)}`,children:[e.current,"/",e.limit]}),s.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ${u(e.current,e.limit)}`,style:{width:`${Math.min(t,100)}%`}})})]})]},e.label)})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Vy,{children:s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(qy,{className:"flex items-center gap-2",children:[a.subscriptionInfo.isSubscribed?s.jsx(te,{className:"h-5 w-5 text-yellow-500"}):s.jsx(se,{className:"h-5 w-5 text-gray-500"}),a.subscriptionInfo.isSubscribed?`${null==(i=a.subscriptionInfo.plan)?void 0:i.charAt(0).toUpperCase()}${null==(r=a.subscriptionInfo.plan)?void 0:r.slice(1)} Plan`:"Free Plan"]}),s.jsx(Gy,{children:a.subscriptionInfo.isSubscribed?"You have access to premium learning features":"Upgrade to unlock unlimited learning potential"})]}),s.jsx(Dw,{variant:a.subscriptionInfo.isSubscribed?"default":"secondary",children:a.subscriptionInfo.status||"Free"})]})})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:h.map(e=>{const t=e.current/e.limit*100,i=e.icon,r=t>=80;return s.jsxs(Vy,{className:r?"border-orange-200 bg-orange-50":"",children:[s.jsxs(Uy,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-4 w-4 "+(r?"text-orange-600":"text-muted-foreground")}),s.jsx(qy,{className:"text-sm font-medium",children:e.label})]}),r&&s.jsx(H,{className:"h-4 w-4 text-orange-500"})]}),s.jsx(Gy,{className:"text-xs",children:e.description})]}),s.jsxs($y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-2xl font-bold ${d(e.current,e.limit)}`,children:e.current}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["of ",e.limit," ",e.period]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Zw,{value:Math.min(t,100),className:"h-2 "+(r?"[&>div]:bg-orange-500":"")}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[Math.round(t),"% used"]}),s.jsxs("span",{children:[e.limit-e.current," remaining"]})]})]})]})]},e.label)})}),s.jsx(Vy,{children:s.jsx($y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Usage Resets"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:(p=a.lastResetDate,new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(p))})]})})}),t&&l&&l.shouldUpgrade&&s.jsxs(ej,{className:"border-blue-200 bg-blue-50",children:[s.jsx(re,{className:"h-4 w-4 text-blue-600"}),s.jsx(tj,{className:"text-blue-800",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Upgrade Recommended"}),s.jsx("p",{className:"text-sm",children:l.reason}),l.savings&&s.jsxs("p",{className:"text-xs",children:["Save up to $",l.savings,"/month compared to buying credits"]}),s.jsx(cw,{asChild:!0,size:"sm",className:"mt-2",children:s.jsxs(Xi,{to:"/pricing",children:[s.jsx(te,{className:"h-3 w-3 mr-1"}),"Upgrade to ",l.recommendedPlan]})})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(cw,{asChild:!0,variant:"outline",size:"sm",children:s.jsxs(Xi,{to:"/pricing",children:[s.jsx(se,{className:"h-4 w-4 mr-2"}),"View Plans"]})}),!a.subscriptionInfo.isSubscribed&&s.jsx(cw,{asChild:!0,size:"sm",children:s.jsxs(Xi,{to:"/pricing",children:[s.jsx(ae,{className:"h-4 w-4 mr-2"}),"Upgrade Now"]})})]})]});var p}function ij({subscriptionPlan:e,subscriptionStatus:t,datePaid:i,credits:r}){return t&&e&&i?s.jsxs(s.Fragment,{children:[s.jsx("dd",{className:"mt-1 text-sm text-foreground sm:col-span-1 sm:mt-0",children:rj({subscriptionPlan:e,subscriptionStatus:t,datePaid:i})}),t!==Pw.Deleted?s.jsx(nj,{}):s.jsx(aj,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("dd",{className:"mt-1 text-sm text-foreground sm:col-span-1 sm:mt-0",children:["Credits remaining: ",r]}),s.jsx(aj,{})]})}function rj({subscriptionPlan:e,subscriptionStatus:t,datePaid:s}){return function(e,t,s){const i={active:`${e}`,past_due:`Payment for your ${e} plan is past due! Please update your subscription payment information.`,cancel_at_period_end:`Your ${e} plan subscription has been canceled, but remains active until the end of the current billing period${s}`,deleted:"Your previous subscription has been canceled and is no longer active."};if(Object.keys(i).includes(t))return i[t];throw new Error(`Invalid subscriptionStatus: ${t}`)}(Mw(function(e){if(Object.values(Iw).includes(e))return e;throw new Error(`Invalid PaymentPlanId: ${e}`)}(e)),t,function(e){const t=new Date(e);return t.setMonth(t.getMonth()+1),": "+t.toLocaleDateString()}(s))}function aj(){return s.jsx("div",{className:"ml-4 flex-shrink-0 sm:col-span-1 sm:mt-0",children:s.jsx(Xi,{to:Yi.PricingPageRoute.to,className:"font-medium text-sm text-primary hover:text-primary/80 transition-colors duration-200",children:"Buy More/Upgrade"})})}function nj(){const{data:e,isLoading:t,error:i}=Hu(Nu);return s.jsx("div",{className:"ml-4 flex-shrink-0 sm:col-span-1 sm:mt-0",children:s.jsx(cw,{onClick:()=>{e&&window.open(e,"_blank")},disabled:t,variant:"outline",size:"sm",className:"font-medium text-sm",children:"Manage Subscription"})})}function oj(e){const t=Ct.useRef({value:e,previous:e});return Ct.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}tj.displayName="AlertDescription";var lj="Checkbox",[cj,dj]=v(lj),[uj,hj]=cj(lj);function pj(e){const{__scopeCheckbox:t,checked:i,children:r,defaultChecked:a,disabled:n,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[p,m]=N({prop:i,defaultProp:a??!1,onChange:c,caller:lj}),[f,g]=Ct.useState(null),[x,b]=Ct.useState(null),v=Ct.useRef(!1),y=!f||(!!o||!!f.closest("form")),w={checked:p,disabled:n,setChecked:m,control:f,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:!jj(a)&&a,isFormControl:y,bubbleInput:x,setBubbleInput:b};return s.jsx(uj,{scope:t,...w,children:wj(h)?h(w):r})}var mj="CheckboxTrigger",fj=Ct.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:i,...r},a)=>{const{control:n,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=hj(mj,e),v=h(a,u),y=Ct.useRef(c);return Ct.useEffect(()=>{const e=null==n?void 0:n.form;if(e){const t=()=>p(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[n,p]),s.jsx(m.button,{type:"button",role:"checkbox","aria-checked":jj(c)?"mixed":c,"aria-required":d,"data-state":Nj(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:f(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:f(i,e=>{p(e=>!!jj(e)||!e),b&&x&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});fj.displayName=mj;var gj=Ct.forwardRef((e,t)=>{const{__scopeCheckbox:i,name:r,checked:a,defaultChecked:n,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(pj,{__scopeCheckbox:i,checked:a,defaultChecked:n,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>s.jsxs(s.Fragment,{children:[s.jsx(fj,{...h,ref:t,__scopeCheckbox:i}),e&&s.jsx(yj,{__scopeCheckbox:i})]})})});gj.displayName=lj;var xj="CheckboxIndicator",bj=Ct.forwardRef((e,t)=>{const{__scopeCheckbox:i,forceMount:r,...a}=e,n=hj(xj,i);return s.jsx(S,{present:r||jj(n.checked)||!0===n.checked,children:s.jsx(m.span,{"data-state":Nj(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bj.displayName=xj;var vj="CheckboxBubbleInput",yj=Ct.forwardRef(({__scopeCheckbox:e,...t},i)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:n,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:p,bubbleInput:f,setBubbleInput:g}=hj(vj,e),x=h(i,g),b=oj(n),v=mf(r);Ct.useEffect(()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,i=!a.current;if(b!==n&&s){const t=new Event("click",{bubbles:i});e.indeterminate=jj(n),s.call(e,!jj(n)&&n),e.dispatchEvent(t)}},[f,b,n,a]);const y=Ct.useRef(!jj(n)&&n);return s.jsx(m.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:p,...t,tabIndex:-1,ref:x,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function wj(e){return"function"==typeof e}function jj(e){return"indeterminate"===e}function Nj(e){return jj(e)?"indeterminate":e?"checked":"unchecked"}yj.displayName=vj;const kj=Ct.forwardRef(({className:e,...t},i)=>s.jsx(gj,{ref:i,className:Yh("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(bj,{className:Yh("flex items-center justify-center text-current"),children:s.jsx(P,{className:"h-4 w-4"})})}));kj.displayName=gj.displayName;const Sj=Ct.forwardRef(({className:e,type:t,...i},r)=>s.jsx("input",{type:t,className:Yh("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...i}));function Cj({handleCreateTask:e}){const[t,i]=Ct.useState(""),[r,a]=Ct.useState(8),[n,o]=Ct.useState({tasks:[{name:"Respond to emails",priority:"high"},{name:"Learn WASP",priority:"low"},{name:"Read a book",priority:"medium"}],taskItems:[{description:"Read introduction and chapter 1",time:.5,taskName:"Read a book"},{description:"Read chapter 2 and take notes",time:.3,taskName:"Read a book"},{description:"Read chapter 3 and summarize key points",time:.2,taskName:"Read a book"},{description:"Check and respond to important emails",time:1,taskName:"Respond to emails"},{description:"Organize and prioritize remaining emails",time:.5,taskName:"Respond to emails"},{description:"Draft responses to urgent emails",time:.5,taskName:"Respond to emails"},{description:"Watch tutorial video on WASP",time:.5,taskName:"Learn WASP"},{description:"Complete online quiz on the basics of WASP",time:1.5,taskName:"Learn WASP"},{description:"Review quiz answers and clarify doubts",time:1,taskName:"Learn WASP"}]}),[l,c]=Ct.useState(!1),{data:d,isLoading:u}=Hu(ju),h=async()=>{try{await e({description:t}),i("")}catch(s){window.alert("Error: "+(s.message||"Something went wrong"))}};return s.jsxs("div",{className:"flex flex-col justify-center gap-10",children:[s.jsx("div",{className:"flex flex-col gap-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(Sj,{type:"text",id:"description",className:"flex-1",placeholder:"Enter task description",value:t,onChange:e=>i(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&h()}}),s.jsx(cw,{type:"button",onClick:h,disabled:!t,variant:"default",size:"default",children:"Add Task"})]})}),s.jsxs("div",{className:"space-y-10 col-span-full",children:[u&&s.jsx("div",{className:"text-muted-foreground",children:"Loading..."}),d&&d.length>0?s.jsxs("div",{className:"space-y-4",children:[d.map(e=>s.jsx(Aj,{id:e.id,isDone:e.isDone,description:e.description,time:e.time},e.id)),s.jsx("div",{className:"flex flex-col gap-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(cb,{htmlFor:"time",className:"text-sm text-muted-foreground text-nowrap font-semibold",children:"How many hours will you work today?"}),s.jsx(Sj,{type:"number",id:"time",step:.5,min:1,max:24,className:"min-w-[7rem] text-center",value:r,onChange:e=>a(+e.currentTarget.value)})]})})]}):s.jsx("div",{className:"text-muted-foreground text-center",children:"Add tasks to begin"})]}),s.jsx(cw,{type:"button",disabled:l||0===(null==d?void 0:d.length),onClick:()=>(async()=>{try{c(!0);const e=await Zd({hours:r});e&&o(e)}catch(e){window.alert("Error: "+(e.message||"Something went wrong"))}finally{c(!1)}})(),variant:"default",size:"default",className:"w-full",children:l?s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"inline-block mr-2 animate-spin"}),"Generating..."]}):"Generate Schedule"}),!!n&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Today's Schedule"}),s.jsx(Tj,{schedule:n})]})]})}function Aj({id:e,isDone:t,description:i,time:r}){return s.jsx(Vy,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center justify-between gap-5 w-full",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kj,{checked:t,onCheckedChange:async t=>{await tu({id:e,isDone:t})},className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),s.jsx("span",{className:Yh("text-foreground",{"line-through text-muted-foreground":t}),children:i})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sj,{id:"time",type:"number",min:.5,step:.5,className:Yh("w-18 h-8 text-center text-xs",{"pointer-events-none opacity-50":t}),value:r,onChange:async t=>{await tu({id:e,time:t.currentTarget.value})}}),s.jsx("span",{className:Yh("italic text-muted-foreground text-xs",{"text-muted-foreground":t}),children:"hrs"})]})]}),s.jsx("div",{className:"flex items-center justify-end w-15",children:s.jsx(cw,{variant:"ghost",size:"sm",onClick:async()=>{await eu({id:e})},title:"Remove task",className:"p-1 h-auto text-destructive hover:text-destructive/80",children:s.jsx(oe,{size:"20"})})})]})})}function Tj({schedule:e}){return s.jsx("div",{className:"flex flex-col gap-6 py-6",children:s.jsx("div",{className:"space-y-4",children:e.tasks?e.tasks.map(t=>s.jsx(Ej,{task:t,taskItems:e.taskItems},t.name)).sort((e,t)=>{const s=["low","medium","high"];return e.props.task.priority&&t.props.task.priority?s.indexOf(t.props.task.priority)-s.indexOf(e.props.task.priority):0}):s.jsx("div",{className:"text-muted-foreground text-center",children:"OpenAI didn't return any Tasks. Try again."})})})}function Ej({task:e,taskItems:t}){return s.jsxs(Vy,{className:Yh("border-2",{high:"bg-destructive/20 border-destructive/40 text-red-500",medium:"bg-warning/10 border-warning/20 text-warning",low:"bg-success/10 border-success/20 text-success"}[e.priority]),children:[s.jsx(Uy,{className:"pb-3",children:s.jsxs(qy,{className:"flex items-center justify-between text-base",children:[s.jsx("span",{children:e.name}),s.jsxs("span",{className:"text-xs font-medium italic",children:[" ",e.priority," priority"]})]})}),s.jsx($y,{className:"pt-0",children:t?s.jsx("ul",{className:"space-y-2",children:t.map(t=>t.taskName===e.name?s.jsx(Rj,{...t},t.description):null)}):s.jsx("div",{className:"text-muted-foreground text-center",children:"OpenAI didn't return any Task Items. Try again."})})]})}function Rj({description:e,time:t}){const[i,r]=Ct.useState(!1),a=Ct.useMemo(()=>{if(0===t)return"0min";const e=Math.floor(t),s=Math.round(60*(t-e)),i=[];return e>0&&i.push(`${e}hr`),s>0&&i.push(`${s}min`),i.join(" ")},[t]);return s.jsxs("li",{className:"flex items-center justify-between gap-4 p-2 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(kj,{checked:i,onCheckedChange:e=>{r(!0===e)},className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),s.jsx("span",{className:Yh("leading-tight text-sm",{"line-through text-muted-foreground opacity-50":i}),children:e})]}),s.jsx("span",{className:Yh("text-sm text-muted-foreground",{"line-through opacity-50":i}),children:a})]})}Sj.displayName="Input";const Pj=Iw.Pro,Ij={[Iw.Hobby]:{name:Mw(Iw.Hobby),price:"$9.99",description:"All you need to get started",features:["Limited monthly usage","Basic support"]},[Iw.Pro]:{name:Mw(Iw.Pro),price:"$19.99",description:"Our most popular plan",features:["Unlimited monthly usage","Priority customer support"]},[Iw.Credits10]:{name:Mw(Iw.Credits10),price:"$9.99",description:"One-time purchase of 10 credits for your account",features:["Use credits for e.g. OpenAI API calls","No expiration date"]}};const Lj=5242880,Mj=["image/jpeg","image/png","application/pdf","text/*","video/quicktime","video/mp4"];async function Oj({file:e,setUploadProgressPercent:t}){const{s3UploadUrl:s,s3UploadFields:i}=await iu({fileType:e.type,fileName:e.name}),r=function(e,t){const s=new FormData;return Object.entries(t).forEach(([e,t])=>{s.append(e,t)}),s.append("file",e),s}(e,i);return Ml.post(s,r,{onUploadProgress:e=>{if(e.total){const s=Math.round(e.loaded/e.total*100);t(s)}}})}function Dj(e){return e.size>Lj?{message:"File size exceeds 5MB limit.",code:"FILE_TOO_LARGE"}:(t=e.type,Mj.includes(t)?null:{message:`File type '${e.type}' is not supported.`,code:"INVALID_FILE_TYPE"});var t}const _j=()=>s.jsx("li",{className:"relative","x-data":"{ dropdownOpen: false, notifying: true }",children:s.jsxs(Xi,{className:"relative flex h-8.5 w-8.5 items-center justify-center rounded-full border-[0.5px] border-stroke bg-gray hover:text-primary dark:border-strokedark dark:bg-meta-4 dark:text-white",to:Yi.AdminMessagesRoute.to,children:[s.jsx("span",{className:"absolute -top-0.5 -right-0.5 z-1 h-2 w-2 rounded-full bg-meta-1",children:s.jsx("span",{className:"absolute -z-1 inline-flex h-full w-full animate-ping rounded-full bg-meta-1 opacity-75"})}),s.jsx(le,{className:"size-5"})]})}),zj=e=>s.jsx("header",{className:"sticky top-0 z-10 flex w-full bg-background border-b border-border shadow-sm",children:s.jsxs("div",{className:"flex flex-grow items-center justify-between sm:justify-end sm:gap-5 px-8 py-5",children:[s.jsx("div",{className:"flex items-center gap-2 sm:gap-4 lg:hidden",children:s.jsx("button",{"aria-controls":"sidebar",onClick:t=>{t.stopPropagation(),e.setSidebarOpen(!e.sidebarOpen)},className:"z-99999 block rounded-sm border border-border bg-background p-1.5 shadow-sm lg:hidden",children:s.jsxs("span",{className:"relative block h-5.5 w-5.5 cursor-pointer",children:[s.jsxs("span",{className:"du-block absolute right-0 h-full w-full",children:[s.jsx("span",{className:Yh("relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-foreground delay-[0] duration-200 ease-in-out",{"!w-full delay-300":!e.sidebarOpen})}),s.jsx("span",{className:Yh("relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-foreground delay-150 duration-200 ease-in-out",{"delay-400 !w-full":!e.sidebarOpen})}),s.jsx("span",{className:Yh("relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-foreground delay-200 duration-200 ease-in-out",{"!w-full delay-500":!e.sidebarOpen})})]}),s.jsxs("span",{className:"absolute right-0 h-full w-full rotate-45",children:[s.jsx("span",{className:Yh("absolute left-2.5 top-0 block h-full w-0.5 rounded-sm bg-foreground delay-300 duration-200 ease-in-out",{"!h-0 !delay-[0]":!e.sidebarOpen})}),s.jsx("span",{className:Yh("delay-400 absolute left-0 top-2.5 block h-0.5 w-full rounded-sm bg-foreground duration-200 ease-in-out",{"!h-0 !delay-200":!e.sidebarOpen})})]})]})})}),s.jsxs("ul",{className:"flex items-center gap-2 2xsm:gap-4",children:[s.jsx(ub,{}),s.jsx(_j,{})]}),s.jsx("div",{className:"flex items-center gap-3 2xsm:gap-7",children:s.jsx(rb,{user:e.user})})]})}),Fj=({children:e,activeCondition:t})=>{const[i,r]=Ct.useState(t);return s.jsx("li",{children:e(()=>{r(!i)},i)})},Bj=({sidebarOpen:e,setSidebarOpen:t})=>{const i=Rt(),{pathname:r}=i,a=Ct.useRef(null),n=Ct.useRef(null),l=localStorage.getItem("sidebar-expanded"),[c,d]=Ct.useState(null!==l&&"true"===l);return Ct.useEffect(()=>{const s=({target:s})=>{n.current&&a.current&&(!e||n.current.contains(s)||a.current.contains(s)||t(!1))};return document.addEventListener("click",s),()=>document.removeEventListener("click",s)}),Ct.useEffect(()=>{const s=({keyCode:s})=>{e&&27===s&&t(!1)};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)}),Ct.useEffect(()=>{var e,t;localStorage.setItem("sidebar-expanded",c.toString()),c?null==(e=document.querySelector("body"))||e.classList.add("sidebar-expanded"):null==(t=document.querySelector("body"))||t.classList.remove("sidebar-expanded")},[c]),s.jsxs("aside",{ref:n,className:Yh("absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden bg-muted border-r duration-300 ease-linear lg:static lg:translate-x-0",{"translate-x-0":e,"-translate-x-full":!e}),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 px-6 py-5.5 lg:py-6.5",children:[s.jsx(Mt,{to:"/",children:s.jsx("img",{src:"/assets/logo-6OE42raV.webp",alt:"Logo",width:50})}),s.jsx("button",{ref:a,onClick:()=>t(!e),"aria-controls":"sidebar","aria-expanded":e,className:"block lg:hidden",children:s.jsx(o,{})})]}),s.jsx("div",{className:"no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear",children:s.jsxs("nav",{className:"mt-5 py-4 px-4 lg:mt-9 lg:px-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4 ml-4 text-sm font-semibold text-muted-foreground",children:"MENU"}),s.jsxs("ul",{className:"mb-6 flex flex-col gap-1.5",children:[s.jsxs(Mt,{to:"/admin",end:!0,className:({isActive:e})=>Yh("group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-muted-foreground duration-300 ease-in-out hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":e}),children:[s.jsx(ce,{}),"Dashboard"]}),s.jsx("li",{children:s.jsxs(Mt,{to:"/admin/users",end:!0,className:({isActive:e})=>Yh("group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-muted-foreground duration-300 ease-in-out hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":e}),children:[s.jsx(de,{}),"Users"]})}),s.jsx("li",{children:s.jsxs(Mt,{to:"/admin/settings",end:!0,className:({isActive:e})=>Yh("group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-muted-foreground duration-300 ease-in-out hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":e}),children:[s.jsx(L,{}),"Settings"]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-4 ml-4 text-sm font-semibold text-muted-foreground",children:"Extra Components"}),s.jsxs("ul",{className:"mb-6 flex flex-col gap-1.5",children:[s.jsx("li",{children:s.jsxs(Mt,{to:"/admin/calendar",end:!0,className:({isActive:e})=>Yh("group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-muted-foreground duration-300 ease-in-out hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":e}),children:[s.jsx(ue,{}),"Calendar"]})}),s.jsx(Fj,{activeCondition:"/ui"===r||r.includes("ui"),children:(e,t)=>s.jsxs(Tt.Fragment,{children:[s.jsxs(Mt,{to:"#",className:Yh("group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-muted-foreground duration-300 ease-in-out hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":r.includes("ui")}),onClick:t=>{t.preventDefault(),c?e():d(!0)},children:[s.jsx(he,{}),"UI Elements",t?s.jsx(pe,{}):s.jsx(O,{})]}),s.jsx("div",{className:Yh("translate transform overflow-hidden",{hidden:!t}),children:s.jsx("ul",{className:"mt-4 mb-5.5 flex flex-col gap-2.5 pl-6",children:s.jsx("li",{children:s.jsx(Mt,{to:"/admin/ui/buttons",end:!0,className:({isActive:e})=>Yh("group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-muted-foreground duration-300 ease-in-out hover:text-accent",{"!text-accent":e}),children:"Buttons"})})})})]})})]})]})]})})]})},Hj=({children:e,user:t})=>{const[i,r]=Ct.useState(!1);return s.jsx("div",{className:"bg-background text-foreground",children:s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsx(Bj,{sidebarOpen:i,setSidebarOpen:r}),s.jsxs("div",{className:"relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[s.jsx(zj,{sidebarOpen:i,setSidebarOpen:r,user:t}),s.jsx("main",{children:s.jsx("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10",children:e})})]})]})})};function Wj({user:e}){const t=Et();Ct.useEffect(()=>{e.isAdmin||t("/")},[e,history])}var Xj,Yj={},Vj={exports:{}};function Uj(){return Xj||(Xj=1,function(e,t){function s(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){l(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var s,i=d(e);if(t){var r=d(this).constructor;s=Reflect.construct(i,arguments,r)}else s=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,s)}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var i,r,a=[],n=!0,o=!1;try{for(s=s.call(e);!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(l){o=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return a}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return g(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}var x=function(){function e(){a(this,e)}return o(e,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),i=e<0?0:255,r=e<0?-1*e:e,a=parseInt(s[0].slice(4),10),n=parseInt(s[1],10),o=parseInt(s[2],10);return"rgb("+(Math.round((i-a)*r)+a)+","+(Math.round((i-n)*r)+n)+","+(Math.round((i-o)*r)+o)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),i=e<0?0:255,r=e<0?-1*e:e,a=s>>16,n=s>>8&255,o=255&s;return"#"+(16777216+65536*(Math.round((i-a)*r)+a)+256*(Math.round((i-n)*r)+n)+(Math.round((i-o)*r)+o)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,s){return e.isColorHex(s)?this.shadeHexColor(t,s):this.shadeRGBColor(t,s)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===r(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),s=1;s<arguments.length;s++){var i=arguments[s];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(r){s.isObject(t[r])&&r in e?i[r]=s.extend(e[r],t[r]):Object.assign(i,l({},r,t[r]))}),i}},{key:"extendArray",value:function(t,s){var i=[];return t.map(function(t){i.push(e.extend(s,t))}),i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var s=[],i=0;i<t.length;i++)s[i]=this.clone(t[i]);return s}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===r(t)){var a={};for(var n in t)t.hasOwnProperty(n)&&(a[n]=this.clone(t[n]));return a}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var s="",i=e<0?"-":"",r=t[0].replace(".",""),a=Number(t[1])+1;if(a<0){for(s=i+"0.";a++;)s+="0";return s+r.replace(/^-/,"")}for(a-=r.length;a--;)s+="0";return r+s}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),s=e.clientHeight,i=e.clientWidth;return s-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(e,t){return Array.isArray(t)&&(t=t.reduce(function(e,t){return e.length>t.length?e:t})),e.length>t.length?e:t},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var i=0;i<s.length;i++)s[i]=parseInt(1===s[i].length?s[i]+s[i]:s[i],16);return void 0!==t&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],i=2*Math.PI/t,r=0;r<t;r++){var a={};a.x=e*Math.sin(r*i),a.y=-e*Math.cos(r*i),s.push(a)}return s}},{key:"polarToCartesian",value:function(e,t,s,i){var r=(i-90)*Math.PI/180;return{x:e+s*Math.cos(r),y:t+s*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",s=e.toString().slice();return s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var i=s-e.length+1;i--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}}]),e}(),b=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return o(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,s,i){e.attr(t).animate(i).attr(s)}},{key:"animateMarker",value:function(e,t,s,i,r,a){t||(t=0),e.attr({r:t,width:t,height:t}).animate(i,r).attr({r:s,width:s.width,height:s.height}).afterAll(function(){a()})}},{key:"animateCircle",value:function(e,t,s,i,r){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(i,r).attr({r:s.r,cx:s.cx,cy:s.cy})}},{key:"animateRect",value:function(e,t,s,i,r){e.attr(t).animate(i).attr(s).afterAll(function(){return r()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,s=e.realIndex,i=e.j,r=e.fill,a=e.pathFrom,n=e.pathTo,o=e.speed,l=e.delay,c=this.w,d=0;c.config.chart.animations.animateGradually.enabled&&(d=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(d=0),this.morphSVG(t,s,i,"line"!==c.config.chart.type||c.globals.comboCharts?r:"stroke",a,n,o,l*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,i,r,a,n,o){var l=this,c=this.w;r||(r=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var d=function(e){return"radar"===c.config.chart.type&&(n=1),"M 0 ".concat(c.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=d()),(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),c.globals.shouldAnimate||(n=1),e.plot(r).animate(1,c.globals.easing,o).plot(r).animate(n,c.globals.easing,o).plot(a).afterAll(function(){x.isNumber(s)?s===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(e):"none"!==i&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&t===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()})}}]),e}(),v=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==s.config.states.normal.filter?this.applyFilter(e,t,s.config.states.normal.filter.type,s.config.states.normal.filter.value):s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var s=this.w;s.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,s){var i=this,r=this.w,a=s.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(e){var s=r.config.chart.dropShadow;(s.enabled?i.addShadow(e,t,s):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:a}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,s){var i=this,r=this.w,a=s.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(e){var s=r.config.chart.dropShadow;(s.enabled?i.addShadow(e,t,s):e).componentTransfer({rgb:{type:"linear",slope:a}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(s){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:i});break;case"darken":this.addDarkenFilter(e,t,{intensity:i})}}},{key:"addShadow",value:function(e,t,s){var i=s.blur,r=s.top,a=s.left,n=s.color,o=s.opacity,l=e.flood(Array.isArray(n)?n[t]:n,o).composite(e.sourceAlpha,"in").offset(a,r).gaussianBlur(i).merge(e.source);return e.blend(e.source,l)}},{key:"dropShadow",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.top,r=t.left,a=t.blur,n=t.color,o=t.opacity,l=t.noUserSpaceOnUse,c=this.w;return e.unfilter(!0),x.isIE()&&"radialBar"===c.config.chart.type||(n=Array.isArray(n)?n[s]:n,e.filter(function(e){var t;t=x.isSafari()||x.isFirefox()||x.isIE()?e.flood(n,o).composite(e.sourceAlpha,"in").offset(r,i).gaussianBlur(a):e.flood(n,o).composite(e.sourceAlpha,"in").offset(r,i).gaussianBlur(a).merge(e.source),e.blend(e.source,t)}),l||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,s){var i=this.w;if(void 0!==i.globals.selectedDataPoints[t]&&i.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var r=i.config.states.active.filter;"none"!==r&&this.applyFilter(e,t,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),y=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"roundPathCorners",value:function(e,t){function s(e,t,s){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);return i(e,t,Math.min(1,s/n))}function i(e,t,s){return{x:e.x+(t.x-e.x)*s,y:e.y+(t.y-e.y)*s}}function r(e,t){e.length>2&&(e[e.length-2]=t.x,e[e.length-1]=t.y)}function a(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}e.indexOf("NaN")>-1&&(e="");var n=e.split(/[,\s]/).reduce(function(e,t){var s=t.match("([a-zA-Z])(.+)");return s?(e.push(s[1]),e.push(s[2])):e.push(t),e},[]).reduce(function(e,t){return parseFloat(t)==t&&e.length?e[e.length-1].push(t):e.push([t]),e},[]),o=[];if(n.length>1){var l=a(n[0]),c=null;"Z"==n[n.length-1][0]&&n[0].length>2&&(c=["L",l.x,l.y],n[n.length-1]=c),o.push(n[0]);for(var d=1;d<n.length;d++){var u=o[o.length-1],h=n[d],p=h==c?n[1]:n[d+1];if(p&&u&&u.length>2&&"L"==h[0]&&p.length>2&&"L"==p[0]){var m,f,g=a(u),x=a(h),b=a(p);m=s(x,g,t),f=s(x,b,t),r(h,m),h.origPoint=x,o.push(h);var v=i(m,x,.5),y=i(x,f,.5),w=["C",v.x,v.y,y.x,y.y,f.x,f.y];w.origPoint=x,o.push(w)}else o.push(h)}if(c){var j=a(o[o.length-1]);o.push(["Z"]),r(o[0],j)}}else o=n;return o.reduce(function(e,t){return e+t.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,s,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:i,stroke:r,"stroke-dasharray":a,"stroke-width":n,"stroke-linecap":o})}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:e,y:t,width:s>0?s:0,height:i>0?i:0,rx:r,ry:r,opacity:n,"stroke-width":null!==o?o:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",a),d}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return null!==t&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=void 0===t?"":t,i=e.stroke,r=void 0===i?"#a8a8a8":i,a=e.strokeWidth,n=void 0===a?1:a,o=e.fill,l=e.fillOpacity,c=void 0===l?1:l,d=e.strokeOpacity,u=void 0===d?1:d,h=e.classes,p=e.strokeLinecap,m=void 0===p?null:p,f=e.strokeDashArray,g=void 0===f?0:f,x=this.w;return null===m&&(m=x.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(x.globals.gridHeight)),x.globals.dom.Paper.path(s).attr({fill:o,"fill-opacity":c,stroke:r,"stroke-opacity":u,"stroke-linecap":m,"stroke-width":n,"stroke-dasharray":g,class:h})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w.globals.dom.Paper.group();return null!==e&&t.attr(e),t}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;return null===s?i=[" L",e,t].join(" "):"H"===s?i=[" H",e].join(" "):"V"===s&&(i=[" V",t].join(" ")),i}},{key:"curve",value:function(e,t,s,i,r,a){return["C",e,t,s,i,r,a].join(" ")}},{key:"quadraticCurve",value:function(e,t,s,i){return["Q",e,t,s,i].join(" ")}},{key:"arc",value:function(e,t,s,i,r,a,n){var o="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(o="a"),[o,e,t,s,i,r,a,n].join(" ")}},{key:"renderPaths",value:function(e){var t,s=e.j,r=e.realIndex,a=e.pathFrom,n=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,d=e.fill,u=e.animationDelay,h=e.initialSpeed,p=e.dataChangeSpeed,m=e.className,f=e.shouldClipToGrid,g=void 0===f||f,x=e.bindEventsOnPaths,y=void 0===x||x,w=e.drawShadow,j=void 0===w||w,N=this.w,k=new v(this.ctx),S=new b(this.ctx),C=this.w.config.chart.animations.enabled,A=C&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(C&&!N.globals.resized||A&&N.globals.dataChanged&&N.globals.shouldAnimate);T?t=a:(t=n,N.globals.animationEnded=!0);var E,R=N.config.stroke.dashArray;E=Array.isArray(R)?R[r]:N.config.stroke.dashArray;var P=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:d,fillOpacity:1,classes:m,strokeLinecap:c,strokeDashArray:E});if(P.attr("index",r),g&&P.attr({"clip-path":"url(#gridRectMask".concat(N.globals.cuid,")")}),"none"!==N.config.states.normal.filter.type)k.getDefaultFilter(P,r);else if(N.config.chart.dropShadow.enabled&&j&&(!N.config.chart.dropShadow.enabledOnSeries||N.config.chart.dropShadow.enabledOnSeries&&-1!==N.config.chart.dropShadow.enabledOnSeries.indexOf(r))){var I=N.config.chart.dropShadow;k.dropShadow(P,I,r)}y&&(P.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,P)),P.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,P)),P.node.addEventListener("mousedown",this.pathMouseDown.bind(this,P))),P.attr({pathTo:n,pathFrom:a});var L={el:P,j:s,realIndex:r,pathFrom:a,pathTo:n,fill:d,strokeWidth:l,delay:u};return!C||N.globals.resized||N.globals.dataChanged?!N.globals.resized&&N.globals.dataChanged||S.showDelayedElements():S.animatePathsGradually(i(i({},L),{},{speed:h})),N.globals.dataChanged&&A&&T&&S.animatePathsGradually(i(i({},L),{},{speed:p})),P}},{key:"drawPattern",value:function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,function(a){"horizontalLines"===e?a.line(0,0,s,0).stroke({color:i,width:r+1}):"verticalLines"===e?a.line(0,0,0,t).stroke({color:i,width:r+1}):"slantedLines"===e?a.line(0,0,t,s).stroke({color:i,width:r}):"squares"===e?a.rect(t,s).fill("none").stroke({color:i,width:r}):"circles"===e&&a.circle(t).fill("none").stroke({color:i,width:r})})}},{key:"drawGradient",value:function(e,t,s,i,r){var a,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;t.length<9&&0===t.indexOf("#")&&(t=x.hexToRgba(t,i)),s.length<9&&0===s.indexOf("#")&&(s=x.hexToRgba(s,r));var u=0,h=1,p=1,m=null;null!==o&&(u=void 0!==o[0]?o[0]/100:0,h=void 0!==o[1]?o[1]/100:1,p=void 0!==o[2]?o[2]/100:1,m=void 0!==o[3]?o[3]/100:null);var f=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(a=null===l||0===l.length?d.globals.dom.Paper.gradient(f?"radial":"linear",function(e){e.at(u,t,i),e.at(h,s,r),e.at(p,s,r),null!==m&&e.at(m,t,i)}):d.globals.dom.Paper.gradient(f?"radial":"linear",function(e){(Array.isArray(l[c])?l[c]:l).forEach(function(t){e.at(t.offset/100,t.color,t.opacity)})}),f){var g=d.globals.gridWidth/2,b=d.globals.gridHeight/2;"bubble"!==d.config.chart.type?a.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:b,r:n}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?a.from(0,0).to(0,1):"diagonal"===e?a.from(0,0).to(1,1):"horizontal"===e?a.from(0,1).to(1,1):"diagonal2"===e&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,i=e.fontSize,r=e.fontFamily,a=this.getTextRects(t,i,r),n=a.width/t.length,o=Math.floor(s/n);return s<a.width?t.slice(0,o-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,r=e.y,a=e.text,n=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,d=e.foreColor,u=e.opacity,h=e.maxWidth,p=e.cssClass,m=void 0===p?"":p,f=e.isPlainText,g=void 0===f||f,x=this.w;void 0===a&&(a="");var b=a;n||(n="start"),d&&d.length||(d=x.config.chart.foreColor),l=l||x.config.chart.fontFamily,c=c||"regular";var v,y={maxWidth:h,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(a)?v=x.globals.dom.Paper.text(function(e){for(var s=0;s<a.length;s++)b=a[s],h&&(b=t.getTextBasedOnMaxWidth(i({text:a[s]},y))),0===s?e.tspan(b):e.tspan(b).newLine()}):(h&&(b=this.getTextBasedOnMaxWidth(i({text:a},y))),v=g?x.globals.dom.Paper.plain(a):x.globals.dom.Paper.text(function(e){return e.tspan(b)})),v.attr({x:s,y:r,"text-anchor":n,"dominant-baseline":"auto","font-size":o,"font-family":l,"font-weight":c,fill:d,class:"apexcharts-text "+m}),v.node.style.fontFamily=l,v.node.style.opacity=u,v}},{key:"drawMarker",value:function(e,t,s){e=e||0;var i=s.pSize||0,r=null;if("square"===s.shape||"rect"===s.shape){var a=void 0===s.pRadius?i/2:s.pRadius;null!==t&&i||(i=0,a=0);var n=1.2*i+a,o=this.drawRect(n,n,n,n,a);o.attr({x:e-n/2,y:t-n/2,cx:e,cy:t,class:s.class?s.class:"",fill:s.pointFillColor,"fill-opacity":s.pointFillOpacity?s.pointFillOpacity:1,stroke:s.pointStrokeColor,"stroke-width":s.pointStrokeWidth?s.pointStrokeWidth:0,"stroke-opacity":s.pointStrokeOpacity?s.pointStrokeOpacity:1}),r=o}else"circle"!==s.shape&&s.shape||(x.isNumber(t)||(i=0,t=0),r=this.drawCircle(i,{cx:e,cy:t,class:s.class?s.class:"",stroke:s.pointStrokeColor,fill:s.pointFillColor,"fill-opacity":s.pointFillOpacity?s.pointFillOpacity:1,"stroke-width":s.pointStrokeWidth?s.pointStrokeWidth:0,"stroke-opacity":s.pointStrokeOpacity?s.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,i=new v(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if("function"==typeof s.config.chart.events.dataPointMouseEnter&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}]),("none"===s.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==s.config.states.hover.filter.type&&!s.globals.isTouchDevice){var n=s.config.states.hover.filter;i.applyFilter(e,r,n.type,n.value)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,i=new v(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);"function"==typeof s.config.chart.events.dataPointMouseLeave&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}]),"none"!==s.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==s.config.states.hover.filter.type&&i.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,i=new v(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),n="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[r].indexOf(a)>-1){var o=s.globals.selectedDataPoints[r].indexOf(a);s.globals.selectedDataPoints[r].splice(o,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var l=s.globals.dom.Paper.select(".apexcharts-series path").members,c=s.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,d=function(e){Array.prototype.forEach.call(e,function(e){e.node.setAttribute("selected","false"),i.getDefaultFilter(e,r)})};d(l),d(c)}e.node.setAttribute("selected","true"),n="true",void 0===s.globals.selectedDataPoints[r]&&(s.globals.selectedDataPoints[r]=[]),s.globals.selectedDataPoints[r].push(a)}if("true"===n){var u=s.config.states.active.filter;if("none"!==u)i.applyFilter(e,r,u.type,u.value);else if("none"!==s.config.states.hover.filter&&!s.globals.isTouchDevice){var h=s.config.states.hover.filter;i.applyFilter(e,r,h.type,h.value)}}else"none"!==s.config.states.active.filter.type&&("none"===s.config.states.hover.filter.type||s.globals.isTouchDevice?i.getDefaultFilter(e,r):(h=s.config.states.hover.filter,i.applyFilter(e,r,h.type,h.value)));"function"==typeof s.config.chart.events.dataPointSelection&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.w,n=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});i&&n.attr("transform",i),a.globals.dom.Paper.add(n);var o=n.bbox();return r||(o=n.node.getBoundingClientRect()),n.remove(),{width:o.width,height:o.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=s/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),e}(),w=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.w,s=[];if(0===t.globals.series.length)return s;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var r=0,a=0;a<t.globals.series.length;a++)void 0!==t.globals.series[a][i]&&-1===e.indexOf(a)&&(r+=t.globals.series[a][i]);s.push(r)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce(function(e,t){return e+t},0):this.w.globals.series[e].reduce(function(e,t){return e+t},0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(e){return null!==e}):this.w.config.series[e].data.filter(function(e){return null!==e})).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(e,t,s){return e===s[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map(function(e,s){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(e){t=Math.max(t,e)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(e){t=Math.max(t,e.size)}),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(e,t){var s=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)s+=e[i];else s+=e;return s})}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map(function(i,r){for(var a=0,n=0;n<i.length;n++)s.globals.seriesX[r][n]>e&&s.globals.seriesX[r][n]<t&&(a+=i[n]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,s){var i=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var a=e.globals.stackedSeriesTotals[r],n=0;a&&(n=100*t[r]/a),i.push(n)}else{var o=100*t/e.globals.seriesTotals.reduce(function(e,t){return e+t},0);i.push(o)}return i})}},{key:"getCalculatedRatios",value:function(){var e,t,s,i,r=this.w.globals,a=[],n=0,o=[],l=.1,c=0;if(r.yRange=[],r.isMultipleYAxis)for(var d=0;d<r.minYArr.length;d++)r.yRange.push(Math.abs(r.minYArr[d]-r.maxYArr[d])),o.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var u=0;u<r.yRange.length;u++)a.push(r.yRange[u]/r.gridHeight);if(t=r.xRange/r.gridWidth,s=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,e=r.yRange/r.gridWidth,i=r.xRange/r.gridHeight,(n=r.zRange/r.gridHeight*16)||(n=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){o=[];for(var h=0;h<a.length;h++)o.push(-r.minYArr[h]/a[h])}else o.push(-r.minY/a[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(l=-r.minY/e,c=r.minX/t);return{yRatio:a,invertedYRatio:e,zRatio:n,xRatio:t,initialXRatio:s,invertedXRatio:i,baseLineInvertedY:l,baseLineY:o,baseLineX:c}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map(function(e,i){return s.config.yaxis[i]&&s.config.yaxis[i].logarithmic?e.map(function(e){return null===e?null:t.getLogVal(s.config.yaxis[i].logBase,e,i)}):e}),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(0===t)return 0;var i=this.w,r=0===i.globals.minYArr[s]?-1:this.getBaseLog(e,i.globals.minYArr[s]),a=(0===i.globals.maxYArr[s]?0:this.getBaseLog(e,i.globals.maxYArr[s]))-r;return t<1?t/a:(this.getBaseLog(e,t)-r)/a}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(e,r){if(s.config.yaxis[r]&&t.w.config.yaxis[r].logarithmic){var a,n=-Number.MAX_VALUE,o=Number.MIN_VALUE;return i.seriesLog.forEach(function(e,t){e.forEach(function(e){s.config.yaxis[t]&&s.config.yaxis[t].logarithmic&&(n=Math.max(e,n),o=Math.min(e,o))})}),a=Math.pow(i.yRange[r],Math.abs(o-n)/i.yRange[r]),i.yLogRatio[r]=a/i.gridHeight,a}}),i.invalidLogScale?e.slice():i.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,s=0,i=0;return e.length&&void 0!==e[0].type&&e.forEach(function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||s++,void 0!==e.type&&i++}),i>0&&(t=!0),{comboBarCount:s,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,s){return t.yaxis&&(t=e.extendYAxis(t,s)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),j=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t}return o(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.w;if("vertical"===e.label.orientation){var i=null!==t?t:0,r=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(null!==r){var a=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-a.height+4),"top"===e.label.position?r.setAttribute("y",parseFloat(r.getAttribute("y"))+a.width):r.setAttribute("y",parseFloat(r.getAttribute("y"))-a.width);var n=this.annoCtx.graphics.rotateAroundCenter(r),o=n.x,l=n.y;r.setAttribute("transform","rotate(-90 ".concat(o," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var i=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),a=t.label.style.padding.left,n=t.label.style.padding.right,o=t.label.style.padding.top,l=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(o=t.label.style.padding.left,l=t.label.style.padding.right,a=t.label.style.padding.top,n=t.label.style.padding.bottom);var c=r.left-i.left-a,d=r.top-i.top-o,u=this.annoCtx.graphics.drawRect(c-s.globals.barPadForNumericAxis,d,r.width+a+n,r.height+o+l,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&u.node.classList.add(t.id),u}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(s,i,r){var a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(i,"']"));if(a){var n=a.parentNode,o=e.addBackgroundToAnno(a,s);o&&(n.insertBefore(o.node,a),s.label.mouseEnter&&o.node.addEventListener("mouseenter",s.label.mouseEnter.bind(e,s)),s.label.mouseLeave&&o.node.addEventListener("mouseleave",s.label.mouseLeave.bind(e,s)),s.label.click&&o.node.addEventListener("click",s.label.click.bind(e,s)))}};t.config.annotations.xaxis.map(function(e,t){s(e,t,"xaxis")}),t.config.annotations.yaxis.map(function(e,t){s(e,t,"yaxis")}),t.config.annotations.points.map(function(e,t){s(e,t,"point")})}},{key:"getY1Y2",value:function(e,t){var s,i="y1"===e?t.y:t.y2,r=this.w;if(this.annoCtx.invertAxis){var a=r.globals.labels.indexOf(i);r.config.xaxis.convertedCatToNumeric&&(a=r.globals.categoryLabels.indexOf(i));var n=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(a+1)+")");n&&(s=parseFloat(n.getAttribute("y")))}else{var o;o=r.config.yaxis[t.yAxisIndex].logarithmic?(i=new w(this.annoCtx.ctx).getLogVal(i,t.yAxisIndex))/r.globals.yLogRatio[t.yAxisIndex]:(i-r.globals.minYArr[t.yAxisIndex])/(r.globals.yRange[t.yAxisIndex]/r.globals.gridHeight),s=r.globals.gridHeight-o,!t.marker||void 0!==t.y&&null!==t.y||(s=0),r.config.yaxis[t.yAxisIndex]&&r.config.yaxis[t.yAxisIndex].reversed&&(s=o)}return"string"==typeof i&&i.indexOf("px")>-1&&(s=parseFloat(i)),s}},{key:"getX1X2",value:function(e,t){var s=this.w,i=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,r=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,a=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,n=(t.x-i)/(a/s.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(n=(r-t.x)/(a/s.globals.gridWidth)),"category"!==s.config.xaxis.type&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||(n=this.getStringX(t.x));var o=(t.x2-i)/(a/s.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(o=(r-t.x2)/(a/s.globals.gridWidth)),"category"!==s.config.xaxis.type&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||(o=this.getStringX(t.x2)),void 0!==t.x&&null!==t.x||!t.marker||(n=s.globals.gridWidth),"x1"===e&&"string"==typeof t.x&&t.x.indexOf("px")>-1&&(n=parseFloat(t.x)),"x2"===e&&"string"==typeof t.x2&&t.x2.indexOf("px")>-1&&(o=parseFloat(t.x2)),"x1"===e?n:o}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(i+1)+")");return r&&(s=parseFloat(r.getAttribute("x"))),s}}]),e}(),N=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new j(this.annoCtx)}return o(e,[{key:"addXaxisAnnotation",value:function(e,t,s){var i,r=this.w,a=this.helpers.getX1X2("x1",e),n=e.label.text,o=e.strokeDashArray;if(x.isNumber(a)){if(null===e.x2||void 0===e.x2){var l=this.annoCtx.graphics.drawLine(a+e.offsetX,0+e.offsetY,a+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((i=this.helpers.getX1X2("x2",e))<a){var c=a;a=i,i=c}var d=this.annoCtx.graphics.drawRect(a+e.offsetX,0+e.offsetY,i-a,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,o);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}var u=this.annoCtx.graphics.getTextRects(n,parseFloat(e.label.style.fontSize)),h="top"===e.label.position?4:"center"===e.label.position?r.globals.gridHeight/2+("vertical"===e.label.orientation?u.width/2:0):r.globals.gridHeight,p=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:h+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?u.width/2-12:-u.width/2:0),text:n,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});p.attr({rel:s}),t.appendChild(p.node),this.annoCtx.helpers.setOrientations(e,s)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(t,i){e.addXaxisAnnotation(t,s.node,i)}),s}}]),e}(),k=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new j(this.annoCtx)}return o(e,[{key:"addYaxisAnnotation",value:function(e,t,s){var i,r=this.w,a=e.strokeDashArray,n=this.helpers.getY1Y2("y1",e),o=e.label.text;if(null===e.y2||void 0===e.y2){var l=this.annoCtx.graphics.drawLine(0+e.offsetX,n+e.offsetY,this._getYAxisAnnotationWidth(e),n+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((i=this.helpers.getY1Y2("y2",e))>n){var c=n;n=i,i=c}var d=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),n-i,0,e.fillColor,e.opacity,1,e.borderColor,a);d.node.classList.add("apexcharts-annotation-rect"),d.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}var u="right"===e.label.position?r.globals.gridWidth:"center"===e.label.position?r.globals.gridWidth/2:0,h=this.annoCtx.graphics.drawText({x:u+e.label.offsetX,y:(null!=i?i:n)+e.label.offsetY-3,text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});h.attr({rel:s}),t.appendChild(h.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(t,i){e.addYaxisAnnotation(t,s.node,i)}),s}}]),e}(),S=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new j(this.annoCtx)}return o(e,[{key:"addPointAnnotation",value:function(e,t,s){this.w;var i=this.helpers.getX1X2("x1",e),r=this.helpers.getY1Y2("y1",e);if(x.isNumber(i)){var a={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},n=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,r+e.marker.offsetY,a);t.appendChild(n.node);var o=e.label.text?e.label.text:"",l=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:r+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(l.attr({rel:s}),t.appendChild(l.node),e.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});c.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(r+e.customSVG.offsetY,")")}),c.node.innerHTML=e.customSVG.SVG,t.appendChild(c.node)}if(e.image.path){var d=e.image.width?e.image.width:20,u=e.image.height?e.image.height:20;n=this.annoCtx.addImage({x:i+e.image.offsetX-d/2,y:r+e.image.offsetY-u/2,width:d,height:u,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&n.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&n.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&n.node.addEventListener("click",e.click.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(t,i){e.addPointAnnotation(t,s.node,i)}),s}}]),e}(),C={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},A=function(){function e(){a(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return o(e,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[C],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),T=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.graphics=new y(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new j(this),this.xAxisAnnotations=new N(this),this.yAxisAnnotations=new k(this),this.pointsAnnotations=new S(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return o(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,a=[t,s,i],n=[s.node,t.node,i.node],o=0;o<3;o++)e.globals.dom.elGraphical.add(a[o]),!r||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&n[o].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:n[o],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,s){e.addImage(t,s)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,s){e.addText(t,s)})}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var s=e.x,i=e.y,r=e.text,a=e.textAnchor,n=e.foreColor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,d=e.cssClass,u=e.backgroundColor,h=e.borderWidth,p=e.strokeDashArray,m=e.borderRadius,f=e.borderColor,g=e.appendTo,x=void 0===g?".apexcharts-annotations":g,b=e.paddingLeft,v=void 0===b?4:b,y=e.paddingRight,w=void 0===y?4:y,j=e.paddingBottom,N=void 0===j?2:j,k=e.paddingTop,S=void 0===k?2:k,C=this.w,A=this.graphics.drawText({x:s,y:i,text:r,textAnchor:a||"start",fontSize:o||"12px",fontWeight:c||"regular",fontFamily:l||C.config.chart.fontFamily,foreColor:n||C.config.chart.foreColor,cssClass:d}),T=C.globals.dom.baseEl.querySelector(x);T&&T.appendChild(A.node);var E=A.bbox();if(r){var R=this.graphics.drawRect(E.x-v,E.y-S,E.width+v+w,E.height+N+S,m,u||"transparent",1,h,f,p);T.insertBefore(R.node,A.node)}}},{key:"addImage",value:function(e,t){var s=this.w,i=e.path,r=e.x,a=void 0===r?0:r,n=e.y,o=void 0===n?0:n,l=e.width,c=void 0===l?20:l,d=e.height,u=void 0===d?20:d,h=e.appendTo,p=void 0===h?".apexcharts-annotations":h,m=s.globals.dom.Paper.image(i);m.size(c,u).move(a,o);var f=s.globals.dom.baseEl.querySelector(p);return f&&f.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return void 0===this.invertAxis&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,i=e.context,r=e.type,a=e.contextMethod,n=i,o=n.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,d=new A,u=Object.assign({},"xaxis"===r?d.xAxisAnnotation:"yaxis"===r?d.yAxisAnnotation:d.pointAnnotation),h=x.extend(u,t);switch(r){case"xaxis":this.addXaxisAnnotation(h,l,c);break;case"yaxis":this.addYaxisAnnotation(h,l,c);break;case"point":this.addPointAnnotation(h,l,c)}var p=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),m=this.helpers.addBackgroundToAnno(p,h);return m&&l.insertBefore(m.node,p),s&&o.globals.memory.methodsToExec.push({context:n,id:h.id?h.id:x.randomId(),method:a,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map(function(e,s){"addText"!==e.label&&"addAnnotation"!==e.label||t.globals.memory.methodsToExec.splice(s,1)}),s=x.listToArray(s),Array.prototype.forEach.call(s,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var s=e.w,i=s.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(s.globals.memory.methodsToExec.map(function(e,i){e.id===t&&s.globals.memory.methodsToExec.splice(i,1)}),Array.prototype.forEach.call(i,function(e){e.parentElement.removeChild(e)}))}}]),e}(),E=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return o(e,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(m(s.months)),a=[""].concat(m(s.shortMonths)),n=[""].concat(m(s.days)),o=[""].concat(m(s.shortDays));function l(e,t){var s=e+"";for(t=t||2;s.length<t;)s="0"+s;return s}var c=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var d=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var u=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+n[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+l(u))).replace(/(^|[^\\])d/g,"$1"+u);var h=i?e.getUTCHours():e.getHours(),p=h>12?h-12:0===h?12:h;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(h))).replace(/(^|[^\\])H/g,"$1"+h)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var f=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(f))).replace(/(^|[^\\])m/g,"$1"+f);var g=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var x=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(x,3)),x=Math.round(x/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(x)),x=Math.round(x/10);var b=h<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+x)).replace(/(^|[^\\])TT+/g,"$1"+b)).replace(/(^|[^\\])T/g,"$1"+b.charAt(0));var v=b.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+v)).replace(/(^|[^\\])t/g,"$1"+v.charAt(0));var y=-e.getTimezoneOffset(),w=i||!y?"Z":y>0?"+":"-";if(!i){var j=(y=Math.abs(y))%60;w+=l(Math.floor(y/60))+":"+l(j)}t=t.replace(/(^|[^\\])K/g,"$1"+w);var N=(i?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(n[0],"g"),n[N])).replace(new RegExp(o[0],"g"),o[N])).replace(new RegExp(r[0],"g"),r[d])).replace(new RegExp(a[0],"g"),a[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var i=this.w;void 0!==i.config.xaxis.min&&(e=i.config.xaxis.min),void 0!==i.config.xaxis.max&&(t=i.config.xaxis.max);var r=this.getDate(e),a=this.getDate(t),n=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(n[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(n[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(n[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(n[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(n[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(n[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(n[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var i=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=x.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),e}(),R=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return o(e,[{key:"xLabelFormat",value:function(e,t,s,i){var r=this.w;if("datetime"===r.config.xaxis.type&&void 0===r.config.xaxis.labels.formatter&&void 0===r.config.tooltip.x.formatter){var a=new E(this.ctx);return a.formatDate(a.getDate(t),r.config.tooltip.x.format)}return e(t,s,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(e){return e}):e}},{key:"defaultYFormatter",value:function(e,t,s){var i=this.w;return x.isNumber(e)&&(e=0!==i.globals.yValueDecimal?e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:i.globals.yValueDecimal):i.globals.maxYArr[s]-i.globals.minYArr[s]<5?e.toFixed(1):e.toFixed(0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(x.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(x.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var s=t.globals.maxX-t.globals.minX;return s>0&&s<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(s,i){void 0!==s.labels.formatter?t.globals.yLabelFormatters[i]=s.labels.formatter:t.globals.yLabelFormatters[i]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map(function(t){return e.defaultYFormatter(t,s,i)}):e.defaultYFormatter(r,s,i):r}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(e,t){return e.length>t.length?e:t},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),P=function(e){var t,s=e.isTimeline,i=e.ctx,r=e.seriesIndex,a=e.dataPointIndex,n=e.y1,o=e.y2,l=e.w,c=l.globals.seriesRangeStart[r][a],d=l.globals.seriesRangeEnd[r][a],u=l.globals.labels[a],h=l.config.series[r].name?l.config.series[r].name:"",p=l.globals.ttKeyFormatter,m=l.config.tooltip.y.title.formatter,f={w:l,seriesIndex:r,dataPointIndex:a,start:c,end:d};"function"==typeof m&&(h=m(h,f)),null!==(t=l.config.series[r].data[a])&&void 0!==t&&t.x&&(u=l.config.series[r].data[a].x),s||"datetime"===l.config.xaxis.type&&(u=new R(i).xLabelFormat(l.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new E(i).formatDate,w:l})),"function"==typeof p&&(u=p(u,f)),Number.isFinite(n)&&Number.isFinite(o)&&(c=n,d=o);var g="",x="",b=l.globals.colors[r];if(void 0===l.config.tooltip.x.formatter)if("datetime"===l.config.xaxis.type){var v=new E(i);g=v.formatDate(v.getDate(c),l.config.tooltip.x.format),x=v.formatDate(v.getDate(d),l.config.tooltip.x.format)}else g=c,x=d;else g=l.config.tooltip.x.formatter(c),x=l.config.tooltip.x.formatter(d);return{start:c,end:d,startVal:g,endVal:x,ylabel:u,color:b,seriesName:h}},I=function(e){var t=e.color,s=e.seriesName,i=e.ylabel,r=e.start,a=e.end,n=e.seriesIndex,o=e.dataPointIndex,l=e.ctx.tooltip.tooltipLabels.getFormatters(n);r=l.yLbFormatter(r),a=l.yLbFormatter(a);var c=l.yLbFormatter(e.w.globals.series[n][o]),d='<span class="value start-value">\n  '.concat(r,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(a,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(s||"")+'</span></div><div> <span class="category">'+i+": </span> "+(e.w.globals.comboCharts?"rangeArea"===e.w.config.series[n].type||"rangeBar"===e.w.config.series[n].type?d:"<span>".concat(c,"</span>"):d)+" </div></div>"},L=function(){function e(t){a(this,e),this.opts=t}return o(e,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),x.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),i(i({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,s,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,s,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var s=t.seriesIndex,i=t.dataPointIndex,r=t.w,a=function(){var e=r.globals.seriesRangeStart[s][i];return r.globals.seriesRangeEnd[s][i]-e};return r.globals.comboCharts?"rangeBar"===r.config.series[s].type||"rangeArea"===r.config.series[s].type?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(s=P(i(i({},t=e),{},{isTimeline:!0})),r=s.color,a=s.seriesName,n=s.ylabel,o=s.startVal,l=s.endVal,I(i(i({},t),{},{color:r,seriesName:a,ylabel:n,start:o,end:l}))):function(e){var t=P(e),s=t.color,r=t.seriesName,a=t.ylabel,n=t.start,o=t.end;return I(i(i({},e),{},{color:s,seriesName:r,ylabel:a,start:n,end:o}))}(e);var t,s,r,a,n,o,l}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return null!==(t=e.plotOptions.bar)&&void 0!==t&&t.barHeight||(e.plotOptions.bar.barHeight=2),null!==(s=e.plotOptions.bar)&&void 0!==s&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return s=P(t=e),r=s.color,a=s.seriesName,n=s.ylabel,o=s.start,l=s.end,I(i(i({},t),{},{color:r,seriesName:a,ylabel:n,start:o,end:l}));var t,s,r,a,n,o,l}}}}},{key:"brush",value:function(e){return x.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100}),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"stackedBars",value:function(){var e=this.bar();return i(i({},e),{},{plotOptions:i(i({},e.plotOptions),{},{bar:i(i({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return x.isNumber(e)?Math.floor(e):e};var i=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(r=s.map(function(e){return Array.isArray(e)?e:String(e)})),r&&r.length&&(e.xaxis.labels.formatter=function(e){return x.isNumber(e)?i(r[Math.floor(e)-1]):i(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,s,i,r){var a=e.globals.seriesCandleO[t][s],n=e.globals.seriesCandleH[t][s],o=e.globals.seriesCandleM[t][s],l=e.globals.seriesCandleL[t][s],c=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==r?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+n+"</span></div>"+(o?"<div>".concat(i[2],': <span class="value">')+o+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+c+"</span></div></div>"}}]),e}(),M=function(){function e(t){a(this,e),this.opts=t}return o(e,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,i=new A,a=new L(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var n=i.init(),o={};if(s&&"object"===r(s)){var l,c,d,u,h,p,m,f,g={};g=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)?a[s.chart.type]():a.line(),null!==(l=s.plotOptions)&&void 0!==l&&null!==(c=l.bar)&&void 0!==c&&c.isFunnel&&(g=a.funnel()),s.chart.stacked&&"bar"===s.chart.type&&(g=a.stackedBars()),null!==(d=s.chart.brush)&&void 0!==d&&d.enabled&&(g=a.brush(g)),s.chart.stacked&&"100%"===s.chart.stackType&&(s=a.stacked100(s)),null!==(u=s.plotOptions)&&void 0!==u&&null!==(h=u.bar)&&void 0!==h&&h.isDumbbell&&(s=a.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),(null!==(p=(s=this.checkForCatToNumericXAxis(this.chartType,g,s)).chart.sparkline)&&void 0!==p&&p.enabled||null!==(m=window.Apex.chart)&&void 0!==m&&null!==(f=m.sparkline)&&void 0!==f&&f.enabled)&&(g=a.sparkline(g)),o=x.extend(n,g)}var b=x.extend(o,window.Apex);return n=x.extend(b,s),this.handleUserInputErrors(n)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var i,r,a=new L(s),n=("bar"===e||"boxPlot"===e)&&(null===(i=s.plotOptions)||void 0===i||null===(r=i.bar)||void 0===r?void 0:r.horizontal),o="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,l="datetime"!==s.xaxis.type&&"numeric"!==s.xaxis.type,c=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return n||o||!l||"between"===c||(s=a.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new A;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=x.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[x.extend(s.yAxis,e.yaxis)]:e.yaxis=x.extendArray(e.yaxis,s.yAxis);var i=!1;e.yaxis.forEach(function(e){e.logarithmic&&(i=!0)});var r=e.series;return t&&!r&&(r=t.config.series),i&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map(function(t,i){if(t.name||(r[i].name="series-".concat(i+1)),e.yaxis[i])return e.yaxis[i].seriesName=r[i].name,e.yaxis[i];var a=x.extend(s.yAxis,e.yaxis[0]);return a.show=!1,a})),i&&r.length>1&&(r.length,e.yaxis.length),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new A;return e.annotations.yaxis=x.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new A;return e.annotations.xaxis=x.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new A;return e.annotations.points=x.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(t.yaxis[0].reversed=!1),t}}]),e}(),O=function(){function e(){a(this,e)}return o(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=x.extend({},e),t.initialSeries=x.clone(e.series),t.lastXAxis=x.clone(t.initialConfig.xaxis),t.lastYAxis=x.clone(t.initialConfig.yaxis),t}}]),e}(),D=function(){function e(t){a(this,e),this.opts=t}return o(e,[{key:"init",value:function(){var e=new M(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new O).init(e)}}}]),e}(),_=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return o(e,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,i=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),a=i>r?i:r,n=e.image,o=0,l=0;void 0===e.width&&void 0===e.height?void 0!==s.fill.image.width&&void 0!==s.fill.image.height?(o=s.fill.image.width+1,l=s.fill.image.height):(o=a+1,l=a):(o=e.width,l=e.height);var c=document.createElementNS(t.globals.SVGNS,"pattern");y.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:o+"px",height:l+"px"});var d=document.createElementNS(t.globals.SVGNS,"image");c.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",n),y.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:l+"px"}),d.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(e){var t=this.w,s=t.config.chart.type;return("bar"===s||"rangeBar"===s)&&t.config.plotOptions.bar.distributed||"heatmap"===s||"treemap"===s?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var s,i,r,a=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var n=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(n=t.globals.seriesColors[this.seriesIndex]),"function"==typeof n&&(n=n({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var o=e.fillType?e.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(a.fill.opacity)?a.fill.opacity[this.seriesIndex]:a.fill.opacity;e.color&&(n=e.color);var c=n;if(-1===n.indexOf("rgb")?n.length<9&&(c=x.hexToRgba(n,l)):n.indexOf("rgba")>-1&&(l=x.getOpacityFromRGBA(n)),e.opacity&&(l=e.opacity),"pattern"===o&&(i=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:i,fillColor:n,fillOpacity:l,defaultColor:c})),"gradient"===o&&(r=this.handleGradientFill({fillConfig:e.fillConfig,fillColor:n,fillOpacity:l,i:this.seriesIndex})),"image"===o){var d=a.fill.image.src,u=e.patternID?e.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(d)?e.seriesNumber<d.length?d[e.seriesNumber]:d[0]:d,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(u)}),s="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(u,")")}else s="gradient"===o?r:"pattern"===o?i:c;return e.solid&&(s=c),s}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,i=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),void 0!==s.fillColors&&(i=[],Array.isArray(s.fillColors)?i=s.fillColors.slice():i.push(s.fillColors)),i}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,s=(e.patternFill,e.fillColor),i=e.fillOpacity,r=e.defaultColor,a=this.w.config.fill;t&&(a=t);var n=this.opts,o=new y(this.ctx),l=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,c=s;return Array.isArray(a.pattern.style)?void 0!==a.pattern.style[n.seriesNumber]?o.drawPattern(a.pattern.style[n.seriesNumber],a.pattern.width,a.pattern.height,c,l,i):r:o.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,c,l,i)}},{key:"handleGradientFill",value:function(e){var t=e.fillColor,s=e.fillOpacity,r=e.fillConfig,a=e.i,n=this.w.config.fill;r&&(n=i(i({},n),r));var o,l=this.opts,c=new y(this.ctx),d=new x,u=n.gradient.type,h=t,p=void 0===n.gradient.opacityFrom?s:Array.isArray(n.gradient.opacityFrom)?n.gradient.opacityFrom[a]:n.gradient.opacityFrom;h.indexOf("rgba")>-1&&(p=x.getOpacityFromRGBA(h));var m=void 0===n.gradient.opacityTo?s:Array.isArray(n.gradient.opacityTo)?n.gradient.opacityTo[a]:n.gradient.opacityTo;if(void 0===n.gradient.gradientToColors||0===n.gradient.gradientToColors.length)o="dark"===n.gradient.shade?d.shadeColor(-1*parseFloat(n.gradient.shadeIntensity),t.indexOf("rgb")>-1?x.rgb2hex(t):t):d.shadeColor(parseFloat(n.gradient.shadeIntensity),t.indexOf("rgb")>-1?x.rgb2hex(t):t);else if(n.gradient.gradientToColors[l.seriesNumber]){var f=n.gradient.gradientToColors[l.seriesNumber];o=f,f.indexOf("rgba")>-1&&(m=x.getOpacityFromRGBA(f))}else o=t;if(n.gradient.gradientFrom&&(h=n.gradient.gradientFrom),n.gradient.gradientTo&&(o=n.gradient.gradientTo),n.gradient.inverseColors){var g=h;h=o,o=g}return h.indexOf("rgb")>-1&&(h=x.rgb2hex(h)),o.indexOf("rgb")>-1&&(o=x.rgb2hex(o)),c.drawGradient(u,h,o,p,m,l.size,n.gradient.stops,n.gradient.colorStops,a)}}]),e}(),z=function(){function e(t,s){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(t){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,t,s,i){var r,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=this.w,o=t,l=e,c=null,d=new y(this.ctx),u=n.config.markers.discrete&&n.config.markers.discrete.length;if((n.globals.markers.size[t]>0||a||u)&&(c=d.group({class:a||u?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var p=s;1===s&&0===h&&(p=0),1===s&&1===h&&(p=1);var m="apexcharts-marker";if("line"!==n.config.chart.type&&"area"!==n.config.chart.type||n.globals.comboCharts||n.config.tooltip.intersect||(m+=" no-pointer-events"),(Array.isArray(n.config.markers.size)?n.globals.markers.size[t]>0:n.config.markers.size>0)||a||u){x.isNumber(l.y[h])?m+=" w".concat(x.randomId()):m="apexcharts-nullpoint";var f=this.getMarkerConfig({cssClass:m,seriesIndex:t,dataPointIndex:p});n.config.series[o].data[p]&&(n.config.series[o].data[p].fillColor&&(f.pointFillColor=n.config.series[o].data[p].fillColor),n.config.series[o].data[p].strokeColor&&(f.pointStrokeColor=n.config.series[o].data[p].strokeColor)),i&&(f.pSize=i),(l.x[h]<0||l.x[h]>n.globals.gridWidth||l.y[h]<0||l.y[h]>n.globals.gridHeight)&&(f.pSize=0),(r=d.drawMarker(l.x[h],l.y[h],f)).attr("rel",p),r.attr("j",p),r.attr("index",t),r.node.setAttribute("default-marker-size",f.pSize),new v(this.ctx).setSelectionFilter(r,t,p),this.addEvents(r),c&&c.add(r)}else void 0===n.globals.pointsArray[t]&&(n.globals.pointsArray[t]=[]),n.globals.pointsArray[t].push([l.x[h],l.y[h]])}return c}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,i=e.dataPointIndex,r=void 0===i?null:i,a=e.finishRadius,n=void 0===a?null:a,o=this.w,l=this.getMarkerStyle(s),c=o.globals.markers.size[s],d=o.config.markers;return null!==r&&d.discrete.length&&d.discrete.map(function(e){e.seriesIndex===s&&e.dataPointIndex===r&&(l.pointStrokeColor=e.strokeColor,l.pointFillColor=e.fillColor,c=e.size,l.pointShape=e.shape)}),{pSize:null===n?c:n,pRadius:d.radius,width:Array.isArray(d.width)?d.width[s]:d.width,height:Array.isArray(d.height)?d.height[s]:d.height,pointStrokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[s]:d.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(d.shape)?d.shape[s]:d.shape),class:t,pointStrokeOpacity:Array.isArray(d.strokeOpacity)?d.strokeOpacity[s]:d.strokeOpacity,pointStrokeDashArray:Array.isArray(d.strokeDashArray)?d.strokeDashArray[s]:d.strokeDashArray,pointFillOpacity:Array.isArray(d.fillOpacity)?d.fillOpacity[s]:d.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new y(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(s)?s[e]:s}}}]),e}(),F=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return o(e,[{key:"draw",value:function(e,t,s){var i=this.w,r=new y(this.ctx),a=s.realIndex,n=s.pointsPos,o=s.zRatio,l=s.elParent,c=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(n.x))for(var d=0;d<n.x.length;d++){var u=t+1,h=!0;0===t&&0===d&&(u=0),0===t&&1===d&&(u=1);var p=0,m=i.globals.markers.size[a];if(o!==1/0){var f=i.config.plotOptions.bubble;m=i.globals.seriesZ[a][u],f.zScaling&&(m/=o),f.minBubbleRadius&&m<f.minBubbleRadius&&(m=f.minBubbleRadius),f.maxBubbleRadius&&m>f.maxBubbleRadius&&(m=f.maxBubbleRadius)}i.config.chart.animations.enabled||(p=m);var g=n.x[d],x=n.y[d];if(p=p||0,null!==x&&void 0!==i.globals.series[a][u]||(h=!1),h){var b=this.drawPoint(g,x,p,m,a,u,t);c.add(b)}l.add(c)}}},{key:"drawPoint",value:function(e,t,s,i,r,a,n){var o=this.w,l=r,c=new b(this.ctx),d=new v(this.ctx),u=new _(this.ctx),h=new z(this.ctx),p=new y(this.ctx),m=h.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:a,finishRadius:"bubble"===o.config.chart.type||o.globals.comboCharts&&o.config.series[r]&&"bubble"===o.config.series[r].type?i:null});i=m.pSize;var f,g=u.fillPath({seriesNumber:r,dataPointIndex:a,color:m.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[r][n]});if("circle"===m.shape?f=p.drawCircle(s):"square"!==m.shape&&"rect"!==m.shape||(f=p.drawRect(0,0,m.width-m.pointStrokeWidth/2,m.height-m.pointStrokeWidth/2,m.pRadius)),o.config.series[l].data[a]&&o.config.series[l].data[a].fillColor&&(g=o.config.series[l].data[a].fillColor),f.attr({x:e-m.width/2-m.pointStrokeWidth/2,y:t-m.height/2-m.pointStrokeWidth/2,cx:e,cy:t,fill:g,"fill-opacity":m.pointFillOpacity,stroke:m.pointStrokeColor,r:i,"stroke-width":m.pointStrokeWidth,"stroke-dasharray":m.pointStrokeDashArray,"stroke-opacity":m.pointStrokeOpacity}),o.config.chart.dropShadow.enabled){var x=o.config.chart.dropShadow;d.dropShadow(f,x,r)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var w=o.config.chart.animations.speed;c.animateMarker(f,0,"circle"===m.shape?i:{width:m.width,height:m.height},w,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(f)},100)})}if(o.globals.dataChanged&&"circle"===m.shape)if(this.dynamicAnim){var j,N,k,S,C=o.config.chart.animations.dynamicAnimation.speed;null!=(S=o.globals.previousPaths[r]&&o.globals.previousPaths[r][n])&&(j=S.x,N=S.y,k=void 0!==S.r?S.r:i);for(var A=0;A<o.globals.collapsedSeries.length;A++)o.globals.collapsedSeries[A].index===r&&(C=1,i=0);0===e&&0===t&&(i=0),c.animateCircle(f,{cx:j,cy:N,r:k},{cx:e,cy:t,r:i},C,o.globals.easing)}else f.attr({r:i});return f.attr({rel:a,j:a,index:r,"default-marker-size":i}),d.setSelectionFilter(f,r,a),h.addEvents(f),f.node.classList.add("apexcharts-marker"),f}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),B=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"dataLabelsCorrection",value:function(e,t,s,i,r,a,n){var o=this.w,l=!1,c=new y(this.ctx).getTextRects(s,n),d=c.width,u=c.height;t<0&&(t=0),t>o.globals.gridHeight+u&&(t=o.globals.gridHeight+u/2),void 0===o.globals.dataLabelsRects[i]&&(o.globals.dataLabelsRects[i]=[]),o.globals.dataLabelsRects[i].push({x:e,y:t,width:d,height:u});var h=o.globals.dataLabelsRects[i].length-2,p=void 0!==o.globals.lastDrawnDataLabelsIndexes[i]?o.globals.lastDrawnDataLabelsIndexes[i][o.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(void 0!==o.globals.dataLabelsRects[i][h]){var m=o.globals.dataLabelsRects[i][p];(e>m.x+m.width+2||t>m.y+m.height+2||e+d<m.x)&&(l=!0)}return(0===r||a)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,i=e.pos,r=e.i,a=e.j,n=e.isRangeStart,o=e.strokeWidth,l=void 0===o?2:o,c=this.w,d=new y(this.ctx),u=c.config.dataLabels,h=0,p=0,m=a,f=null;if(!u.enabled||!Array.isArray(i.x))return f;f=d.group({class:"apexcharts-data-labels"});for(var g=0;g<i.x.length;g++)if(h=i.x[g]+u.offsetX,p=i.y[g]+u.offsetY+l,!isNaN(h)){1===a&&0===g&&(m=0),1===a&&1===g&&(m=1);var x=c.globals.series[r][m];"rangeArea"===s&&(x=n?c.globals.seriesRangeStart[r][m]:c.globals.seriesRangeEnd[r][m]);var b="",v=function(e){return c.config.dataLabels.formatter(e,{ctx:t.ctx,seriesIndex:r,dataPointIndex:m,w:c})};"bubble"===c.config.chart.type?(b=v(x=c.globals.seriesZ[r][m]),p=i.y[g],p=new F(this.ctx).centerTextInBubble(p,r,m).y):void 0!==x&&(b=v(x)),this.plotDataLabelsText({x:h,y:p,text:b,i:r,j:m,parent:f,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels})}return f}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new y(this.ctx),i=e.x,r=e.y,a=e.i,n=e.j,o=e.text,l=e.textAnchor,c=e.fontSize,d=e.parent,u=e.dataLabelsConfig,h=e.color,p=e.alwaysDrawDataLabel,m=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)){var f={x:i,y:r,drawnextLabel:!0,textRects:null};m&&(f=this.dataLabelsCorrection(i,r,o,a,n,p,parseInt(u.style.fontSize,10))),t.globals.zoomed||(i=f.x,r=f.y),f.textRects&&(i<-10-f.textRects.width||i>t.globals.gridWidth+f.textRects.width+10)&&(o="");var g=t.globals.dataLabels.style.colors[a];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(g=t.globals.dataLabels.style.colors[n]),"function"==typeof g&&(g=g({series:t.globals.series,seriesIndex:a,dataPointIndex:n,w:t})),h&&(g=h);var x=u.offsetX,b=u.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(x=0,b=0),f.drawnextLabel){var w=s.drawText({width:100,height:parseInt(u.style.fontSize,10),x:i+x,y:r+b,foreColor:g,textAnchor:l||u.textAnchor,text:o,fontSize:c||u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight||"normal"});if(w.attr({class:"apexcharts-datalabel",cx:i,cy:r}),u.dropShadow.enabled){var j=u.dropShadow;new v(this.ctx).dropShadow(w,j)}d.add(w),void 0===t.globals.lastDrawnDataLabelsIndexes[a]&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(n)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,i=s.config.dataLabels.background,r=i.padding,a=i.padding/2,n=t.width,o=t.height,l=new y(this.ctx).drawRect(t.x-r,t.y-a/2,n+2*r,o+a,i.borderRadius,"transparent"===s.config.chart.background?"#fff":s.config.chart.background,i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new v(this.ctx).dropShadow(l,i.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var i=t[s],r=i.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(i,r)),a){i.parentNode.insertBefore(a.node,i);var n=i.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?a.attr({fill:n}):a.animate().attr({fill:n}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)s&&s.insertBefore(t[i],s.nextSibling)}}]),e}(),H=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return o(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(x.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function i(s){for(var i=0;i<s.length;i++)s[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(s.globals.collapsedSeries),i(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w,r=x.clone(i.globals.initialSeries);i.globals.previousPaths=[],s?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),i.config.series=r,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var i=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var r=parseInt(t.getAttribute("rel"),10)-1,a=null,n=null;s.globals.axisCharts||"radialBar"===s.config.chart.type?s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),n=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var o=0;o<i.length;o++)i[o].classList.add(this.legendInactiveClass);null!==a&&(s.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),null!==n&&n.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var l=0;l<i.length;l++)i[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(e){for(var t=0;t<r.length;t++)r[t].classList[e](s.legendInactiveClass)};if("mousemove"===e.type){var n=parseInt(t.getAttribute("rel"),10)-1;a("add"),function(e){for(var t=0;t<r.length;t++){var i=parseInt(r[t].getAttribute("val"),10);i>=e.from&&i<=e.to&&r[t].classList.remove(s.legendInactiveClass)}}(i.config.plotOptions.heatmap.colorScale.ranges[n])}else"mouseout"===e.type&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this.w,i=0;if(s.config.series.length>1)for(var r=s.config.series.map(function(e,i){return e.data&&e.data.length>0&&-1===s.globals.collapsedSeriesIndices.indexOf(i)&&(!s.globals.comboCharts||0===t.length||t.length&&t.indexOf(s.config.series[i].type)>-1)?i:-1}),a="asc"===e?0:r.length-1;"asc"===e?a<r.length:a>=0;"asc"===e?a++:a--)if(-1!==r[a]){i=r[a];break}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return"bar"===e.type||"column"===e.type?t:-1}).filter(function(e){return-1!==e}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,s,i){for(var r=t[s].childNodes,a={type:i,paths:[],realIndex:t[s].getAttribute("data:realIndex")},n=0;n<r.length;n++)if(r[n].hasAttribute("pathTo")){var o=r[n].getAttribute("pathTo");a.paths.push({d:o})}e.globals.previousPaths.push(a)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(s){for(var i,r=(i=s,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"))),a=0;a<r.length;a++)t(r,a,s)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var i=function(t){for(var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),i=[],r=function(e){var t=function(t){return s[e].getAttribute(t)},r={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};i.push({rect:r,color:s[e].getAttribute("color")})},a=0;a<s.length;a++)r(a);e.globals.previousPaths.push(i)},r=0;r<s.length;r++)i(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(s.length>0)for(var i=0;i<s.length;i++){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(i,"'] circle")),a=[],n=0;n<r.length;n++)a.push({x:r[n].getAttribute("cx"),y:r[n].getAttribute("cy"),r:r[n].getAttribute("r")});t.globals.previousPaths.push(a)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new y(this.ctx),i=e.globals.svgWidth/2,r=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(i=10,a="start"):"right"===t.align&&(i=e.globals.svgWidth-10,a="end"),"top"===t.verticalAlign?r=50:"bottom"===t.verticalAlign&&(r=e.globals.svgHeight-50),i+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var n=s.drawText({x:i,y:r,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(n)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(0===e[s].length)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),i=0;i<s.length-1;i++)if(s[i][0]!==s[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(e){return e.length>0?e:[]})}}]),e}(),W=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new w(this.ctx)}return o(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new H(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new H(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,i=this.w.globals,r="boxPlot"===s.chart.type||"boxPlot"===s.series[t].type,a=0;a<e[t].data.length;a++)if(void 0!==e[t].data[a][1]&&(Array.isArray(e[t].data[a][1])&&4===e[t].data[a][1].length&&!r?this.twoDSeries.push(x.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(x.parseNumber(e[t].data[a][4])):this.twoDSeries.push(x.parseNumber(e[t].data[a][1])),i.dataFormatXNumeric=!0),"datetime"===s.xaxis.type){var n=new Date(e[t].data[a][0]);n=new Date(n).getTime(),this.twoDSeriesX.push(n)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o][2]&&(this.threeDSeries.push(e[t].data[o][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,i=this.w.globals,r=new E(this.ctx),a=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var n=0;n<e[t].data.length;n++)void 0!==e[t].data[n].y&&(Array.isArray(e[t].data[n].y)?this.twoDSeries.push(x.parseNumber(e[t].data[n].y[e[t].data[n].y.length-1])):this.twoDSeries.push(x.parseNumber(e[t].data[n].y))),void 0!==e[t].data[n].goals&&Array.isArray(e[t].data[n].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[n].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var o=0;o<e[a].data.length;o++){var l="string"==typeof e[a].data[o].x,c=Array.isArray(e[a].data[o].x),d=!c&&!!r.isValidDate(e[a].data[o].x.toString());if(l||d)if(l||s.xaxis.convertedCatToNumeric){var u=i.isBarHorizontal&&i.isRangeData;"datetime"!==s.xaxis.type||u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[o].x)):this.twoDSeriesX.push(r.parseDate(e[a].data[o].x))}else"datetime"===s.xaxis.type?this.twoDSeriesX.push(r.parseDate(e[a].data[o].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[o].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[o].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[o].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var h=0;h<e[t].data.length;h++)this.threeDSeries.push(e[t].data[h].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart.push(i.start),s.seriesRangeEnd.push(i.end),s.seriesRange.push(i.rangeUniques),s.seriesRange.forEach(function(e,t){e&&e.forEach(function(e,t){e.y.forEach(function(t,s){for(var i=0;i<e.y.length;i++)if(s!==i){var r=t.y1,a=t.y2,n=e.y[i].y1;r<=e.y[i].y2&&n<=a&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[i].rangeName)<0&&e.overlaps.push(e.y[i].rangeName))}})})}),i}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=i.o,s.seriesCandleH[t]=i.h,s.seriesCandleM[t]=i.m,s.seriesCandleL[t]=i.l,s.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,s){var i=[],r=[],a=t[s].data.filter(function(e,t,s){return t===s.findIndex(function(t){return t.x===e.x})}).map(function(e,t){return{x:e.x,overlaps:[],y:[]}});if("array"===e)for(var n=0;n<t[s].data.length;n++)Array.isArray(t[s].data[n])?(i.push(t[s].data[n][1][0]),r.push(t[s].data[n][1][1])):(i.push(t[s].data[n]),r.push(t[s].data[n]));else if("xy"===e)for(var o=function(e){var n=Array.isArray(t[s].data[e].y),o=x.randomId(),l=t[s].data[e].x,c={y1:n?t[s].data[e].y[0]:t[s].data[e].y,y2:n?t[s].data[e].y[1]:t[s].data[e].y,rangeName:o};t[s].data[e].rangeName=o;var d=a.findIndex(function(e){return e.x===l});a[d].y.push(c),i.push(c.y1),r.push(c.y2)},l=0;l<t[s].data.length;l++)o(l);return{start:i,end:r,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var i=this.w,r="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[s].type,a=[],n=[],o=[],l=[],c=[];if("array"===e)if(r&&6===t[s].data[0].length||!r&&5===t[s].data[0].length)for(var d=0;d<t[s].data.length;d++)a.push(t[s].data[d][1]),n.push(t[s].data[d][2]),r?(o.push(t[s].data[d][3]),l.push(t[s].data[d][4]),c.push(t[s].data[d][5])):(l.push(t[s].data[d][3]),c.push(t[s].data[d][4]));else for(var u=0;u<t[s].data.length;u++)Array.isArray(t[s].data[u][1])&&(a.push(t[s].data[u][1][0]),n.push(t[s].data[u][1][1]),r?(o.push(t[s].data[u][1][2]),l.push(t[s].data[u][1][3]),c.push(t[s].data[u][1][4])):(l.push(t[s].data[u][1][2]),c.push(t[s].data[u][1][3])));else if("xy"===e)for(var h=0;h<t[s].data.length;h++)Array.isArray(t[s].data[h].y)&&(a.push(t[s].data[h].y[0]),n.push(t[s].data[h].y[1]),r?(o.push(t[s].data[h].y[2]),l.push(t[s].data[h].y[3]),c.push(t[s].data[h].y[4])):(l.push(t[s].data[h].y[2]),c.push(t[s].data[h].y[3])));return{o:a,h:n,m:o,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(e){var t,s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,r=this.w.config,a=this.w.globals,n=new E(i),o=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();if(a.isRangeBar="rangeBar"===r.chart.type&&a.isBarHorizontal,a.hasXaxisGroups="category"===r.xaxis.type&&r.xaxis.group.groups.length>0,a.hasXaxisGroups&&(a.groups=r.xaxis.group.groups),a.hasSeriesGroups=null===(t=e[0])||void 0===t?void 0:t.group,a.hasSeriesGroups){var l=[],c=m(new Set(e.map(function(e){return e.group})));e.forEach(function(e,t){var s=c.indexOf(e.group);l[s]||(l[s]=[]),l[s].push(e.name)}),a.seriesGroups=l}for(var d=function(){for(var e=0;e<o.length;e++)if("string"==typeof o[e]){if(!n.isValidDate(o[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");s.twoDSeriesX.push(n.parseDate(o[e]))}else s.twoDSeriesX.push(o[e])},u=0;u<e.length;u++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[u].data)return;if("rangeBar"!==r.chart.type&&"rangeArea"!==r.chart.type&&"rangeBar"!==e[u].type&&"rangeArea"!==e[u].type||(a.isRangeData=!0,a.isComboCharts?"rangeBar"!==e[u].type&&"rangeArea"!==e[u].type||this.handleRangeData(e,u):"rangeBar"!==r.chart.type&&"rangeArea"!==r.chart.type||this.handleRangeData(e,u)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,u):this.isFormatXY()&&this.handleFormatXY(e,u),"candlestick"!==r.chart.type&&"candlestick"!==e[u].type&&"boxPlot"!==r.chart.type&&"boxPlot"!==e[u].type||this.handleCandleStickBoxData(e,u),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,u!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===r.xaxis.type?(a.isXNumeric=!0,d(),a.seriesX.push(this.twoDSeriesX)):"numeric"===r.xaxis.type&&(a.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var h=e[u].data.map(function(e){return x.parseNumber(e)});a.series.push(h)}a.seriesZ.push(this.threeDSeries),void 0!==e[u].name?a.seriesNames.push(e[u].name):a.seriesNames.push("series-"+parseInt(u+1,10)),void 0!==e[u].color?a.seriesColors.push(e[u].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config;t.series=e.slice(),t.seriesNames=s.labels.slice();for(var i=0;i<t.series.length;i++)void 0===t.seriesNames[i]&&t.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(e){e.forEach(function(e){s.labels.indexOf(e.x)<0&&e.x&&s.labels.push(e.x)})}),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new L(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=s.series.map(function(e,t){return e.data.filter(function(e,t,s){return s.findIndex(function(t){return t.x===e.x})===t})}),a=r.reduce(function(e,t,s,i){return i[e].length>t.length?e:s},0),n=0;n<r[a].length;n++)i.push(n+1);else for(var o=0;o<t.series[t.maxValsInArrayIndex].length;o++)i.push(o+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(i);t.isXNumeric=!0}if(0===i.length){i=t.axisCharts?[]:t.series.map(function(e,t){return t+1});for(var c=0;c<e.length;c++)t.seriesX.push(i)}t.labels=i,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map(function(e){return s.xaxis.labels.formatter(e)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,s=t.config,i=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var r=new H(this.ctx);i.series=r.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&("numeric"!==s.xaxis.type||0!==s.labels.length||0!==s.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(i.labels),n=0;n<a.length;n++)if(Array.isArray(a[n])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map(function(s,i){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return s.index})}}]),e}(),X=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"getLabel",value:function(e,t,s,i){var r,a,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=this.w,d=void 0===e[i]?"":e[i],u=d,h=c.globals.xLabelFormatter,p=c.config.xaxis.labels.formatter,m=!1,f=new R(this.ctx),g=d;l&&(u=f.xLabelFormat(h,d,g,{i:i,dateFormatter:new E(this.ctx).formatDate,w:c}),void 0!==p&&(u=p(d,e[i],{i:i,dateFormatter:new E(this.ctx).formatDate,w:c}))),t.length>0?(r=t[i].unit,a=null,t.forEach(function(e){"month"===e.unit?a="year":"day"===e.unit?a="month":"hour"===e.unit?a="day":"minute"===e.unit&&(a="hour")}),m=a===r,s=t[i].position,u=t[i].value):"datetime"===c.config.xaxis.type&&void 0===p&&(u=""),void 0===u&&(u=""),u=Array.isArray(u)?u:u.toString();var x,b=new y(this.ctx);x=c.globals.rotateXLabels&&l?b.getTextRects(u,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):b.getTextRects(u,parseInt(o,10));var v=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(0===u.indexOf("NaN")||0===u.toLowerCase().indexOf("invalid")||u.toLowerCase().indexOf("infinity")>=0||n.indexOf(u)>=0&&v)&&(u=""),{x:s,text:u,textRect:x,isBold:m}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var i=this.w,r=i.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(i.globals.gridWidth/120)),r>s||e%Math.round(s/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,i,r){var a=this.w;if(0===e&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var n=r[r.length-1];t.x<n.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+n.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=new w(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&s.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,i,r,a,n){var o=this.w,l=new y(this.ctx),c=o.globals.translateY;if(i.show&&t>0){!0===o.config.yaxis[r].opposite&&(e+=i.width);for(var d=t;d>=0;d--){var u=c+t/10+o.config.yaxis[r].labels.offsetY-1;o.globals.isBarHorizontal&&(u=a*d),"heatmap"===o.config.chart.type&&(u+=a/2);var h=l.drawLine(e+s.offsetX-i.width+i.offsetX,u+i.offsetY,e+s.offsetX+i.offsetX,u+i.offsetY,i.color);n.add(h),c+=a}}}}]),e}(),Y=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+i)}},{key:"fixSvgStringForIe11",value:function(e){if(!x.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,s=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(e){return 2===++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':e});return(s=s.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var s=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(s,e),t=(new XMLSerializer).serializeToString(s)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),s=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,function(e){e.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),s&&s[0]&&(s[0].setAttribute("y",-100),s[0].setAttribute("y1",-100),s[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(s){var i=t.w,r=e?e.scale||e.width/i.globals.svgWidth:1;t.cleanup();var a=document.createElement("canvas");a.width=i.globals.svgWidth*r,a.height=parseInt(i.globals.dom.elWrap.style.height,10)*r;var n="transparent"===i.config.chart.background?"#fff":i.config.chart.background,o=a.getContext("2d");o.fillStyle=n,o.fillRect(0,0,a.width*r,a.height*r);var l=t.getSvgString(r);if(window.canvg&&x.isIE11()){var c=window.canvg.Canvg.fromString(o,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var d=a.msToBlob();c.stop(),s({blob:d})}else{var u="data:image/svg+xml,"+encodeURIComponent(l),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(o.drawImage(h,0,0),a.msToBlob){var e=a.msToBlob();s({blob:e})}else{var t=a.toDataURL("image/png");s({imgURI:t})}},h.src=u}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then(function(t){var s=t.imgURI,i=t.blob;i?navigator.msSaveOrOpenBlob(i,e.w.globals.chartID+".png"):e.triggerDownload(s,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,i=e.fileName,r=e.columnDelimiter,a=void 0===r?",":r,n=e.lineDelimiter,o=void 0===n?"\n":n,l=this.w;s||(s=l.config.series);var c=[],d=[],u="",h=l.globals.series.map(function(e,t){return-1===l.globals.collapsedSeriesIndices.indexOf(t)?e:[]}),p=Math.max.apply(Math,m(s.map(function(e){return e.data?e.data.length:0}))),f=new W(this.ctx),g=new X(this.ctx),b=function(e){var s="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var i=l.globals.yLabelFormatters[0],r=new H(t.ctx).getActiveConfigSeriesIndex();s=i(l.globals.labels[e],{seriesIndex:r,dataPointIndex:e,w:l})}else s=g.getLabel(l.globals.labels,l.globals.timescaleLabels,0,e).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?s=l.config.xaxis.categories[e]:l.config.labels.length&&(s=l.config.labels[e]))}else s=l.config.labels[e];return Array.isArray(s)&&(s=s.join(" ")),x.isNumber(s)?s:s.split(a).join("")};c.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(c.push("minimum"),c.push("q1"),c.push("median"),c.push("q3"),c.push("maximum")):"candlestick"===l.config.chart.type?(c.push("open"),c.push("high"),c.push("low"),c.push("close")):"rangeBar"===l.config.chart.type?(c.push("minimum"),c.push("maximum")):s.map(function(e,t){var s=e.name?e.name:"series-".concat(t);l.globals.axisCharts&&c.push(s.split(a).join("")?s.split(a).join(""):"series-".concat(t))}),l.globals.axisCharts||(c.push(l.config.chart.toolbar.export.csv.headerValue),d.push(c.join(a))),s.map(function(e,t){l.globals.axisCharts?function(e,t){if(c.length&&0===t&&d.push(c.join(a)),e.data){e.data=e.data.length&&e.data||m(Array(p)).map(function(){return""});for(var i=0;i<e.data.length;i++){c=[];var r=b(i);if(r||(f.isFormatXY()?r=s[t].data[i].x:f.isFormat2DArray()&&(r=s[t].data[i]?s[t].data[i][0]:"")),0===t){c.push((o=r,"datetime"===l.config.xaxis.type&&String(o).length>=10?l.config.chart.toolbar.export.csv.dateFormatter(r):x.isNumber(r)?r:r.split(a).join("")));for(var n=0;n<l.globals.series.length;n++)f.isFormatXY()?c.push(s[n].data[i].y):c.push(h[n][i])}("candlestick"===l.config.chart.type||e.type&&"candlestick"===e.type)&&(c.pop(),c.push(l.globals.seriesCandleO[t][i]),c.push(l.globals.seriesCandleH[t][i]),c.push(l.globals.seriesCandleL[t][i]),c.push(l.globals.seriesCandleC[t][i])),("boxPlot"===l.config.chart.type||e.type&&"boxPlot"===e.type)&&(c.pop(),c.push(l.globals.seriesCandleO[t][i]),c.push(l.globals.seriesCandleH[t][i]),c.push(l.globals.seriesCandleM[t][i]),c.push(l.globals.seriesCandleL[t][i]),c.push(l.globals.seriesCandleC[t][i])),"rangeBar"===l.config.chart.type&&(c.pop(),c.push(l.globals.seriesRangeStart[t][i]),c.push(l.globals.seriesRangeEnd[t][i])),c.length&&d.push(c.join(a))}}var o}(e,t):((c=[]).push(l.globals.labels[t].split(a).join("")),c.push(h[t]),d.push(c.join(a)))}),u+=d.join(o),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+u),i||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+s,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),e}(),V=function(){function e(t,s){a(this,e),this.ctx=t,this.elgrid=s,this.w=t.w;var i=this.w;this.axesUtils=new X(t),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===i.config.xaxis.position?this.offY=0:this.offY=i.globals.gridHeight+1,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return o(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new y(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(i);for(var r=[],a=0;a<this.xaxisLabels.length;a++)r.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,i,r,e.globals.isXNumeric,function(e,t){return t}),e.globals.hasXaxisGroups){var n=e.globals.groups;r=[];for(var o=0;o<n.length;o++)r.push(n[o].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,r,!1,function(e,t){return n[e].cols*t},l)}if(void 0!==e.config.xaxis.title.text){var c=t.group({class:"apexcharts-xaxis-title"}),d=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===e.config.xaxis.position?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});c.add(d),s.add(c)}if(e.config.xaxis.axisBorder.show){var u=e.globals.barPadForNumericAxis,h=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-u,this.offY,this.xaxisBorderWidth+u,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(h):s.add(h)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,i,r,a){var n,o=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],d=[],u=this.w,h=l.xaxisFontSize||this.xaxisFontSize,p=l.xaxisFontFamily||this.xaxisFontFamily,m=l.xaxisForeColors||this.xaxisForeColors,f=l.fontWeight||u.config.xaxis.labels.style.fontWeight,g=l.cssClass||u.config.xaxis.labels.style.cssClass,x=u.globals.padHorizontal,b=i.length,v="category"===u.config.xaxis.type?u.globals.dataPoints:b;if(0===v&&b>v&&(v=b),r){var y=v>1?v-1:v;n=u.globals.gridWidth/y,x=x+a(0,n)/2+u.config.xaxis.labels.offsetX}else n=u.globals.gridWidth/v,x=x+a(0,n)+u.config.xaxis.labels.offsetX;for(var w=function(r){var l=x-a(r,n)/2+u.config.xaxis.labels.offsetX;0===r&&1===b&&n/2===x&&1===v&&(l=u.globals.gridWidth/2);var y=o.axesUtils.getLabel(i,u.globals.timescaleLabels,l,r,c,h,e),w=28;if(u.globals.rotateXLabels&&e&&(w=22),u.config.xaxis.title.text&&"top"===u.config.xaxis.position&&(w+=parseFloat(u.config.xaxis.title.style.fontSize)+2),e||(w=w+parseFloat(h)+(u.globals.xAxisLabelsHeight-u.globals.xAxisGroupLabelsHeight)+(u.globals.rotateXLabels?10:0)),y=void 0!==u.config.xaxis.tickAmount&&"dataPoints"!==u.config.xaxis.tickAmount&&"datetime"!==u.config.xaxis.type?o.axesUtils.checkLabelBasedOnTickamount(r,y,b):o.axesUtils.checkForOverflowingLabels(r,y,b,c,d),u.config.xaxis.labels.show){var j=t.drawText({x:y.x,y:o.offY+u.config.xaxis.labels.offsetY+w-("top"===u.config.xaxis.position?u.globals.xAxisHeight+u.config.xaxis.axisTicks.height-2:0),text:y.text,textAnchor:"middle",fontWeight:y.isBold?600:f,fontSize:h,fontFamily:p,foreColor:Array.isArray(m)?e&&u.config.xaxis.convertedCatToNumeric?m[u.globals.minX+r-1]:m[r]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(s.add(j),j.on("click",function(e){if("function"==typeof u.config.chart.events.xAxisLabelClick){var t=Object.assign({},u,{labelIndex:r});u.config.chart.events.xAxisLabelClick(e,o.ctx,t)}}),e){var N=document.createElementNS(u.globals.SVGNS,"title");N.textContent=Array.isArray(y.text)?y.text.join(" "):y.text,j.node.appendChild(N),""!==y.text&&(c.push(y.text),d.push(y))}}r<b-1&&(x+=a(r+1,n))},j=0;j<=b-1;j++)w(j)}},{key:"drawXaxisInversed",value:function(e){var t,s,i=this,r=this.w,a=new y(this.ctx),n=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,o=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+n+", 0)"});o.add(l);var c=[];if(r.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)c.push(this.xaxisLabels[d]);t=r.globals.gridHeight/c.length,s=-t/2.2;var u=r.globals.yLabelFormatters[0],h=r.config.yaxis[0].labels;if(h.show)for(var p=function(n){var o=void 0===c[n]?"":c[n];o=u(o,{seriesIndex:e,dataPointIndex:n,w:r});var d=i.axesUtils.getYAxisForeColor(h.style.colors,e),p=0;Array.isArray(o)&&(p=o.length/2*parseInt(h.style.fontSize,10));var m=h.offsetX-15,f="end";i.yaxis.opposite&&(f="start"),"left"===r.config.yaxis[0].labels.align?(m=h.offsetX,f="start"):"center"===r.config.yaxis[0].labels.align?(m=h.offsetX,f="middle"):"right"===r.config.yaxis[0].labels.align&&(f="end");var g=a.drawText({x:m,y:s+t+h.offsetY-p,text:o,textAnchor:f,foreColor:Array.isArray(d)?d[n]:d,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass,maxWidth:h.maxWidth});l.add(g),g.on("click",function(e){if("function"==typeof r.config.chart.events.xAxisLabelClick){var t=Object.assign({},r,{labelIndex:n});r.config.chart.events.xAxisLabelClick(e,i.ctx,t)}});var x=document.createElementNS(r.globals.SVGNS,"title");if(x.textContent=Array.isArray(o)?o.join(" "):o,g.node.appendChild(x),0!==r.config.yaxis[e].labels.rotate){var b=a.rotateAroundCenter(g.node);g.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(b.y,")"))}s+=t},m=0;m<=c.length-1;m++)p(m);if(void 0!==r.config.yaxis[0].title.text){var f=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+n+", 0)"}),g=a.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});f.add(g),o.add(f)}var x=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(x=r.globals.gridWidth);var b=r.config.xaxis.axisBorder;if(b.show){var v=a.drawLine(r.globals.padHorizontal+b.offsetX+x,1+b.offsetY,r.globals.padHorizontal+b.offsetX+x,r.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(v):o.add(v)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(x,c.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,o),o}},{key:"drawXaxisTicks",value:function(e,t,s){var i=this.w,r=e;if(!(e<0||e-2>i.globals.gridWidth)){var a=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+a+i.config.xaxis.axisTicks.height,"top"===i.config.xaxis.position&&(t=a-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var n=new y(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,r+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);s.add(n),n.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<s;r++)i=this.xaxisLabels[r].position,t.push(i);else for(var a=s,n=0;n<a;n++){var o=a;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(o-=1),i+=e.globals.gridWidth/o,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new y(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var n=0;n<i.length;n++){var o=t.rotateAroundCenter(i[n]);o.y=o.y-1,o.x=o.x+1,i[n].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(o.x," ").concat(o.y,")")),i[n].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var l=i[n].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,function(s){t.placeTextWithEllipsis(s,s.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else!function(){for(var s=e.globals.gridWidth/(e.globals.labels.length+1),r=0;r<i.length;r++){var a=i[r].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(a,function(e){t.placeTextWithEllipsis(e,e.textContent,s)})}}();if(r.length>0){var c=r[r.length-1].getBBox(),d=r[0].getBBox();c.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var u=0;u<a.length;u++)t.placeTextWithEllipsis(a[u],a[u].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),U=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var s=this.w;this.xaxisLabels=s.globals.labels.slice(),this.axesUtils=new X(t),this.isRangeBar=s.globals.seriesRange.length,s.globals.timescaleLabels.length>0&&(this.xaxisLabels=s.globals.timescaleLabels.slice())}return o(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,s=new y(this.ctx);null===e&&(e=s.group({class:"apexcharts-grid"}));var i=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(i),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new y(this.ctx),i=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var r=0;e.config.stroke.width.forEach(function(e){r=Math.max(r,e)}),i=r}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var a=e.config.chart.type,n=0,o=0;("bar"===a||"rangeBar"===a||"candlestick"===a||"boxPlot"===a||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(n=e.config.grid.padding.left,o=e.config.grid.padding.right,t.barPadForNumericAxis>n&&(n=t.barPadForNumericAxis,o=t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-i/2-n-2,-i/2,t.gridWidth+i+o+n+4,t.gridHeight+i,0,"#fff");var l=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=s.drawRect(2*-l,2*-l,t.gridWidth+4*l,t.gridHeight+4*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask),c.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,i=e.y1,r=e.x2,a=e.y2,n=e.xCount,o=e.parent,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===n-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:i,x2:r,y2:a,xCount:n,parent:o});var c=0;if(l.globals.hasXaxisGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var u=0,h=0;u<t&&h<d.length;h++)u+=d[h].cols;u===t&&(c=.6*l.globals.xAxisLabelsHeight)}}new V(this.ctx).drawXaxisTicks(s,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,i=e.y1,r=e.x2,a=e.y2,n=e.xCount,o=e.parent,l=this.w,c=!1,d=o.node.classList.contains("apexcharts-gridlines-horizontal"),u=l.config.grid.strokeDashArray,h=l.globals.barPadForNumericAxis;(0===i&&0===a||0===s&&0===r)&&(c=!0),i===l.globals.gridHeight&&a===l.globals.gridHeight&&(c=!0),!l.globals.isBarHorizontal||0!==t&&t!==n-1||(c=!0);var p=new y(this).drawLine(s-(d?h:0),i,r+(d?h:0),a,l.config.grid.borderColor,u);p.node.classList.add("apexcharts-gridline"),c&&l.config.grid.show?this.elGridBorders.add(p):o.add(p)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,i=e.y1,r=e.x2,a=e.y2,n=e.type,o=this.w,l=new y(this.ctx),c=o.globals.barPadForNumericAxis;if("column"!==n||"datetime"!==o.config.xaxis.type){var d=o.config.grid[n].colors[t],u=l.drawRect(s-("row"===n?c:0),i,r+("row"===n?2*c:0),a,0,d,o.config.grid[n].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(n))}}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,i=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var a,n=r.globals.padHorizontal,o=r.globals.gridHeight;r.globals.timescaleLabels.length?function(e){for(var i=e.xC,r=e.x1,a=e.y1,n=e.x2,o=e.y2,l=0;l<i;l++)r=t.xaxisLabels[l].position,n=t.xaxisLabels[l].position,t._drawGridLines({i:l,x1:r,y1:a,x2:n,y2:o,xCount:s,parent:t.elgridLinesV})}({xC:s,x1:n,y1:0,x2:a,y2:o}):(r.globals.isXNumeric&&(s=r.globals.xAxisScale.result.length),function(e){for(var i=e.xC,a=e.x1,n=e.y1,o=e.x2,l=e.y2,c=0;c<i+(r.globals.isXNumeric?0:1);c++)0===c&&1===i&&1===r.globals.dataPoints&&(o=a=r.globals.gridWidth/2),t._drawGridLines({i:c,x1:a,y1:n,x2:o,y2:l,xCount:s,parent:t.elgridLinesV}),o=a+=r.globals.gridWidth/(r.globals.isXNumeric?i-1:i)}({xC:s,x1:n,y1:0,x2:a,y2:o}))}if(r.config.grid.yaxis.lines.show){var l=0,c=0,d=r.globals.gridWidth,u=i+1;this.isRangeBar&&(u=r.globals.labels.length);for(var h=0;h<u+(this.isRangeBar?1:0);h++)this._drawGridLine({i:h,xCount:u+(this.isRangeBar?1:0),x1:0,y1:l,x2:d,y2:c,parent:this.elgridLinesH}),c=l+=r.globals.gridHeight/(this.isRangeBar?u:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var i,r=s.globals.padHorizontal,a=s.globals.gridHeight,n=0;n<t+1;n++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,xCount:t+1,x1:r,y1:0,x2:i,y2:a,parent:this.elgridLinesV}),new V(this.ctx).drawXaxisTicks(r,0,s.globals.dom.elGraphical),i=r=r+s.globals.gridWidth/t+.3;if(s.config.grid.yaxis.lines.show)for(var o=0,l=0,c=s.globals.gridWidth,d=0;d<s.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:s.globals.dataPoints+1,x1:0,y1:o,x2:c,y2:l,parent:this.elgridLinesH}),l=o+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new y(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=t.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s,i=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,r=0;r<e.globals.series.length&&(void 0!==e.globals.yAxisScale[r]&&(i=e.globals.yAxisScale[r].result.length-1),!(i>2));r++);return!e.globals.isBarHorizontal||this.isRangeBar?(s=this.xaxisLabels.length,this.isRangeBar&&e.globals.isBarHorizontal&&(s--,i=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:s,tickAmount:i})):(s=i,i=e.globals.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:i})),this.drawGridBands(s,i),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:e.globals.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var s=this.w;if(void 0!==s.config.grid.row.colors&&s.config.grid.row.colors.length>0)for(var i=0,r=s.globals.gridHeight/t,a=s.globals.gridWidth,n=0,o=0;n<t;n++,o++)o>=s.config.grid.row.colors.length&&(o=0),this._drawGridBandRect({c:o,x1:0,y1:i,x2:a,y2:r,type:"row"}),i+=s.globals.gridHeight/t;if(void 0!==s.config.grid.column.colors&&s.config.grid.column.colors.length>0)for(var l=s.globals.isBarHorizontal||"category"!==s.config.xaxis.type&&!s.config.xaxis.convertedCatToNumeric?e:e-1,c=s.globals.padHorizontal,d=s.globals.padHorizontal+s.globals.gridWidth/l,u=s.globals.gridHeight,h=0,p=0;h<e;h++,p++)p>=s.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=s.globals.gridWidth/l}}]),e}(),q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"niceScale",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=this.w,n=Math.abs(t-e);if("dataPoints"===(s=this._adjustTicksForSmallRange(s,i,n))&&(s=a.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!x.isNumber(e)&&!x.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)return e=0,t=s,this.linearScale(e,t,s);e>t?t=e+.1:e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var o=[];n<1&&r&&("candlestick"===a.config.chart.type||"candlestick"===a.config.series[i].type||"boxPlot"===a.config.chart.type||"boxPlot"===a.config.series[i].type||a.globals.isRangeData)&&(t*=1.01);var l=s+1;l<2?l=2:l>2&&(l-=2);var c=n/l,d=Math.floor(x.log10(c)),u=Math.pow(10,d),h=Math.round(c/u);h<1&&(h=1);var p=h*u,m=p*Math.floor(e/p),f=p*Math.ceil(t/p),g=m;if(r&&n>2){for(;o.push(g),!((g+=p)>f););return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}var b=e;(o=[]).push(b);for(var v=Math.abs(t-e)/s,y=0;y<=s;y++)b+=v,o.push(b);return o[o.length-2]>=t&&o.pop(),{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3?arguments[3]:void 0,r=Math.abs(t-e);"dataPoints"===(s=this._adjustTicksForSmallRange(s,i,r))&&(s=this.w.globals.dataPoints-1);var a=r/s;s===Number.MAX_VALUE&&(s=10,a=1);for(var n=[],o=e;s>=0;)n.push(o),o+=a,s-=1;return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var i=[],r=Math.ceil(Math.log(t)/Math.log(s)+1),a=Math.floor(Math.log(e)/Math.log(s));a<r;a++)i.push(Math.pow(s,a));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var i=[],r=Math.log(t)/Math.log(s),a=Math.log(e)/Math.log(s),n=r-a,o=Math.round(n),l=n/o,c=0,d=a;c<o;c++,d+=l)i.push(Math.pow(s,d));return i.push(Math.pow(s,r)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var i=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var r=Number(this.w.config.yaxis[t].labels.formatter(1));x.isNumber(r)&&0===this.w.globals.yValueDecimal&&(i=Math.ceil(s))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,s){var i=this.w.globals,r=this.w.config,a=i.isBarHorizontal?r.xaxis:r.yaxis[e];void 0===i.yAxisScale[e]&&(i.yAxisScale[e]=[]);var n=Math.abs(s-t);if(a.logarithmic&&n<=5&&(i.invalidLogScale=!0),a.logarithmic&&n>5)i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.logarithmicScale(t,s,a.logBase),i.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,s,a.logBase):this.logarithmicScale(t,s,a.logBase);else if(s!==-Number.MAX_VALUE&&x.isNumber(s))if(i.allSeriesCollapsed=!1,void 0===a.min&&void 0===a.max||a.forceNiceScale){var o=void 0===r.yaxis[e].max&&void 0===r.yaxis[e].min||r.yaxis[e].forceNiceScale;i.yAxisScale[e]=this.niceScale(t,s,a.tickAmount?a.tickAmount:n<5&&n>1?n+1:5,e,o)}else i.yAxisScale[e]=this.linearScale(t,s,a.tickAmount,e);else i.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var s=this.w,i=s.globals,r=s.config.xaxis,a=Math.abs(t-e);return t!==-Number.MAX_VALUE&&x.isNumber(t)?i.xAxisScale=this.linearScale(e,t,r.tickAmount?r.tickAmount:a<5&&a>1?a+1:5,0):i.xAxisScale=this.linearScale(0,5,5),i.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,s=this.w.config,i=t.minYArr.concat([]),r=t.maxYArr.concat([]),a=[];s.yaxis.forEach(function(t,n){var o=n;s.series.forEach(function(e,s){e.name===t.seriesName&&(o=s,n!==s?a.push({index:s,similarIndex:n,alreadyExists:!0}):a.push({index:s}))});var l=i[o],c=r[o];e.setYScaleForIndex(n,l,c)}),this.sameScaleInMultipleAxes(i,r,a)}},{key:"sameScaleInMultipleAxes",value:function(e,t,s){var i=this,r=this.w.config,a=this.w.globals,n=[];s.forEach(function(e){e.alreadyExists&&(void 0===n[e.index]&&(n[e.index]=[]),n[e.index].push(e.index),n[e.index].push(e.similarIndex))}),a.yAxisSameScaleIndices=n,n.forEach(function(e,t){n.forEach(function(s,i){var r,a;t!==i&&(r=e,a=s,r.filter(function(e){return-1!==a.indexOf(e)})).length>0&&(n[t]=n[t].concat(n[i]))})});var o=n.map(function(e){return e.filter(function(t,s){return e.indexOf(t)===s})}).map(function(e){return e.sort()});n=n.filter(function(e){return!!e});var l=o.slice(),c=l.map(function(e){return JSON.stringify(e)});l=l.filter(function(e,t){return c.indexOf(JSON.stringify(e))===t});var d=[],u=[];e.forEach(function(e,s){l.forEach(function(i,r){i.indexOf(s)>-1&&(void 0===d[r]&&(d[r]=[],u[r]=[]),d[r].push({key:s,value:e}),u[r].push({key:s,value:t[s]}))})});var h=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);d.forEach(function(e,t){e.forEach(function(e,s){h[t]=Math.min(e.value,h[t])})}),u.forEach(function(e,t){e.forEach(function(e,s){p[t]=Math.max(e.value,p[t])})}),e.forEach(function(e,t){u.forEach(function(e,s){var n=h[s],o=p[s];r.chart.stacked&&(o=0,e.forEach(function(e,t){e.value!==-Number.MAX_VALUE&&(o+=e.value),n!==Number.MIN_VALUE&&(n+=d[s][t].value)})),e.forEach(function(s,l){e[l].key===t&&(void 0!==r.yaxis[t].min&&(n="function"==typeof r.yaxis[t].min?r.yaxis[t].min(a.minY):r.yaxis[t].min),void 0!==r.yaxis[t].max&&(o="function"==typeof r.yaxis[t].max?r.yaxis[t].max(a.maxY):r.yaxis[t].max),i.setYScaleForIndex(t,n,o))})})})}},{key:"autoScaleY",value:function(e,t,s){e||(e=this);var i=e.w;if(i.globals.isMultipleYAxis||i.globals.collapsedSeries.length)return t;var r=i.globals.seriesX[0],a=i.config.chart.stacked;return t.forEach(function(e,n){for(var o=0,l=0;l<r.length;l++)if(r[l]>=s.xaxis.min){o=l;break}var c,d,u=i.globals.minYArr[n],h=i.globals.maxYArr[n],p=i.globals.stackedSeriesTotals;i.globals.series.forEach(function(n,l){var m=n[o];a?(m=p[o],c=d=m,p.forEach(function(e,t){r[t]<=s.xaxis.max&&r[t]>=s.xaxis.min&&(e>d&&null!==e&&(d=e),n[t]<c&&null!==n[t]&&(c=n[t]))})):(c=d=m,n.forEach(function(e,t){if(r[t]<=s.xaxis.max&&r[t]>=s.xaxis.min){var a=e,n=e;i.globals.series.forEach(function(s,i){null!==e&&(a=Math.min(s[t],a),n=Math.max(s[t],n))}),n>d&&null!==n&&(d=n),a<c&&null!==a&&(c=a)}})),void 0===c&&void 0===d&&(c=u,d=h),d*=d<0?.9:1.1,0==(c*=c<0?1.1:.9)&&0===d&&(c=-1,d=1),d<0&&d<h&&(d=h),c<0&&c>u&&(c=u),t.length>1?(t[l].min=void 0===e.min?c:e.min,t[l].max=void 0===e.max?d:e.max):(t[0].min=void 0===e.min?c:e.min,t[0].max=void 0===e.max?d:e.max)})}),t}}]),e}(),G=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.scales=new q(t)}return o(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,a=this.w.globals,n=-Number.MAX_VALUE,o=Number.MIN_VALUE;null===i&&(i=e+1);var l=a.series,c=l,d=l;"candlestick"===r.chart.type?(c=a.seriesCandleL,d=a.seriesCandleH):"boxPlot"===r.chart.type?(c=a.seriesCandleO,d=a.seriesCandleC):a.isRangeData&&(c=a.seriesRangeStart,d=a.seriesRangeEnd);for(var u=e;u<i;u++){a.dataPoints=Math.max(a.dataPoints,l[u].length),a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(e){return void 0!==e}).length),a.labels.length&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));for(var h=0;h<a.series[u].length;h++){var p=l[u][h];null!==p&&x.isNumber(p)?(void 0!==d[u][h]&&(n=Math.max(n,d[u][h]),t=Math.min(t,d[u][h])),void 0!==c[u][h]&&(t=Math.min(t,c[u][h]),s=Math.max(s,c[u][h])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==a.seriesCandleC[u][h]&&(n=Math.max(n,a.seriesCandleO[u][h]),n=Math.max(n,a.seriesCandleH[u][h]),n=Math.max(n,a.seriesCandleL[u][h]),n=Math.max(n,a.seriesCandleC[u][h]),"boxPlot"===this.w.config.chart.type&&(n=Math.max(n,a.seriesCandleM[u][h]))),!r.series[u].type||"candlestick"===r.series[u].type&&"boxPlot"===r.series[u].type&&"rangeArea"===r.series[u].type&&"rangeBar"===r.series[u].type||(n=Math.max(n,a.series[u][h]),t=Math.min(t,a.series[u][h])),s=n),a.seriesGoals[u]&&a.seriesGoals[u][h]&&Array.isArray(a.seriesGoals[u][h])&&a.seriesGoals[u][h].forEach(function(e){o!==Number.MIN_VALUE&&(o=Math.min(o,e.value),t=o),n=Math.max(n,e.value),s=n}),x.isFloat(p)&&(p=x.noExponents(p),a.yValueDecimal=Math.max(a.yValueDecimal,p.toString().split(".")[1].length)),o>c[u][h]&&c[u][h]<0&&(o=c[u][h])):a.hasNullValues=!0}}return"rangeBar"===r.chart.type&&a.seriesRangeStart.length&&a.isBarHorizontal&&(o=t),"bar"===r.chart.type&&(o<0&&n<0&&(n=0),o===Number.MIN_VALUE&&(o=0)),{minY:o,maxY:n,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var i=0;i<e.series.length;i++){var r=this.getMinYMaxY(i,s,null,i+1);e.minYArr.push(r.minY),e.maxYArr.push(r.maxY),s=r.lowestY}var a=this.getMinYMaxY(0,s,null,e.series.length);if(e.minY=a.minY,e.maxY=a.maxY,s=a.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==e.maxY){var n=e.maxY-s;(s>=0&&s<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(n=0),e.minY=s-5*n/100,s>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*n/100}return t.yaxis.forEach(function(t,s){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[s]=t.max:"function"==typeof t.max&&(e.maxYArr[s]=t.max(e.isMultipleYAxis?e.maxYArr[s]:e.maxY)),e.maxY=e.maxYArr[s]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[s]=t.min:"function"==typeof t.min&&(e.minYArr[s]=t.min(e.isMultipleYAxis?e.minYArr[s]===Number.MIN_VALUE?0:e.minYArr[s]:e.minY)),e.minY=e.minYArr[s])}),e.isBarHorizontal&&["min","max"].forEach(function(s){void 0!==t.xaxis[s]&&"number"==typeof t.xaxis[s]&&("min"===s?e.minY=t.xaxis[s]:e.maxY=t.xaxis[s])}),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=s,e.yAxisScale.forEach(function(t,s){e.minYArr[s]=t.niceMin,e.maxYArr[s]=t.niceMax})):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var s=0;s<e.labels[t].length;s++)null!==e.labels[t][s]&&x.isNumber(e.labels[t][s])&&(e.maxX=Math.max(e.maxX,e.labels[t][s]),e.initialMaxX=Math.max(e.maxX,e.labels[t][s]),e.minX=Math.min(e.minX,e.labels[t][s]),e.initialMinX=Math.min(e.minX,e.labels[t][s]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i;if(void 0===t.xaxis.tickAmount?(i=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&0!==e.dataPoints&&(i=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(i=e.maxX-e.minX-1)):i=t.xaxis.tickAmount,e.xTickAmount=i,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var r=[],a=e.minX-1;a<e.maxX;a++)r.push(a+1);e.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,i,i),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var s=0;s<e.seriesZ[t].length;s++)null!==e.seriesZ[t][s]&&x.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new E(this.ctx);if("datetime"===t.xaxis.type){var i=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var r=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,s){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort(function(e,t){return e-t}),i.forEach(function(t,s){if(s>0){var r=t-i[s-1];r>0&&(e.minXDiff=Math.min(r,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.config.series.map(function(e){return e.name})]);var i={},r={};s.forEach(function(s){i[s]=[],r[s]=[],e.w.config.series.map(function(e,t){return s.indexOf(e.name)>-1?t:null}).filter(function(e){return null!==e}).forEach(function(e){for(var a=0;a<t.series[t.maxValsInArrayIndex].length;a++)void 0===i[s][a]&&(i[s][a]=0,r[s][a]=0),null!==t.series[e][a]&&x.isNumber(t.series[e][a])&&(t.series[e][a]>0?i[s][a]+=parseFloat(t.series[e][a])+1e-4:r[s][a]+=parseFloat(t.series[e][a]))})}),Object.entries(i).forEach(function(e){var s=p(e,1)[0];i[s].forEach(function(e,a){t.maxY=Math.max(t.maxY,i[s][a]),t.minY=Math.min(t.minY,r[s][a])})})}}}]),e}(),$=function(){function e(t,s){a(this,e),this.ctx=t,this.elgrid=s,this.w=t.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===i.config.xaxis.position&&(this.xAxisoffX=i.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(t)}return o(e,[{key:"drawYaxis",value:function(e){var t=this,s=this.w,i=new y(this.ctx),r=s.config.yaxis[e].labels.style,a=r.fontSize,n=r.fontFamily,o=r.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+s.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var d=s.globals.yAxisScale[e].result.length-1,u=s.globals.gridHeight/d,h=s.globals.translateY,p=s.globals.yLabelFormatters[e],m=s.globals.yAxisScale[e].result.slice();m=this.axesUtils.checkForReversedLabels(e,m);var f="";if(s.config.yaxis[e].labels.show)for(var g=function(l){var g=m[l];g=p(g,l,s);var x=s.config.yaxis[e].labels.padding;s.config.yaxis[e].opposite&&0!==s.config.yaxis.length&&(x*=-1);var b="end";s.config.yaxis[e].opposite&&(b="start"),"left"===s.config.yaxis[e].labels.align?b="start":"center"===s.config.yaxis[e].labels.align?b="middle":"right"===s.config.yaxis[e].labels.align&&(b="end");var v=t.axesUtils.getYAxisForeColor(r.colors,e),y=i.drawText({x:x,y:h+d/10+s.config.yaxis[e].labels.offsetY+1,text:g,textAnchor:b,fontSize:a,fontFamily:n,fontWeight:o,maxWidth:s.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(v)?v[l]:v,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+r.cssClass});l===d&&(f=y),c.add(y);var w=document.createElementNS(s.globals.SVGNS,"title");if(w.textContent=Array.isArray(g)?g.join(" "):g,y.node.appendChild(w),0!==s.config.yaxis[e].labels.rotate){var j=i.rotateAroundCenter(f.node),N=i.rotateAroundCenter(y.node);y.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," ").concat(j.x," ").concat(N.y,")"))}h+=u},x=d;x>=0;x--)g(x);if(void 0!==s.config.yaxis[e].title.text){var b=i.group({class:"apexcharts-yaxis-title"}),v=0;s.config.yaxis[e].opposite&&(v=s.globals.translateYAxisX[e]);var w=i.drawText({x:v,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[e].title.offsetY,text:s.config.yaxis[e].title.text,textAnchor:"end",foreColor:s.config.yaxis[e].title.style.color,fontSize:s.config.yaxis[e].title.style.fontSize,fontWeight:s.config.yaxis[e].title.style.fontWeight,fontFamily:s.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[e].title.style.cssClass});b.add(w),l.add(b)}var j=s.config.yaxis[e].axisBorder,N=31+j.offsetX;if(s.config.yaxis[e].opposite&&(N=-31-j.offsetX),j.show){var k=i.drawLine(N,s.globals.translateY+j.offsetY-2,N,s.globals.gridHeight+s.globals.translateY+j.offsetY+2,j.color,0,j.width);l.add(k)}return s.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(N,d,j,s.config.yaxis[e].axisTicks,e,u,l),l}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new y(this.ctx),i=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(r);var a=t.globals.yAxisScale[e].result.length-1,n=t.globals.gridWidth/a+.1,o=n+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,c=t.globals.yAxisScale[e].result.slice(),d=t.globals.timescaleLabels;d.length>0&&(this.xaxisLabels=d.slice(),a=(c=d.slice()).length),c=this.axesUtils.checkForReversedLabels(e,c);var u=d.length;if(t.config.xaxis.labels.show)for(var h=u?0:a;u?h<u:h>=0;u?h++:h--){var p=c[h];p=l(p,h,t);var m=t.globals.gridWidth+t.globals.padHorizontal-(o-n+t.config.xaxis.labels.offsetX);if(d.length){var f=this.axesUtils.getLabel(c,d,m,h,this.drawnLabels,this.xaxisFontSize);m=f.x,p=f.text,this.drawnLabels.push(f.text),0===h&&t.globals.skipFirstTimelinelabel&&(p=""),h===c.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var g=s.drawText({x:m,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});r.add(g),g.tspan(p);var x=document.createElementNS(t.globals.SVGNS,"title");x.textContent=p,g.node.appendChild(x),o+=n}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new y(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var r=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(r-=15);var a=s.drawLine(t.globals.padHorizontal+r+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new y(this.ctx);if(void 0!==t.config.xaxis.title.text){var i=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});i.add(r),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,i=new y(this.ctx),r={width:0,height:0},a={width:0,height:0},n=s.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==n&&(r=n.getBoundingClientRect());var o=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==o&&(a=o.getBoundingClientRect()),null!==o){var l=this.xPaddingForYAxisTitle(e,r,a,t);o.setAttribute("x",l.xPos-(t?10:0))}if(null!==o){var c=i.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,i){var r=this.w,a=0,n=0,o=10;return void 0===r.config.yaxis[e].title.text||e<0?{xPos:n,padd:0}:(i?(n=t.width+r.config.yaxis[e].title.offsetX+s.width/2+o/2,0===(a+=1)&&(n-=o/2)):(n=-1*t.width+r.config.yaxis[e].title.offsetX+o/2+s.width/2,r.globals.isBarHorizontal&&(o=25,n=-1*t.width-r.config.yaxis[e].title.offsetX-o)),{xPos:n,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,i=0,r=0,a=18,n=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.map(function(o,l){var c=s.globals.ignoreYAxisIndexes.indexOf(l)>-1||!o.show||o.floating||0===e[l].width,d=e[l].width+t[l].width;o.opposite?s.globals.isBarHorizontal?(r=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[l]=r-o.labels.offsetX):(r=s.globals.gridWidth+s.globals.translateX+n,c||(n=n+d+20),s.globals.translateYAxisX[l]=r-o.labels.offsetX+20):(i=s.globals.translateX-a,c||(a=a+d+20),s.globals.translateYAxisX[l]=i+o.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=x.listToArray(t)).forEach(function(t,s){var i=e.config.yaxis[s];if(i&&!i.floating&&void 0!==i.labels.align){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"));a=x.listToArray(a);var n=r.getBoundingClientRect();"left"===i.labels.align?(a.forEach(function(e,t){e.setAttribute("text-anchor","start")}),i.opposite||r.setAttribute("transform","translate(-".concat(n.width,", 0)"))):"center"===i.labels.align?(a.forEach(function(e,t){e.setAttribute("text-anchor","middle")}),r.setAttribute("transform","translate(".concat(n.width/2*(i.opposite?1:-1),", 0)"))):"right"===i.labels.align&&(a.forEach(function(e,t){e.setAttribute("text-anchor","end")}),i.opposite&&r.setAttribute("transform","translate(".concat(n.width,", 0)")))}})}}]),e}(),Q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.documentEvent=x.bind(this.documentEvent,this)}return o(e,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var i=s.globals.events[e].indexOf(t);-1!==i&&s.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=s.globals.events[e],r=i.length,a=0;a<r;a++)i[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(e){i.addEventListener(e,function(e){var i=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,s,i):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,s,i):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,s,i),s.ctx.events.fireEvent("click",[e,s,i]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if("click"===e.type){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==s&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),K=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter(function(t){return t.name===e})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=x.extend(C,s);this.w.globals.locale=i.options}}]),e}(),Z=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawAxis",value:function(e,t){var s,i,r=this,a=this.w.globals,n=this.w.config,o=new V(this.ctx,t),l=new $(this.ctx,t);a.axisCharts&&"radar"!==e&&(a.isBarHorizontal?(i=l.drawYaxisInversed(0),s=o.drawXaxisInversed(0),a.dom.elGraphical.add(s),a.dom.elGraphical.add(i)):(s=o.drawXaxis(),a.dom.elGraphical.add(s),n.yaxis.map(function(e,t){if(-1===a.ignoreYAxisIndexes.indexOf(t)&&(i=l.drawYaxis(t),a.dom.Paper.add(i),"back"===r.w.config.grid.position)){var s=a.dom.Paper.children()[1];s.remove(),a.dom.Paper.add(s)}})))}}]),e}(),J=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new y(this.ctx),s=new v(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,n=i.colorFrom,o=i.colorTo,l=i.opacityFrom,c=i.opacityTo,d=i.stops,u=r.enabled,h=r.left,p=r.top,m=r.blur,f=r.color,g=r.opacity,b=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===a&&(b=t.drawGradient("vertical",n,o,l,c,null,d,null));var w=t.drawRect();1===e.config.xaxis.crosshairs.width&&(w=t.drawLine());var j=e.globals.gridHeight;(!x.isNumber(j)||j<0)&&(j=0);var N=e.config.xaxis.crosshairs.width;(!x.isNumber(N)||N<0)&&(N=0),w.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:j,width:N,height:j,fill:b,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),u&&(w=s.dropShadow(w,{left:h,top:p,blur:m,color:f,opacity:g})),e.globals.dom.elGraphical.add(w)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new y(this.ctx),s=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-i,0,e.globals.gridWidth+i,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var a=t.drawLine(-i,0,e.globals.gridWidth+i,0,s.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),e}(),ee=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,i=s.config;if(0!==i.responsive.length){var r=i.responsive.slice();r.sort(function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0}).reverse();var a=new M({}),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r[0].breakpoint,n=window.innerWidth>0?window.innerWidth:screen.width;if(n>i){var o=w.extendArrayProps(a,s.globals.initialConfig,s);e=x.extend(o,e),e=x.extend(s.config,e),t.overrideResponsiveOptions(e)}else for(var l=0;l<r.length;l++)n<r[l].breakpoint&&(e=w.extendArrayProps(a,r[l].options,s),e=x.extend(s.config,e),t.overrideResponsiveOptions(e))};if(e){var o=w.extendArrayProps(a,e,s);o=x.extend(s.config,o),n(o=x.extend(o,e))}else n({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new M(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),te=function(){function e(t){a(this,e),this.ctx=t,this.colors=[],this.w=t.w;var s=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===s.config.chart.type&&s.config.plotOptions.treemap.distributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.distributed,this.isBarDistributed=s.config.plotOptions.bar.distributed&&("bar"===s.config.chart.type||"rangeBar"===s.config.chart.type)}return o(e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e,t=this,s=this.w,i=new x;if(s.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(s.config.theme.mode)),void 0===s.config.colors||0===(null===(e=s.config.colors)||void 0===e?void 0:e.length)?s.globals.colors=this.predefined():(s.globals.colors=s.config.colors,Array.isArray(s.config.colors)&&s.config.colors.length>0&&"function"==typeof s.config.colors[0]&&(s.globals.colors=s.config.series.map(function(e,i){var r=s.config.colors[i];return r||(r=s.config.colors[0]),"function"==typeof r?(t.isColorFn=!0,r({value:s.globals.axisCharts?s.globals.series[i][0]?s.globals.series[i][0]:0:s.globals.series[i],seriesIndex:i,dataPointIndex:i,w:s})):r}))),s.globals.seriesColors.map(function(e,t){e&&(s.globals.colors[t]=e)}),s.config.theme.monochrome.enabled){var r=[],a=s.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=s.globals.series[0].length*s.globals.series.length);for(var n=s.config.theme.monochrome.color,o=1/(a/s.config.theme.monochrome.shadeIntensity),l=s.config.theme.monochrome.shadeTo,c=0,d=0;d<a;d++){var u=void 0;"dark"===l?(u=i.shadeColor(-1*c,n),c+=o):(u=i.shadeColor(c,n),c+=o),r.push(u)}s.globals.colors=r.slice()}var h=s.globals.colors.slice();this.pushExtraColors(s.globals.colors),["fill","stroke"].forEach(function(e){void 0===s.config[e].colors?s.globals[e].colors=t.isColorFn?s.config.colors:h:s.globals[e].colors=s.config[e].colors.slice(),t.pushExtraColors(s.globals[e].colors)}),void 0===s.config.dataLabels.style.colors?s.globals.dataLabels.style.colors=h:s.globals.dataLabels.style.colors=s.config.dataLabels.style.colors.slice(),this.pushExtraColors(s.globals.dataLabels.style.colors,50),void 0===s.config.plotOptions.radar.polygons.fill.colors?s.globals.radarPolygons.fill.colors=["dark"===s.config.theme.mode?"#424242":"none"]:s.globals.radarPolygons.fill.colors=s.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(s.globals.radarPolygons.fill.colors,20),void 0===s.config.markers.colors?s.globals.markers.colors=h:s.globals.markers.colors=s.config.markers.colors.slice(),this.pushExtraColors(s.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=t||i.globals.series.length;if(null===s&&(s=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.colorScale.inverse),s&&i.globals.series.length&&(r=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<r)for(var a=r-e.length,n=0;n<a;n++)e.push(e[n])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",s=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",i=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=i,e.theme.palette=s,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),e}(),se=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s="title"===e?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,r=s.offsetY,a="middle";if("left"===s.align?(i=10,a="start"):"right"===s.align&&(i=t.globals.svgWidth-10,a="end"),i+=s.offsetX,r=r+parseInt(s.style.fontSize,10)+s.margin/2,void 0!==s.text){var n=new y(this.ctx).drawText({x:i,y:r,text:s.text,textAnchor:a,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});n.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(n)}}}]),e}(),ie=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,i=0,r="title"===e?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==a&&!r){var n=a.getBoundingClientRect();s=n.width,i=t.globals.axisCharts?n.height+5:n.height}return{width:s,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},x.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:0===s.height?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var i=t.map(function(e,t){return Array.isArray(e)?e.length:1}),r=Math.max.apply(Math,m(i));s=t[i.indexOf(r)]}return s}}]),e}(),re=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===s.length&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,a=x.getLargestStringFromArr(s),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s);t.globals.isBarHorizontal&&(n=a=t.globals.yAxisScale[0].result.reduce(function(e,t){return e.length>t.length?e:t},0));var o=new R(this.dCtx.ctx),l=a;a=o.xLabelFormat(r,a,l,{i:void 0,dateFormatter:new E(this.dCtx.ctx).formatDate,w:t}),n=o.xLabelFormat(r,n,l,{i:void 0,dateFormatter:new E(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===a||""===String(a).trim())&&(n=a="1");var c=new y(this.dCtx.ctx),d=c.getTextRects(a,t.config.xaxis.labels.style.fontSize),u=d;if(a!==n&&(u=c.getTextRects(n,t.config.xaxis.labels.style.fontSize)),(e={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var h=function(e){return c.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};d=h(a),a!==n&&(u=h(n)),e.height=(d.height>u.height?d.height:u.height)/1.5,e.width=d.width>u.width?d.width:u.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,i=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map(function(e){return e.title}),a=x.getLargestStringFromArr(r),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,r),o=new y(this.dCtx.ctx),l=o.getTextRects(a,i),c=l;return a!==n&&(c=o.getTextRects(n,i)),s={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(void 0!==e.config.xaxis.title.text){var i=new y(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,s=i.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(e){return e.value}),i=s.reduce(function(e,t){return void 0===e?0:e.length>t.length?e:t},0);return 1.05*(e=new y(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,i=s.globals,r=s.config,a=r.xaxis.type,n=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var o=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal;r.yaxis.forEach(function(e,l){o?(t.dCtx.gridPad.left<n&&(t.dCtx.xPadLeft=n/2+1),t.dCtx.xPadRight=n/2+1):function(e,o){var l;r.yaxis.length>1&&(l=o,-1!==i.collapsedSeriesIndices.indexOf(l))||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var o=t.dCtx.timescaleLabels[0],l=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+n/1.75-t.dCtx.yAxisWidthRight,c=o.position-n/1.75+t.dCtx.yAxisWidthLeft,d="right"===s.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;l>i.svgWidth-i.translateX-d&&(i.skipLastTimelinelabel=!0),c<-(e.show&&!e.floating||"bar"!==r.chart.type&&"candlestick"!==r.chart.type&&"rangeBar"!==r.chart.type&&"boxPlot"!==r.chart.type?10:n/1.75)&&(i.skipFirstTimelinelabel=!0)}else"datetime"===a?t.dCtx.gridPad.right<n&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):"datetime"!==a&&t.dCtx.gridPad.right<n/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!s.config.xaxis.labels.trim&&("between"!==s.config.xaxis.tickPlacement||s.globals.isBarHorizontal)&&(t.dCtx.xPadRight=n/2+1)}(e)}(e,l)})}}]),e}(),ae=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],i=10,r=new X(this.dCtx.ctx);return t.config.yaxis.map(function(a,n){var o=t.globals.yAxisScale[n],l=0;if(!r.isYAxisHidden(n)&&a.labels.show&&void 0!==a.labels.minWidth&&(l=a.labels.minWidth),!r.isYAxisHidden(n)&&a.labels.show&&o.result.length){var c=t.globals.yLabelFormatters[n],d=o.niceMin===Number.MIN_VALUE?0:o.niceMin,u=String(d).length>String(o.niceMax).length?d:o.niceMax,h=c(u,{seriesIndex:n,dataPointIndex:-1,w:t}),p=h;if(void 0!==h&&0!==h.length||(h=u),t.globals.isBarHorizontal){i=0;var m=t.globals.labels.slice();h=c(h=x.getLargestStringFromArr(m),{seriesIndex:n,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(h,m)}var f=new y(e.dCtx.ctx),g="rotate(".concat(a.labels.rotate," 0 0)"),b=f.getTextRects(h,a.labels.style.fontSize,a.labels.style.fontFamily,g,!1),v=b;h!==p&&(v=f.getTextRects(p,a.labels.style.fontSize,a.labels.style.fontFamily,g,!1)),s.push({width:(l>v.width||l>b.width?l:v.width>b.width?v.width:b.width)+i,height:v.height>b.height?v.height:b.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,s=[];return t.config.yaxis.map(function(t,i){if(t.show&&void 0!==t.title.text){var r=new y(e.dCtx.ctx),a="rotate(".concat(t.title.rotate," 0 0)"),n=r.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,a,!1);s.push({width:n.width,height:n.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,i=0,r=e.globals.yAxisScale.length>1?10:0,a=new X(this.dCtx.ctx),n=function(n,o){var l,c=e.config.yaxis[o].floating,d=0;n.width>0&&!c?(d=n.width+r,l=o,e.globals.ignoreYAxisIndexes.indexOf(l)>-1&&(d=d-n.width-r)):d=c||a.isYAxisHidden(o)?0:5,e.config.yaxis[o].opposite?i+=d:s+=d,t+=d};return e.globals.yLabelsCoords.map(function(e,t){n(e,t)}),e.globals.yTitleCoords.map(function(e,t){n(e,t)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=i,t}}]),e}(),ne=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var s=function(e){return"bar"===e||"rangeBar"===e||"candlestick"===e||"boxPlot"===e},i=t.config.chart.type,r=0,a=s(i)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(a=t.globals.comboBarCount),t.globals.collapsedSeries.forEach(function(e){s(e.type)&&(a-=1)}),t.config.chart.stacked&&(a=1),(s(i)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&a>0){var n,o,l=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);l<=3&&(l=t.globals.dataPoints),n=l/e,t.globals.minXDiff&&t.globals.minXDiff/n>0&&(o=t.globals.minXDiff/n),o>e/2&&(o/=2),(r=o/a*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(r=1),r=r/(a>1?1:1.5)+5,t.globals.barPadForNumericAxis=r}return r}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,i=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach(function(s){void 0!==t.config[s].text?i+=t.config[s].margin:i+=e.dCtx.isSparkline||!t.globals.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(i+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight=s.gridHeight-r.height-a.height-i,s.translateY=s.translateY+r.height+a.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,i=new X(this.dCtx.ctx);s.config.yaxis.map(function(r,a){-1!==s.globals.ignoreYAxisIndexes.indexOf(a)||r.floating||i.isYAxisHidden(a)||(r.opposite&&(s.globals.translateX=s.globals.translateX-(t[a].width+e[a].width)-parseInt(s.config.yaxis[a].labels.style.fontSize,10)/1.2-12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),e}(),oe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ie(this),this.dimYAxis=new ae(this),this.dimXAxis=new re(this),this.dimGrid=new ne(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return o(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(t){var s=p(t,2),i=s[0],r=s[1];e.gridPad[i]=Math.max(r,e.w.globals.markers.largestSize/1.5)}),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*i,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(i>0?i+4:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(e,s){t.globals.yLabelsCoords.push({width:i[s].width,index:s}),t.globals.yTitleCoords.push({width:r[s].width,index:s})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),n=this.dimXAxis.getxAxisGroupLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,o,n),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-o.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-a.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var d=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,c=s.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,c=0,d=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(a);var u=function(){s.translateX=l,s.gridHeight=s.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-l};switch("top"===t.config.xaxis.position&&(d=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=d,u();break;case"top":s.translateY=this.lgRect.height+d,u();break;case"left":s.translateY=d,s.translateX=this.lgRect.width+l,s.gridHeight=s.svgHeight-c-12,s.gridWidth=s.svgWidth-this.lgRect.width-l;break;case"right":s.translateY=d,s.translateX=l,s.gridHeight=s.svgHeight-c-12,s.gridWidth=s.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,i),new $(this.ctx).setYAxisXPosition(i,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var r="pie"===s.chart.type||"polarArea"===s.chart.type||"donut"===s.chart.type?"pie":"radialBar",a=s.plotOptions[r].offsetY,n=s.plotOptions[r].offsetX;if(!s.legend.show||s.legend.floating)return t.gridHeight=t.svgHeight-s.grid.padding.left+s.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=a,void(t.translateX=n+(t.svgWidth-t.gridWidth)/2);switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=n+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=n+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight="auto"!==s.chart.height?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=n+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight="auto"!==s.chart.height?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=n+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var i=this.w,r=i.globals.hasXaxisGroups?2:1,a=s.height+e.height+t.height,n=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,o=i.globals.rotateXLabels?22:10,l=i.globals.rotateXLabels&&"bottom"===i.config.legend.position?10:0;this.xAxisHeight=a*n+r*o+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,d=0;i.config.yaxis.forEach(function(e){c+=e.labels.minWidth,d+=e.labels.maxWidth}),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),e}(),le=function(){function e(t){a(this,e),this.w=t.w,this.lgCtx=t}return o(e,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,i=this.w;if(i.globals.axisCharts||"radialBar"===i.config.chart.type){i.globals.resized=!0;var r=null,a=null;i.globals.risingSeries=[],i.globals.axisCharts?(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(e){s.riseCollapsedSeries(e.cs,e.csi,a)}):this.hideSeries({seriesEl:r,realIndex:a})}else{var n=i.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),o=i.config.chart.type;if("pie"===o||"polarArea"===o||"donut"===o){var l=i.config.plotOptions.pie.donut.labels;new y(this.lgCtx.ctx).pathMouseDown(n.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(n.members[0].node,l)}n.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,s=e.realIndex,i=this.w,r=x.clone(i.config.series);if(i.globals.axisCharts){var a=!1;if(i.config.yaxis[s]&&i.config.yaxis[s].show&&i.config.yaxis[s].showAlways&&(a=!0,i.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0&&(i.globals.ancillaryCollapsedSeries.push({index:s,data:r[s].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),i.globals.ancillaryCollapsedSeriesIndices.push(s))),!a){i.globals.collapsedSeries.push({index:s,data:r[s].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),i.globals.collapsedSeriesIndices.push(s);var n=i.globals.risingSeries.indexOf(s);i.globals.risingSeries.splice(n,1)}}else i.globals.collapsedSeries.push({index:s,data:r[s]}),i.globals.collapsedSeriesIndices.push(s);for(var o=t.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));i.globals.allSeriesCollapsed=i.globals.collapsedSeries.length===i.config.series.length,r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var i=this.w,r=x.clone(i.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===s&&(i.globals.axisCharts?(r[s].data=e[a].data.slice(),e.splice(a,1),t.splice(a,1),i.globals.risingSeries.push(s)):(r[s]=e[a].data,e.splice(a,1),t.splice(a,1),i.globals.risingSeries.push(s)));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return t.globals.axisCharts?e.forEach(function(s,i){t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[])}):e.forEach(function(s,i){t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i]=0)}),e}}]),e}(),ce=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new le(this)}return o(e,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config;if((s.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),x.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===s.legend.position||"top"===s.legend.position?this.legendAlignHorizontal():"right"!==s.legend.position&&"left"!==s.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,s=t.config.legend.fontFamily,i=t.globals.seriesNames,r=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var a=t.config.plotOptions.heatmap.colorScale.ranges;i=a.map(function(e){return e.name?e.name:e.from+" - "+e.to}),r=a.map(function(e){return e.color})}else this.isBarsDistributed&&(i=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(i=t.config.legend.customLegendItems);for(var n=t.globals.legendFormatter,o=t.config.legend.inverseOrder,l=o?i.length-1:0;o?l>=0:l<=i.length-1;o?l--:l++){var c=n(i[l],{seriesIndex:l,w:t}),d=!1,u=!1;if(t.globals.collapsedSeries.length>0)for(var h=0;h<t.globals.collapsedSeries.length;h++)t.globals.collapsedSeries[h].index===l&&(d=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<t.globals.ancillaryCollapsedSeriesIndices.length;p++)t.globals.ancillaryCollapsedSeriesIndices[p]===l&&(u=!0);var m=document.createElement("span");m.classList.add("apexcharts-legend-marker");var f=t.config.legend.markers.offsetX,g=t.config.legend.markers.offsetY,b=t.config.legend.markers.height,v=t.config.legend.markers.width,j=t.config.legend.markers.strokeWidth,N=t.config.legend.markers.strokeColor,k=t.config.legend.markers.radius,S=m.style;S.background=r[l],S.color=r[l],S.setProperty("background",r[l],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[l]&&(S.background=t.config.legend.markers.fillColors[l]),void 0!==t.globals.seriesColors[l]&&(S.background=t.globals.seriesColors[l],S.color=t.globals.seriesColors[l]),S.height=Array.isArray(b)?parseFloat(b[l])+"px":parseFloat(b)+"px",S.width=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",S.left=(Array.isArray(f)?parseFloat(f[l]):parseFloat(f))+"px",S.top=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",S.borderWidth=Array.isArray(j)?j[l]:j,S.borderColor=Array.isArray(N)?N[l]:N,S.borderRadius=Array.isArray(k)?parseFloat(k[l])+"px":parseFloat(k)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[l]&&(m.innerHTML=t.config.legend.markers.customHTML[l]()):m.innerHTML=t.config.legend.markers.customHTML()),y.setAttrs(m,{rel:l+1,"data:collapsed":d||u}),(d||u)&&m.classList.add("apexcharts-inactive-legend");var C=document.createElement("div"),A=document.createElement("span");A.classList.add("apexcharts-legend-text"),A.innerHTML=Array.isArray(c)?c.join(" "):c;var T=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:t.config.legend.labels.colors;T||(T=t.config.chart.foreColor),A.style.color=T,A.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",A.style.fontWeight=t.config.legend.fontWeight,A.style.fontFamily=s||t.config.chart.fontFamily,y.setAttrs(A,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":d||u}),C.appendChild(m),C.appendChild(A);var E=new w(this.ctx);t.config.legend.showForZeroSeries||0===E.getSeriesTotalByIndex(l)&&E.seriesHaveSameValues(l)&&!E.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&C.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||E.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&C.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(C),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),C.classList.add("apexcharts-legend-series"),C.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",y.setAttrs(C,{rel:l+1,seriesName:x.escapeString(i[l]),"data:collapsed":d||u}),(d||u)&&C.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||C.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,i=s.globals.dom.elLegendWrap,r=i.getBoundingClientRect(),a=0,n=0;if("bottom"===s.config.legend.position)n+=s.globals.svgHeight-r.height/2;else if("top"===s.config.legend.position){var o=new oe(this.ctx),l=o.dimHelpers.getTitleSubtitleCoords("title").height,c=o.dimHelpers.getTitleSubtitleCoords("subtitle").height;n=n+(l>0?l-10:0)+(c>0?c-10:0)}i.style.position="absolute",a=a+e+s.config.legend.offsetX,n=n+t+s.config.legend.offsetY,i.style.left=a+"px",i.style.top=n+"px","bottom"===s.config.legend.position?(i.style.top="auto",i.style.bottom=5-s.config.legend.offsetY+"px"):"right"===s.config.legend.position&&(i.style.left="auto",i.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(e){i.style[e]&&(i.style[e]=parseInt(s.config.legend[e],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=this.legendHelpers.getLegendBBox(),s=new oe(this.ctx),i=s.dimHelpers.getTitleSubtitleCoords("title"),r=s.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;"bottom"===e.config.legend.position?a=-t.clwh/1.8:"top"===e.config.legend.position&&(a=i.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),s=0;"left"===e.config.legend.position&&(s=20),"right"===e.config.legend.position&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(s){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new H(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new H(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,i="true"===e.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var a=this.w.config.legend.markers.onClick;"function"==typeof a&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,i)}}}]),e}(),de=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var s=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=s.globals.minX,this.maxX=s.globals.maxX}return o(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},i=s();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(s());var a=[],n=function(s,i,r){var n=s.toLowerCase();e.t[n]&&t.config.chart.zoom.enabled&&a.push({el:i,icon:"string"==typeof e.t[n]?e.t[n]:r,title:e.localeValues[s],class:"apexcharts-".concat(n,"-icon")})};n("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),n("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var o=function(s){e.t[s]&&t.config.chart[s].enabled&&a.push({el:"zoom"===s?e.elZoom:e.elSelection,icon:"string"==typeof e.t[s]?e.t[s]:"zoom"===s?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===s?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(s,"-icon")})};o("zoom"),o("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),n("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&a.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)a.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});a.forEach(function(e,t){e.index&&x.moveIndexInArray(a,t,e.index)});for(var c=0;c<a.length;c++)y.setAttrs(a[c].el,{class:a[c].class,title:a[c].title}),a[c].el.innerHTML=a[c].icon,i.appendChild(a[c].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),y.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,y.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var s="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,s="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(t){t&&t.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,s=(this.minX+t)/2,i=(this.maxX+t)/2,r=this._getNewMinXMaxX(s,i);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,s=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(s,i);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(void 0!==e||void 0!==t){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var i={min:e,max:t},r=this.getBeforeZoomRange(i);r&&(i=r.xaxis);var a={xaxis:i},n=x.clone(s.globals.initialConfig.yaxis);s.config.chart.zoom.autoScaleYaxis&&(n=new q(this.ctx).autoScaleY(this.ctx,n,{xaxis:i})),s.config.chart.group||(a.yaxis=n),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,n)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return"function"==typeof this.ev.beforeZoom&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new Y(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(e){var t=e.w;if(t.globals.lastXAxis.min=void 0,t.globals.lastXAxis.max=void 0,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var s=t.config.chart.events.beforeResetZoom(e,t);s&&e.updateHelpers.revertDefaultAxisMinMax(s)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var i=e.ctx.series.emptyCollapsedSeries(x.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(i,t.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),ue=function(){c(t,de);var e=h(t);function t(s){var i;return a(this,t),(i=e.call(this,s)).ctx=s,i.w=s.w,i.dragged=!1,i.graphics=new y(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i}return o(t,[{key:"init",value:function(e){var t=this,s=e.xyRatios,i=this.w,r=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),"x"===i.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===i.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(e){t.hoverArea.addEventListener(e,r.svgMouseEvents.bind(r,s),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var s=this.w,i=this,r=this.ctx.toolbar,a=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,n=s.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===n?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(n),this.shiftWasPressed=!1),t.target){var o,l=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(o=t.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||o&&o.contains("apexcharts-toolbar"))){if(i.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,i.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var c=i.gridRect.getBoundingClientRect();i.startX=i.clientX-c.left,i.startY=i.clientY-c.top,i.dragged=!1,i.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(i.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:a,xyRatios:e})):(i.w.globals.mousedown&&s.globals.zoomEnabled||i.w.globals.mousedown&&s.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:a}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var d=i.gridRect.getBoundingClientRect();i.w.globals.mousedown&&(i.endX=i.clientX-d.left,i.endY=i.clientY-d.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(s.globals.zoomEnabled||s.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:a}),s.globals.panEnabled&&s.config.xaxis.convertedCatToNumeric&&i.delayedPanScrolled()),s.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var s=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,i={x:s,y:0,width:e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-s,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(i),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,s=e.y,i=e.width,r=e.height,a=e.translateX,n=void 0===a?0:a,o=e.translateY,l=void 0===o?0:o,c=this.w,d=this.zoomRect,u=this.selectionRect;if(this.dragged||null!==c.globals.selection){var h={transform:"translate("+n+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),d.attr({x:t,y:s,width:i,height:r,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),y.setAttrs(d.node,h)),c.globals.selectionEnabled&&(u.attr({x:t,y:s,width:i>0?i:0,height:r>0?r:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),y.setAttrs(u.node,h))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t,s=e.context,i=e.zoomtype,r=this.w,a=s,n=this.gridRect.getBoundingClientRect(),o=a.startX-1,l=a.startY,c=!1,d=!1,u=a.clientX-n.left-o,h=a.clientY-n.top-l;return Math.abs(u+o)>r.globals.gridWidth?u=r.globals.gridWidth-o:a.clientX-n.left<0&&(u=o),o>a.clientX-n.left&&(c=!0,u=Math.abs(u)),l>a.clientY-n.top&&(d=!0,h=Math.abs(h)),t="x"===i?{x:c?o-u:o,y:0,width:u,height:r.globals.gridHeight}:"y"===i?{x:0,y:d?l-h:l,width:r.globals.gridWidth,height:h}:{x:c?o-u:o,y:d?l-h:l,width:u,height:h},a.drawSelectionRect(t),a.selectionDragging("resizing"),t}},{key:"selectionDragging",value:function(e,t){var s=this,i=this.w,r=this.xyRatios,a=this.selectionRect,n=0;"resizing"===e&&(n=30);var o=function(e){return parseFloat(a.node.getAttribute(e))},l={x:o("x"),y:o("y"),width:o("width"),height:o("height")};i.globals.selection=l,"function"==typeof i.config.chart.events.selection&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var e=s.gridRect.getBoundingClientRect(),t=a.node.getBoundingClientRect(),n={xaxis:{min:i.globals.xAxisScale.niceMin+(t.left-e.left)*r.xRatio,max:i.globals.xAxisScale.niceMin+(t.right-e.left)*r.xRatio},yaxis:{min:i.globals.yAxisScale[0].niceMin+(e.bottom-t.bottom)*r.yRatio[0],max:i.globals.yAxisScale[0].niceMax-(t.top-e.top)*r.yRatio[0]}};i.config.chart.events.selection(s.ctx,n),i.config.chart.brush.enabled&&void 0!==i.config.chart.events.brushScrolled&&i.config.chart.events.brushScrolled(s.ctx,n)},n))}},{key:"selectionDrawn",value:function(e){var t=e.context,s=e.zoomtype,i=this.w,r=t,a=this.xyRatios,n=this.ctx.toolbar;if(r.startX>r.endX){var o=r.startX;r.startX=r.endX,r.endX=o}if(r.startY>r.endY){var l=r.startY;r.startY=r.endY,r.endY=l}var c=void 0,d=void 0;i.globals.isRangeBar?(c=i.globals.yAxisScale[0].niceMin+r.startX*a.invertedYRatio,d=i.globals.yAxisScale[0].niceMin+r.endX*a.invertedYRatio):(c=i.globals.xAxisScale.niceMin+r.startX*a.xRatio,d=i.globals.xAxisScale.niceMin+r.endX*a.xRatio);var u=[],h=[];if(i.config.yaxis.forEach(function(e,t){u.push(i.globals.yAxisScale[t].niceMax-a.yRatio[t]*r.startY),h.push(i.globals.yAxisScale[t].niceMax-a.yRatio[t]*r.endY)}),r.dragged&&(r.dragX>10||r.dragY>10)&&c!==d)if(i.globals.zoomEnabled){var p=x.clone(i.globals.initialConfig.yaxis),m=x.clone(i.globals.initialConfig.xaxis);if(i.globals.zoomed=!0,i.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),d=Math.floor(d),c<1&&(c=1,d=i.globals.dataPoints),d-c<2&&(d=c+1)),"xy"!==s&&"x"!==s||(m={min:c,max:d}),"xy"!==s&&"y"!==s||p.forEach(function(e,t){p[t].min=h[t],p[t].max=u[t]}),i.config.chart.zoom.autoScaleYaxis){var f=new q(r.ctx);p=f.autoScaleY(r.ctx,p,{xaxis:m})}if(n){var g=n.getBeforeZoomRange(m,p);g&&(m=g.xaxis?g.xaxis:m,p=g.yaxis?g.yaxis:p)}var b={xaxis:m};i.config.chart.group||(b.yaxis=p),r.ctx.updateHelpers._updateOptions(b,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof i.config.chart.events.zoomed&&n.zoomCallback(m,p)}else if(i.globals.selectionEnabled){var v,y=null;v={min:c,max:d},"xy"!==s&&"y"!==s||(y=x.clone(i.config.yaxis)).forEach(function(e,t){y[t].min=h[t],y[t].max=u[t]}),i.globals.selection=r.selection,"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(r.ctx,{xaxis:v,yaxis:y})}}},{key:"panDragging",value:function(e){var t=e.context,s=this.w,i=t;if(void 0!==s.globals.lastClientPosition.x){var r=s.globals.lastClientPosition.x-i.clientX,a=s.globals.lastClientPosition.y-i.clientY;Math.abs(r)>Math.abs(a)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(a)&&r<0?this.moveDirection="right":Math.abs(a)>Math.abs(r)&&a>0?this.moveDirection="up":Math.abs(a)>Math.abs(r)&&a<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:i.clientX,y:i.clientY};var n=s.globals.isRangeBar?s.globals.minY:s.globals.minX,o=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;s.config.xaxis.convertedCatToNumeric||i.panScrolled(n,o)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,s=e.globals.maxX,i=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+i,s=e.globals.maxX+i):"right"===this.moveDirection&&(t=e.globals.minX-i,s=e.globals.maxX-i),t=Math.floor(t),s=Math.floor(s),this.updateScrolledChart({xaxis:{min:t,max:s}},t,s)}},{key:"panScrolled",value:function(e,t){var s=this.w,i=this.xyRatios,r=x.clone(s.globals.initialConfig.yaxis),a=i.xRatio,n=s.globals.minX,o=s.globals.maxX;s.globals.isRangeBar&&(a=i.invertedYRatio,n=s.globals.minY,o=s.globals.maxY),"left"===this.moveDirection?(e=n+s.globals.gridWidth/15*a,t=o+s.globals.gridWidth/15*a):"right"===this.moveDirection&&(e=n-s.globals.gridWidth/15*a,t=o-s.globals.gridWidth/15*a),s.globals.isRangeBar||(e<s.globals.initialMinX||t>s.globals.initialMaxX)&&(e=n,t=o);var l={min:e,max:t};s.config.chart.zoom.autoScaleYaxis&&(r=new q(this.ctx).autoScaleY(this.ctx,r,{xaxis:l}));var c={xaxis:{min:e,max:t}};s.config.chart.group||(c.yaxis=r),this.updateScrolledChart(c,e,t)}},{key:"updateScrolledChart",value:function(e,t,s){var i=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof i.config.chart.events.scrolled&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:s}})}}]),t}(),he=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return o(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.elGrid,i=e.clientX,r=e.clientY,a=this.w,n=s.getBoundingClientRect(),o=n.width,l=n.height,c=o/(a.globals.dataPoints-1),d=l/a.globals.dataPoints,u=this.hasBars();!a.globals.comboCharts&&!u||a.config.xaxis.convertedCatToNumeric||(c=o/a.globals.dataPoints);var h=i-n.left-a.globals.barPadForNumericAxis,p=r-n.top;h<0||p<0||h>o||p>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(h/c),f=Math.floor(p/d);u&&!a.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(h/c),m-=1);var g=null,b=null,v=[],y=[];if(a.globals.seriesXvalues.forEach(function(e){v.push([e[0]+1e-6].concat(e))}),a.globals.seriesYvalues.forEach(function(e){y.push([e[0]+1e-6].concat(e))}),v=v.map(function(e){return e.filter(function(e){return x.isNumber(e)})}),y=y.map(function(e){return e.filter(function(e){return x.isNumber(e)})}),a.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),j=h*(w.width/o),N=p*(w.height/l);g=(b=this.closestInMultiArray(j,N,v,y)).index,m=b.j,null!==g&&(v=a.globals.seriesXvalues[g],m=(b=this.closestInArray(j,v)).index)}return a.globals.capturedSeriesIndex=null===g?-1:g,(!m||m<1)&&(m=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=f:a.globals.capturedDataPointIndex=m,{capturedSeries:g,j:a.globals.isBarHorizontal?f:m,hoverX:h,hoverY:p}}},{key:"closestInMultiArray",value:function(e,t,s,i){var r=this.w,a=0,n=null,o=-1;r.globals.series.length>1?a=this.getFirstActiveXArray(s):n=0;var l=s[a][0],c=Math.abs(e-l);if(s.forEach(function(t){t.forEach(function(t,s){var i=Math.abs(e-t);i<c&&(c=i,o=s)})}),-1!==o){var d=i[a][o],u=Math.abs(t-d);n=a,i.forEach(function(e,s){var i=Math.abs(t-e[o]);i<u&&(u=i,n=s)})}return{index:n,j:o}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,i=e.map(function(e,t){return e.length>0?t:-1}),r=0;r<i.length;r++)if(-1!==i[r]&&-1===t.globals.collapsedSeriesIndices.indexOf(r)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)){s=i[r];break}return s}},{key:"closestInArray",value:function(e,t){for(var s=t[0],i=null,r=Math.abs(e-s),a=0;a<t.length;a++){var n=Math.abs(e-t[a]);n<r&&(r=n,i=a)}return{index:i}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter(function(e){return void 0!==e[0]});if(s.length>0)for(var i=0;i<s.length-1;i++)void 0!==s[i][e]&&void 0!==s[i+1][e]&&s[i][e]!==s[i+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return m(e).reduce(function(e,t){return e+t.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return"number"==typeof e?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=m(e)).sort(function(e,t){var s=Number(e.getAttribute("data:realIndex")),i=Number(t.getAttribute("data:realIndex"));return i<s?1:i>s?-1:0});var t=[];return e.forEach(function(e){t.push(e.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return void 0===s&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;0===s.allTooltipSeriesGroups.length&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=s.allTooltipSeriesGroups,r=0;r<i.length;r++)"enable"===e?(i[r].classList.add("apexcharts-active"),i[r].style.display=t.config.tooltip.items.display):(i[r].classList.remove("apexcharts-active"),i[r].style.display="none")}}]),e}(),pe=function(){function e(t){a(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new he(t)}return o(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=void 0===t||t,i=e.ttItems,r=e.i,a=void 0===r?0:r,n=e.j,o=void 0===n?null:n,l=e.y1,c=e.y2,d=e.e,u=this.w;void 0!==u.config.tooltip.custom?this.handleCustomTooltip({i:a,j:o,y1:l,y2:c,w:u}):this.toggleActiveInactiveSeries(s);var h=this.getValuesToPrint({i:a,j:o});this.printLabels({i:a,j:o,values:h,ttItems:i,shared:s,e:d});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,r=e.i,a=e.j,n=e.values,o=e.ttItems,l=e.shared,c=e.e,d=this.w,u=[],h=function(e){return d.globals.seriesGoals[e]&&d.globals.seriesGoals[e][a]&&Array.isArray(d.globals.seriesGoals[e][a])},p=n.xVal,m=n.zVal,f=n.xAxisTTVal,g="",x=d.globals.colors[r];null!==a&&d.config.plotOptions.bar.distributed&&(x=d.globals.colors[a]);for(var b=function(e,n){var b=s.getFormatters(r);g=s.getSeriesName({fn:b.yLbTitleFormatter,index:r,seriesIndex:r,j:a}),"treemap"===d.config.chart.type&&(g=b.yLbTitleFormatter(String(d.config.series[r].data[a].x),{series:d.globals.series,seriesIndex:r,dataPointIndex:a,w:d}));var v=d.config.tooltip.inverseOrder?n:e;if(d.globals.axisCharts){var y=function(e){var t,s,i,r;return d.globals.isRangeData?b.yLbFormatter(null===(t=d.globals.seriesRangeStart)||void 0===t||null===(s=t[e])||void 0===s?void 0:s[a],{series:d.globals.seriesRangeStart,seriesIndex:e,dataPointIndex:a,w:d})+" - "+b.yLbFormatter(null===(i=d.globals.seriesRangeEnd)||void 0===i||null===(r=i[e])||void 0===r?void 0:r[a],{series:d.globals.seriesRangeEnd,seriesIndex:e,dataPointIndex:a,w:d}):b.yLbFormatter(d.globals.series[e][a],{series:d.globals.series,seriesIndex:e,dataPointIndex:a,w:d})};if(l)b=s.getFormatters(v),g=s.getSeriesName({fn:b.yLbTitleFormatter,index:v,seriesIndex:r,j:a}),x=d.globals.colors[v],t=y(v),h(v)&&(u=d.globals.seriesGoals[v][a].map(function(e){return{attrs:e,val:b.yLbFormatter(e.value,{seriesIndex:v,dataPointIndex:a,w:d})}}));else{var w,j=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");j&&(x=-1!==j.indexOf("url")?document.querySelector(j.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):j),t=y(r),h(r)&&Array.isArray(d.globals.seriesGoals[r][a])&&(u=d.globals.seriesGoals[r][a].map(function(e){return{attrs:e,val:b.yLbFormatter(e.value,{seriesIndex:r,dataPointIndex:a,w:d})}}))}}null===a&&(t=b.yLbFormatter(d.globals.series[r],i(i({},d),{},{seriesIndex:r,dataPointIndex:r}))),s.DOMHandling({i:r,t:v,j:a,ttItems:o,values:{val:t,goalVals:u,xVal:p,xAxisTTVal:f,zVal:m},seriesName:g,shared:l,pColor:x})},v=0,y=d.globals.series.length-1;v<d.globals.series.length;v++,y--)b(v,y)}},{key:"getFormatters",value:function(e){var t,s=this.w,i=s.globals.yLabelFormatters[e];return void 0!==s.globals.ttVal?Array.isArray(s.globals.ttVal)?(i=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(i=s.globals.ttVal.formatter,"function"==typeof s.globals.ttVal.title.formatter&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,s=e.index,i=e.seriesIndex,r=e.j,a=this.w;return t(String(a.globals.seriesNames[s]),{series:a.globals.series,seriesIndex:i,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,s=e.j,i=e.ttItems,r=e.values,a=e.seriesName,n=e.shared,o=e.pColor,l=this.w,c=this.ttCtx,d=r.val,u=r.goalVals,h=r.xVal,p=r.xAxisTTVal,m=r.zVal,f=null;f=i[t].children,l.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=o,f[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=h),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==p?p:h);var g=i[t].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=a||"");var x=i[t].querySelector(".apexcharts-tooltip-text-y-value");x&&(x.innerHTML=void 0!==d?d:""),f[0]&&f[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(o=l.config.tooltip.marker.fillColors[t]),f[0].style.backgroundColor=o),l.config.tooltip.marker.show||(f[0].style.display="none");var b=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),v=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(u.length&&l.globals.seriesGoals[t]){var y=function(){var e="<div >",t="<div>";u.forEach(function(s,i){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(s.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(s.attrs.name,"</div>"),t+="<div>".concat(s.val,"</div>")}),b.innerHTML=e+"</div>",v.innerHTML=t+"</div>"};n?l.globals.seriesGoals[t][s]&&Array.isArray(l.globals.seriesGoals[t][s])?y():(b.innerHTML="",v.innerHTML=""):y()}else b.innerHTML="",v.innerHTML="";null!==m&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==m?m:""),n&&f[0]&&(null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1?f[0].parentNode.style.display="none":f[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");s&&(s.classList.add("apexcharts-active"),s.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,i=this.w,r=this.ctx.series.filteredSeriesX(),a="",n="",o=null,l=null,c={series:i.globals.series,seriesIndex:t,dataPointIndex:s,w:i},d=i.globals.ttZFormatter;null===s?l=i.globals.series[t]:i.globals.isXNumeric&&"treemap"!==i.config.chart.type?(a=r[t][s],0===r[t].length&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][s])):a=void 0!==i.globals.labels[s]?i.globals.labels[s]:"";var u=a;return a=i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?new R(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new E(this.ctx).formatDate,w:this.w}):i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](u,c):i.globals.xLabelFormatter(u,c),void 0!==i.config.tooltip.x.formatter&&(a=i.globals.ttKeyFormatter(u,c)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(o=d(i.globals.seriesZ[t][s],i)),n="function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(u,c):a,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(n)?n.join(" "):n,zVal:o}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,i=e.y1,r=e.y2,a=e.w,n=this.ttCtx.getElTooltip(),o=a.config.tooltip.custom;Array.isArray(o)&&o[t]&&(o=o[t]),n.innerHTML=o({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:s,y1:i,y2:r,w:a})}}]),e}(),me=function(){function e(t){a(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return o(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.ttCtx,i=this.w,r=s.getElXCrosshairs(),a=e-s.xcrosshairsWidth/2,n=i.globals.labels.slice().length;if(null!==t&&(a=i.globals.gridWidth/n*t),null===r||i.globals.isBarHorizontal||(r.setAttribute("x",a),r.setAttribute("x1",a),r.setAttribute("x2",a),r.setAttribute("y2",i.globals.gridHeight),r.classList.add("apexcharts-active")),a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),s.isXAxisTooltipEnabled){var o=a;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(o=a+s.xcrosshairsWidth/2),this.moveXAxisTooltip(o)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&y.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&y.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(null!==s.xaxisTooltip&&0!==s.xcrosshairsWidth){s.xaxisTooltip.classList.add("apexcharts-active");var i,r=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,i=new y(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=i.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=r+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;null===s.yaxisTTEls&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+i,a=s.yaxisTTEls[e].getBoundingClientRect().height,n=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(n-=26),r-=a/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=r+"px",s.yaxisTTEls[e].style.left=n+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.ttCtx,a=r.getElTooltip(),n=r.tooltipRect,o=null!==s?parseFloat(s):1,l=parseFloat(e)+o+5,c=parseFloat(t)+o/2;if(l>i.globals.gridWidth/2&&(l=l-n.ttWidth-o-10),l>i.globals.gridWidth-n.ttWidth-10&&(l=i.globals.gridWidth-n.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){var d=r.getElGrid().getBoundingClientRect();(l=r.e.clientX-d.left)>i.globals.gridWidth/2&&(l-=r.tooltipRect.ttWidth),(c=r.e.clientY+i.globals.translateY-d.top)>i.globals.gridHeight/2&&(c-=r.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||n.ttHeight/2+c>i.globals.gridHeight&&(c=i.globals.gridHeight-n.ttHeight+i.globals.translateY);isNaN(l)||(l+=i.globals.translateX,a.style.left=l+"px",a.style.top=c+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,i=this.ttCtx;if(s.globals.markers.size[e]>0)for(var r=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,r[a]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,i,r=this.w,a=this.ttCtx,n=r.globals.pointsArray,o=a.tooltipUtil.getHoverMarkerSize(t),l=r.config.series[t].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){s=n[t][e][0],i=n[t][e][1]?n[t][e][1]:0;var c=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));c&&i<r.globals.gridHeight&&i>0&&(c.setAttribute("r",o),c.setAttribute("cx",s),c.setAttribute("cy",i)),this.moveXCrosshairs(s),a.fixedTooltip||this.moveTooltip(s,i,o)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,i=s.w,r=0,a=0,n=i.globals.pointsArray;t=new H(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var o=s.tooltipUtil.getHoverMarkerSize(t);n[t]&&(r=n[t][e][0],a=n[t][e][1]);var l=s.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<i.globals.series.length;c++){var d=n[c];if(i.globals.comboCharts&&void 0===d&&l.splice(c,0,null),d&&d.length){var u=n[c][e][1],h=void 0;if(l[c].setAttribute("cx",r),"rangeArea"===i.config.chart.type&&!i.globals.comboCharts){var p=e+i.globals.series[c].length;h=n[c][p][1],u-=Math.abs(u-h)/2}null!==u&&!isNaN(u)&&u<i.globals.gridHeight+o&&u+o>0?(l[c]&&l[c].setAttribute("r",o),l[c]&&l[c].setAttribute("cy",u)):l[c]&&l[c].setAttribute("r",0)}}this.moveXCrosshairs(r),s.fixedTooltip||this.moveTooltip(r,a||i.globals.gridHeight,o)}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,i=this.ttCtx,r=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length,a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;s.globals.isBarHorizontal&&(a=new H(this.ctx).getActiveConfigSeriesIndex("desc")+1);var n=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));n||"number"!=typeof t||(n=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"']")));var o=n?parseFloat(n.getAttribute("cx")):0,l=n?parseFloat(n.getAttribute("cy")):0,c=n?parseFloat(n.getAttribute("barWidth")):0,d=i.getElGrid().getBoundingClientRect(),u=n&&(n.classList.contains("apexcharts-candlestick-area")||n.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(n&&!u&&(o-=r%2!=0?c/2:0),n&&u&&s.globals.comboCharts&&(o-=c/2)):s.globals.isBarHorizontal||(o=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(o)&&(o=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?l-=i.tooltipRect.ttHeight:s.config.tooltip.followCursor?l=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:l+i.tooltipRect.ttHeight+15>s.globals.gridHeight&&(l=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(o),i.fixedTooltip||this.moveTooltip(o,l||s.globals.gridHeight)}}]),e}(),fe=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new me(t)}return o(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new y(this.ctx),s=new z(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=m(i),e.config.chart.stacked&&i.sort(function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))});for(var r=0;r<i.length;r++){var a=i[r].querySelector(".apexcharts-series-markers-wrap");if(null!==a){var n=void 0,o="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(o+=" no-pointer-events");var l=s.getMarkerConfig({cssClass:o,seriesIndex:Number(a.getAttribute("data:realIndex"))});(n=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(e.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(n.node),a.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(e,t);var a=t.getAttribute("cx"),n=t.getAttribute("cy");if(null!==s&&null!==i&&(a=s,n=i),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if("radar"===r.config.chart.type){var o=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-o.left}this.tooltipPosition.moveTooltip(a,n,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,i=this.ttCtx,r=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=t.config.markers.hover.size,o=0;o<a.length;o++){var l=a[o].getAttribute("rel"),c=a[o].getAttribute("index");if(void 0===n&&(n=t.globals.markers.size[c]+t.config.markers.hover.sizeOffset),r===parseInt(l,10)){s.newPointSize(r,a[o]);var d=a[o].getAttribute("cx"),u=a[o].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(d),i.fixedTooltip||s.tooltipPosition.moveTooltip(d,u,n)}else s.oldPointSize(a[o])}}},{key:"newPointSize",value:function(e,t){var s=this.w,i=s.config.markers.hover.size,r=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var a=parseInt(r.getAttribute("index"),10);void 0===i&&(i=s.globals.markers.size[a]+s.config.markers.hover.sizeOffset),i<0&&(i=0),r.setAttribute("r",i)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));x.isNumber(s)&&s>=0?e[t].setAttribute("r",s):e[t].setAttribute("r",0)}}}]),e}(),ge=function(){function e(t){a(this,e),this.w=t.w;var s=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&"rangeBar"===s.config.chart.type&&s.config.plotOptions.bar.rangeBarGroupRows}return o(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,i=e.x,r=e.y,a=e.type,n=this.ttCtx,o=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var l=this.getAttr(t,"i"),c=this.getAttr(t,"j"),d=this.getAttr(t,"cx"),u=this.getAttr(t,"cy"),h=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(n.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:l,j:c,shared:!1,e:t}),o.globals.capturedSeriesIndex=l,o.globals.capturedDataPointIndex=c,i=d+n.tooltipRect.ttWidth/2+h,r=u+n.tooltipRect.ttHeight/2-p/2,n.tooltipPosition.moveXCrosshairs(d+h/2),i>o.globals.gridWidth/2&&(i=d-n.tooltipRect.ttWidth/2+h),n.w.config.tooltip.followCursor){var m=o.globals.dom.elWrap.getBoundingClientRect();i=o.globals.clientX-m.left-(i>o.globals.gridWidth/2?n.tooltipRect.ttWidth:0),r=o.globals.clientY-m.top-(r>o.globals.gridHeight/2?n.tooltipRect.ttHeight:0)}}return{x:i,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,s,i=e.e,r=e.opt,a=e.x,n=e.y,o=this.w,l=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),d=parseInt(r.paths.getAttribute("cy"),10),u=parseFloat(r.paths.getAttribute("val"));if(s=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var h=x.findAncestor(r.paths,"apexcharts-series");h&&(t=parseInt(h.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:s,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:i}),"mouseup"===i.type&&l.markerClick(i,t,s),o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=s,a=c,n=d+o.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();n=l.e.clientY+o.globals.translateY-p.top}u<0&&(n=d),l.marker.enlargeCurrentPoint(s,r.paths,a,n)}return{x:a,y:n}}},{key:"handleBarTooltip",value:function(e){var t,s,i=e.e,r=e.opt,a=this.w,n=this.ttCtx,o=n.getElTooltip(),l=0,c=0,d=0,u=this.getBarTooltipXY({e:i,opt:r});t=u.i;var h=u.barHeight,p=u.j;a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=p,a.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||!a.config.tooltip.shared?(c=u.x,d=u.y,s=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,l=c):a.globals.comboCharts||a.config.tooltip.shared||(l/=2),isNaN(d)&&(d=a.globals.svgHeight-n.tooltipRect.ttHeight);var m=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),f=a.globals.isMultipleYAxis?a.config.yaxis[m]&&a.config.yaxis[m].reversed:a.config.yaxis[0].reversed;if(c+n.tooltipRect.ttWidth>a.globals.gridWidth&&!f?c-=n.tooltipRect.ttWidth:c<0&&(c=0),n.w.config.tooltip.followCursor){var g=n.getElGrid().getBoundingClientRect();d=n.e.clientY-g.top}null===n.tooltip&&(n.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?n.tooltipPosition.moveXCrosshairs(l+s/2):n.tooltipPosition.moveXCrosshairs(l)),!n.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&n.tooltipUtil.hasBars())&&(f&&(c-=n.tooltipRect.ttWidth)<0&&(c=0),!f||a.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||(d=d+h-2*(a.globals.series[t][p]<0?h:0)),d=d+a.globals.translateY-n.tooltipRect.ttHeight/2,o.style.left=c+a.globals.translateX+"px",o.style.top=d+"px")}},{key:"getBarTooltipXY",value:function(e){var t=this,s=e.e,i=e.opt,r=this.w,a=null,n=this.ttCtx,o=0,l=0,c=0,d=0,u=0,h=s.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){var p=s.target,m=p.getBoundingClientRect(),f=i.elGrid.getBoundingClientRect(),g=m.height;u=m.height;var x=m.width,b=parseInt(p.getAttribute("cx"),10),v=parseInt(p.getAttribute("cy"),10);d=parseFloat(p.getAttribute("barWidth"));var y="touchmove"===s.type?s.touches[0].clientX:s.clientX;a=parseInt(p.getAttribute("j"),10),o=parseInt(p.parentNode.getAttribute("rel"),10)-1;var w=p.getAttribute("data-range-y1"),j=p.getAttribute("data-range-y2");r.globals.comboCharts&&(o=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var N=function(e){return r.globals.isXNumeric?b-x/2:t.isVerticalGroupedRangeBar?b+x/2:b-n.dataPointsDividedWidth+x/2},k=function(){return v-n.dataPointsDividedHeight+g/2-n.tooltipRect.ttHeight/2};n.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:o,j:a,y1:w?parseInt(w,10):null,y2:j?parseInt(j,10):null,shared:!n.showOnIntersect&&r.config.tooltip.shared,e:s}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(l=y-f.left+15,c=k()):(l=N(),c=s.clientY-f.top-n.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((l=b)<n.xyRatios.baseLineInvertedY&&(l=b-n.tooltipRect.ttWidth),c=k()):(l=N(),c=v)}return{x:l,y:c,barHeight:u,barWidth:d,i:o,j:a}}}]),e}(),xe=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return o(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s="bottom"===e.config.xaxis.position;t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=function(s){var i=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map(function(t,i){t.map(function(t,i){i===s&&(r+=e.config.yaxis[i].show?" ":" apexcharts-yaxistooltip-hidden")})});var a=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),0===s&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=document.createElement("div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))},i=0;i<e.config.yaxis.length;i++)s(i)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==i&&"barWidth"===e.config.xaxis.crosshairs.width){var r=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if("tickWidth"===e.config.xaxis.crosshairs.width){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var n=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/n}else if("barWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var l=parseFloat(o.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==s&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var i=this.ttCtx,r=this.w,a=r.globals.yLabelFormatters[e];if(i.yaxisTooltips[e]){var n=i.getElGrid().getBoundingClientRect(),o=(t-n.top)*s.yRatio[e],l=r.globals.maxYArr[e]-r.globals.minYArr[e],c=r.globals.minYArr[e]+(l-o);i.tooltipPosition.moveYCrosshairs(t-n.top),i.yaxisTooltipText[e].innerHTML=a(c),i.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),be=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var s=this.w;this.tConfig=s.config.tooltip,this.tooltipUtil=new he(this),this.tooltipLabels=new pe(this),this.tooltipPosition=new me(this),this.marker=new fe(this),this.intersect=new ge(this),this.axesTooltip=new xe(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!s.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return o(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(e,s){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new V(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,i=[],r=this.getElTooltip(),a=function(a){var n=document.createElement("div");n.classList.add("apexcharts-tooltip-series-group"),n.style.order=s.config.tooltip.inverseOrder?e-a:a+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(a)<0&&n.classList.add("apexcharts-tooltip-series-group-hidden");var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),o.style.backgroundColor=s.globals.colors[a],n.appendChild(o);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,l.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var s=document.createElement("span");s.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(s);var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(i),l.appendChild(t)}),n.appendChild(l),r.appendChild(n),i.push(n)},n=0;n<e;n++)a(n);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),i=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),r="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,a=e.globals.dom.Paper.node,n=this.getElGrid();n&&(this.seriesBound=n.getBoundingClientRect());var o,l=[],c=[],d={hoverArea:a,elGrid:n,tooltipEl:s,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),o&&o.length))for(var u=0;u<o.length;u++)l.push(o[u].getAttribute("cy")),c.push(o[u].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],d);else if(i&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(h,d)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),i=s.width+10,r=s.height+10,a=this.tConfig.fixed.offsetX,n=this.tConfig.fixed.offsetY,o=this.tConfig.fixed.position.toLowerCase();return o.indexOf("right")>-1&&(a=a+e.globals.svgWidth-i+10),o.indexOf("bottom")>-1&&(n=n+e.globals.svgHeight-r-10),t.style.left=a+"px",t.style.top=n+"px",{x:a,y:n,ttWidth:i,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,i=function(i){var r={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(t){return e[i].addEventListener(t,s.onSeriesHover.bind(s,r),{capture:!1,passive:!0})})},r=0;r<e.length;r++)i(r)}},{key:"onSeriesHover",value:function(e,t){var s=this,i=Date.now()-this.lastHoverTime;i>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(e,t)},100-i))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var i=[],r=this.w;r.config.chart.group&&(i=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(i.length?i.forEach(function(i){var r=s.getElTooltip(i),a={paths:e.paths,tooltipEl:r,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems};i.w.globals.minX===s.w.globals.minX&&i.w.globals.maxX===s.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:a,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,i=e.opt,r=e.e,a=t.w,n=this.getElTooltip();n&&(s.tooltipRect={x:0,y:0,ttWidth:n.getBoundingClientRect().width,ttHeight:n.getBoundingClientRect().height},s.e=r,!s.tooltipUtil.hasBars()||a.globals.comboCharts||s.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new H(t).toggleSeriesOnHover(r,r.target.parentNode),s.fixedTooltip&&s.drawFixedTooltipRect(),a.globals.axisCharts?s.axisChartsTooltips({e:r,opt:i,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:r,opt:i,tooltipRect:s.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,s,i=e.e,r=e.opt,a=this.w,n=r.elGrid.getBoundingClientRect(),o="touchmove"===i.type?i.touches[0].clientX:i.clientX,l="touchmove"===i.type?i.touches[0].clientY:i.clientY;if(this.clientY=l,this.clientX=o,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,l<n.top||l>n.top+n.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var d=this.getElTooltip(),u=this.getElXCrosshairs(),h=a.globals.xyCharts||"bar"===a.config.chart.type&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===i.type||"touchmove"===i.type||"mouseup"===i.type){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;null!==u&&u.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter(function(e){return!0===e});if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),h&&!this.showOnIntersect)this.handleStickyTooltip(i,o,l,r);else if("heatmap"===a.config.chart.type||"treemap"===a.config.chart.type){var m=this.intersect.handleHeatTreeTooltip({e:i,opt:r,x:t,y:s,type:a.config.chart.type});t=m.x,s=m.y,d.style.left=t+"px",d.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:r,x:t,y:s});if(this.yaxisTooltips.length)for(var f=0;f<a.config.yaxis.length;f++)this.axesTooltip.drawYaxisTooltipText(f,l,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==i.type&&"touchend"!==i.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,i=e.tooltipRect,r=this.w,a=s.paths.getAttribute("rel"),n=this.getElTooltip(),o=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){n.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(a,10)-1,shared:!1});var l=r.globals.clientX-o.left-i.ttWidth/2,c=r.globals.clientY-o.top-i.ttHeight-10;if(n.style.left=l+"px",n.style.top=c+"px",r.config.legend.tooltipHoverFormatter){var d=a-1,u=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:r});this.legendLabels[d].innerHTML=u}}else"mouseout"!==t.type&&"touchend"!==t.type||(n.classList.remove("apexcharts-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"handleStickyTooltip",value:function(e,t,s,i){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:s}),n=a.j,o=a.capturedSeries;r.globals.collapsedSeriesIndices.includes(o)&&(o=null);var l=i.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>l.width)this.handleMouseOut(i);else if(null!==o)this.handleStickyCapturedSeries(e,o,i,n);else if(this.tooltipUtil.isXoverlap(n)||r.globals.isBarHorizontal){var c=r.globals.series.findIndex(function(e,t){return!r.globals.collapsedSeriesIndices.includes(t)});this.create(e,this,c,n,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,i){var r=this.w;if(this.tConfig.shared||null!==r.globals.series[t][i]){if(void 0!==r.globals.series[t][i])this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,s.ttItems):this.create(e,this,t,i,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var a=r.globals.series.findIndex(function(e,t){return!r.globals.collapsedSeriesIndices.includes(t)});this.create(e,this,a,i,s.ttItems)}}else this.handleMouseOut(s)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new y(this.ctx),s=e.globals.dom.Paper.select(".apexcharts-bar-area"),i=0;i<s.length;i++)t.pathMouseLeave(s[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==s&&s.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})}},{key:"markerClick",value:function(e,t,s){var i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}])}},{key:"create",value:function(e,t,s,r,a){var n,o,l,c,d,u,h,p,m,f,g,x,b,v,w,j,N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,k=this.w,S=t;"mouseup"===e.type&&this.markerClick(e,s,r),null===N&&(N=this.tConfig.shared);var C=this.tooltipUtil.hasMarkers(s),A=this.tooltipUtil.getElBars();if(k.config.legend.tooltipHoverFormatter){var T=k.config.legend.tooltipHoverFormatter,E=Array.from(this.legendLabels);E.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)});for(var R=0;R<E.length;R++){var P=E[R],I=parseInt(P.getAttribute("i"),10),L=decodeURIComponent(P.getAttribute("data:default-text")),M=T(L,{seriesIndex:N?I:s,dataPointIndex:r,w:k});if(N)P.innerHTML=k.globals.collapsedSeriesIndices.indexOf(I)<0?M:L;else if(P.innerHTML=I===s?M:L,s===I)break}}var O=i(i({ttItems:a,i:s,j:r},void 0!==(null===(n=k.globals.seriesRange)||void 0===n||null===(o=n[s])||void 0===o||null===(l=o[r])||void 0===l||null===(c=l.y[0])||void 0===c?void 0:c.y1)&&{y1:null===(d=k.globals.seriesRange)||void 0===d||null===(u=d[s])||void 0===u||null===(h=u[r])||void 0===h||null===(p=h.y[0])||void 0===p?void 0:p.y1}),void 0!==(null===(m=k.globals.seriesRange)||void 0===m||null===(f=m[s])||void 0===f||null===(g=f[r])||void 0===g||null===(x=g.y[0])||void 0===x?void 0:x.y2)&&{y2:null===(b=k.globals.seriesRange)||void 0===b||null===(v=b[s])||void 0===v||null===(w=v[r])||void 0===w||null===(j=w.y[0])||void 0===j?void 0:j.y2});if(N){if(S.tooltipLabels.drawSeriesTexts(i(i({},O),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),C)k.globals.markers.largestSize>0?S.marker.enlargePoints(r):S.tooltipPosition.moveDynamicPointsOnHover(r);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(A),this.barSeriesHeight>0)){var D=new y(this.ctx),_=k.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(r,s);for(var z=0;z<_.length;z++)D.pathMouseEnter(_[z])}}else S.tooltipLabels.drawSeriesTexts(i({shared:!1},O)),this.tooltipUtil.hasBars()&&S.tooltipPosition.moveStickyTooltipOverBars(r,s),C&&S.tooltipPosition.moveMarkers(s,r)}}]),e}(),ve=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return o(e,[{key:"handleBarDataLabels",value:function(e){var t=e.x,s=e.y,i=e.y1,r=e.y2,a=e.i,n=e.j,o=e.realIndex,l=e.groupIndex,c=e.series,d=e.barHeight,u=e.barWidth,h=e.barXPosition,p=e.barYPosition,m=e.visibleSeries,f=e.renderedPath,g=this.w,x=new y(this.barCtx.ctx),b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth,v=t+parseFloat(u*m),w=s+parseFloat(d*m);g.globals.isXNumeric&&!g.globals.isBarHorizontal&&(v=t+parseFloat(u*(m+1)),w=s+parseFloat(d*(m+1))-b);var j,N,k=null,S=t,C=s,A=g.config.dataLabels,T=this.barCtx.barOptions.dataLabels,E=this.barCtx.barOptions.dataLabels.total;void 0!==p&&this.barCtx.isRangeBar&&(w=p,C=p),void 0!==h&&this.barCtx.isVerticalGroupedRangeBar&&(v=h,S=h);var R=A.offsetX,P=A.offsetY,I={width:0,height:0};if(g.config.dataLabels.enabled){var L=this.barCtx.series[a][n];I=x.getTextRects(g.globals.yLabelFormatters[0](L),parseFloat(A.style.fontSize))}var M={x:t,y:s,i:a,j:n,realIndex:o,groupIndex:l||-1,renderedPath:f,bcx:v,bcy:w,barHeight:d,barWidth:u,textRects:I,strokeWidth:b,dataLabelsX:S,dataLabelsY:C,dataLabelsConfig:A,barDataLabelsConfig:T,barTotalDataLabelsConfig:E,offX:R,offY:P};return N=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(M):this.calculateColumnsDataLabelsPosition(M),f.attr({cy:N.bcy,cx:N.bcx,j:n,val:c[a][n],barHeight:d,barWidth:u}),j=this.drawCalculatedDataLabels({x:N.dataLabelsX,y:N.dataLabelsY,val:this.barCtx.isRangeBar?[i,r]:c[a][n],i:o,j:n,barWidth:u,barHeight:d,textRects:I,dataLabelsConfig:A}),g.config.chart.stacked&&E.enabled&&(k=this.drawTotalDataLabels({x:N.totalDataLabelsX,y:N.totalDataLabelsY,realIndex:o,textAnchor:N.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:o,j:n}),dataLabelsConfig:A,barTotalDataLabelsConfig:E})),{dataLabels:j,totalDataLabels:k}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,r=this.w,a=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(a=this.totalFormatter(a,i(i({},r),{},{seriesIndex:t,dataPointIndex:s,w:r}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,s,i=this.w,r=e.i,a=e.j,n=e.realIndex,o=e.groupIndex,l=e.y,c=e.bcx,d=e.barWidth,u=e.barHeight,h=e.textRects,p=e.dataLabelsX,m=e.dataLabelsY,f=e.dataLabelsConfig,g=e.barDataLabelsConfig,x=e.barTotalDataLabelsConfig,b=e.strokeWidth,v=e.offX,w=e.offY;u=Math.abs(u);var j="vertical"===i.config.plotOptions.bar.dataLabels.orientation;c=c-b/2+(-1!==o?o*d:0);var N=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=d/2:p=i.globals.isXNumeric?c-d/2+v:c-N+d/2+v,j&&(p=p+h.height/2-b/2-2);var k=this.barCtx.series[r][a]<0,S=l;switch(this.barCtx.isReversed&&(S=l-u+(k?2*u:0),l-=u),g.position){case"center":m=j?k?S+u/2+w:S+u/2-w:k?S-u/2+h.height/2+w:S+u/2+h.height/2-w;break;case"bottom":m=j?k?S+u+w:S+u-w:k?S-u+h.height+b+w:S+u-h.height/2+b-w;break;case"top":m=j?k?S+w:S-w:k?S-h.height/2-w:S+h.height+w}if(this.barCtx.lastActiveBarSerieIndex===n&&x.enabled){var C=new y(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:a}),f.fontSize);t=k?S-C.height/2-w-x.offsetY+18:S+C.height+w+x.offsetY-18,s=p+x.offsetX}return i.config.chart.stacked||(m<0?m=0+b:m+h.height/3>i.globals.gridHeight&&(m=i.globals.gridHeight-b)),{bcx:c,bcy:l,dataLabelsX:p,dataLabelsY:m,totalDataLabelsX:s,totalDataLabelsY:t,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,s=e.x,i=e.i,r=e.j,a=e.realIndex,n=e.groupIndex,o=e.bcy,l=e.barHeight,c=e.barWidth,d=e.textRects,u=e.dataLabelsX,h=e.strokeWidth,p=e.dataLabelsConfig,m=e.barDataLabelsConfig,f=e.barTotalDataLabelsConfig,g=e.offX,x=e.offY,b=t.globals.gridHeight/t.globals.dataPoints;c=Math.abs(c);var v,w,j=(o+=-1!==n?n*l:0)-(this.barCtx.isRangeBar?0:b)+l/2+d.height/2+x-3,N="start",k=this.barCtx.series[i][r]<0,S=s;switch(this.barCtx.isReversed&&(S=s+c-(k?2*c:0),s=t.globals.gridWidth-c),m.position){case"center":u=k?S+c/2-g:Math.max(d.width/2,S-c/2)+g;break;case"bottom":u=k?S+c-h-Math.round(d.width/2)-g:S-c+h+Math.round(d.width/2)+g;break;case"top":u=k?S-h+Math.round(d.width/2)-g:S-h-Math.round(d.width/2)+g}if(this.barCtx.lastActiveBarSerieIndex===a&&f.enabled){var C=new y(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:r}),p.fontSize);k?(v=S-h+Math.round(C.width/2)-g-f.offsetX-15,N="end"):v=S-h-Math.round(C.width/2)+g+f.offsetX+15,w=j+f.offsetY}return t.config.chart.stacked||(u<0?u=u+d.width+h:u+d.width/2>t.globals.gridWidth&&(u=t.globals.gridWidth-d.width-h)),{bcx:s,bcy:o,dataLabelsX:u,dataLabelsY:j,totalDataLabelsX:v,totalDataLabelsY:w,totalDataLabelsAnchor:N}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,r=e.val,a=e.i,n=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,d=e.dataLabelsConfig,u=this.w,h="rotate(0)";"vertical"===u.config.plotOptions.bar.dataLabels.orientation&&(h="rotate(-90, ".concat(t,", ").concat(s,")"));var p=new B(this.barCtx.ctx),m=new y(this.barCtx.ctx),f=d.formatter,g=null,x=u.globals.collapsedSeriesIndices.indexOf(a)>-1;if(d.enabled&&!x){g=m.group({class:"apexcharts-data-labels",transform:h});var b="";void 0!==r&&(b=f(r,i(i({},u),{},{seriesIndex:a,dataPointIndex:n,w:u}))),!r&&u.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(b="");var v=u.globals.series[a][n]<0,w=u.config.plotOptions.bar.dataLabels.position;"vertical"===u.config.plotOptions.bar.dataLabels.orientation&&("top"===w&&(d.textAnchor=v?"end":"start"),"center"===w&&(d.textAnchor="middle"),"bottom"===w&&(d.textAnchor=v?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<m.getTextRects(b,parseFloat(d.style.fontSize)).width&&(b=""),u.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(b=""):o.height/1.6>Math.abs(l)&&(b=""));var j=i({},d);this.barCtx.isHorizontal&&r<0&&("start"===d.textAnchor?j.textAnchor="end":"end"===d.textAnchor&&(j.textAnchor="start")),p.plotDataLabelsText({x:t,y:s,text:b,i:a,j:n,parent:g,dataLabelsConfig:j,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}},{key:"drawTotalDataLabels",value:function(e){var t,s=e.x,i=e.y,r=e.val,a=e.realIndex,n=e.textAnchor,o=e.barTotalDataLabelsConfig,l=new y(this.barCtx.ctx);return o.enabled&&void 0!==s&&void 0!==i&&this.barCtx.lastActiveBarSerieIndex===a&&(t=l.drawText({x:s,y:i,foreColor:o.style.color,text:r,textAnchor:n,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),t}}]),e}(),ye=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return o(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var i=0;i<e[s].length;i++)t.globals.seriesX[s][i]>t.globals.minX&&t.globals.seriesX[s][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,s,i,r,a,n,o,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var d=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)r=(s=l.globals.gridHeight/c)/d,l.globals.isXNumeric&&(r=(s=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(r=parseInt(this.barCtx.barOptions.barHeight,10)),o=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(o=l.globals.gridWidth/2),t=(s-r*this.barCtx.seriesLen)/2;else{if(i=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(i=l.globals.gridWidth/l.globals.dataPoints),a=i/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var u=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(u=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/u>0&&(i=l.globals.minXDiff/u),(a=i/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),n=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=l.globals.padHorizontal+(i-a*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:s,xDivision:i,barHeight:r,barWidth:a,zeroH:n,zeroW:o}}},{key:"initializeStackedPrevVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}):(e.prevY=[],e.prevX=[],e.prevYF=[],e.prevXF=[],e.prevYVal=[],e.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}):(e.xArrj=[],e.xArrjF=[],e.xArrjVal=[],e.yArrj=[],e.yArrjF=[],e.yArrjVal=[])}},{key:"getPathFillColor",value:function(e,t,s,i){var r,a,n,o,l=this.w,c=new _(this.barCtx.ctx),d=null,u=this.barCtx.barOptions.distributed?s:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(i){e[t][s]>=i.from&&e[t][s]<=i.to&&(d=i.color)}),l.config.series[t].data[s]&&l.config.series[t].data[s].fillColor&&(d=l.config.series[t].data[s].fillColor),c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?u:i,dataPointIndex:s,color:d,value:e[t][s],fillConfig:null===(r=l.config.series[t].data[s])||void 0===r?void 0:r.fill,fillType:null!==(a=l.config.series[t].data[s])&&void 0!==a&&null!==(n=a.fill)&&void 0!==n&&n.type?null===(o=l.config.series[t].data[s])||void 0===o?void 0:o.fill.type:l.config.fill.type})}},{key:"getStrokeWidth",value:function(e,t,s){var i=0,r=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,r.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),i}},{key:"shouldApplyRadius",value:function(e){var t=this.w,s=!1;return t.config.plotOptions.bar.borderRadius>0&&(t.config.chart.stacked&&"last"===t.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===e&&(s=!0):s=!0),s}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,i=e.x1,r=e.x2,a=e.y1,n=e.y2,o=e.elSeries,l=this.w,c=new y(this.barCtx.ctx),d=new H(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var u=this.barCtx.barOptions.colors.backgroundBarColors[t],h=c.drawRect(void 0!==i?i:0,void 0!==a?a:0,void 0!==r?r:l.globals.gridWidth,void 0!==n?n:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,u,this.barCtx.barOptions.colors.backgroundBarOpacity);o.add(h),h.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,i=e.barXPosition,r=e.y1,a=e.y2,n=e.strokeWidth,o=e.seriesGroup,l=e.realIndex,c=e.i,d=e.j,u=e.w,h=new y(this.barCtx.ctx);(n=Array.isArray(n)?n[l]:n)||(n=0);var p=s,m=i;null!==(t=u.config.series[l].data[d])&&void 0!==t&&t.columnWidthOffset&&(m=i-u.config.series[l].data[d].columnWidthOffset/2,p=s+u.config.series[l].data[d].columnWidthOffset);var f=m,g=m+p;r+=.001,a+=.001;var x=h.move(f,r),b=h.move(f,r),v=h.line(g-n,r);if(u.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(l,d,!1)),x=x+h.line(f,a)+h.line(g-n,a)+h.line(g-n,r)+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+h.line(f,r)+v+v+v+v+v+h.line(f,r)+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(l)&&(x=h.roundPathCorners(x,u.config.plotOptions.bar.borderRadius)),u.config.chart.stacked){var w=this.barCtx;u.globals.hasSeriesGroups&&o&&(w=this.barCtx[o]),w.yArrj.push(a),w.yArrjF.push(Math.abs(r-a)),w.yArrjVal.push(this.barCtx.series[c][d])}return{pathTo:x,pathFrom:b}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,i=e.barHeight,r=e.x1,a=e.x2,n=e.strokeWidth,o=e.seriesGroup,l=e.realIndex,c=e.i,d=e.j,u=e.w,h=new y(this.barCtx.ctx);(n=Array.isArray(n)?n[l]:n)||(n=0);var p=s,m=i;null!==(t=u.config.series[l].data[d])&&void 0!==t&&t.barHeightOffset&&(p=s-u.config.series[l].data[d].barHeightOffset/2,m=i+u.config.series[l].data[d].barHeightOffset);var f=p,g=p+m;r+=.001,a+=.001;var x=h.move(r,f),b=h.move(r,f);u.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(l,d,!1));var v=h.line(r,g-n);if(x=x+h.line(a,f)+h.line(a,g-n)+v+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+h.line(r,f)+v+v+v+v+v+h.line(r,f)+("around"===u.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(l)&&(x=h.roundPathCorners(x,u.config.plotOptions.bar.borderRadius)),u.config.chart.stacked){var w=this.barCtx;u.globals.hasSeriesGroups&&o&&(w=this.barCtx[o]),w.xArrj.push(a),w.xArrjF.push(Math.abs(r-a)),w.xArrjVal.push(this.barCtx.series[c][d])}return{pathTo:x,pathFrom:b}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,i=0;i<t.length;i++){for(var r=0,a=0;a<t[s.globals.maxValsInArrayIndex].length;a++)r+=t[i][a];0===r&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(s=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(e,t,s,r,a){var n=this,o=this.w,c=[],d=function(i,r){var a;c.push((l(a={},e,"x"===e?n.getXForValue(i,t,!1):n.getYForValue(i,s,!1)),l(a,"attrs",r),a))};if(o.globals.seriesGoals[r]&&o.globals.seriesGoals[r][a]&&Array.isArray(o.globals.seriesGoals[r][a])&&o.globals.seriesGoals[r][a].forEach(function(e){d(e.value,e)}),this.barCtx.barOptions.isDumbbell&&o.globals.seriesRange.length){var u=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:o.globals.colors,h={strokeHeight:"x"===e?0:o.globals.markers.size[r],strokeWidth:"x"===e?o.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(u[r])?u[r][0]:u[r]};d(o.globals.seriesRangeStart[r][a],h),d(o.globals.seriesRangeEnd[r][a],i(i({},h),{},{strokeColor:Array.isArray(u[r])?u[r][1]:u[r]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,i=e.goalX,r=e.goalY,a=e.barWidth,n=e.barHeight,o=new y(this.barCtx.ctx),l=o.group({className:"apexcharts-bar-goals-groups"});l.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:l.node}),l.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var c=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(e){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:n/2,i=s+t+n/2;c=o.drawLine(e.x,i-2*t,e.x,i,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(c)}):Array.isArray(r)&&r.forEach(function(e){var s=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:a/2,i=t+s+a/2;c=o.drawLine(i-2*s,e.y,i,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(c)}),l}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,s=e.currPaths,i=e.color,r=this.w,a=t.x,n=t.x1,o=t.barYPosition,l=s.x,c=s.x1,d=s.barYPosition,u=o+s.barHeight,h=new y(this.barCtx.ctx),p=new x,m=h.move(n,u)+h.line(a,u)+h.line(l,d)+h.line(c,d)+h.line(n,u)+("around"===r.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return h.drawPath({d:m,fill:p.shadeColor(.5,x.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}}]),e}(),we=function(){function e(t,s){a(this,e),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=s,null!==this.xyRatios&&(this.xRatio=s.xRatio,this.initialXRatio=s.initialXRatio,this.yRatio=s.yRatio,this.invertedXRatio=s.invertedXRatio,this.invertedYRatio=s.invertedYRatio,this.baseLineY=s.baseLineY,this.baseLineInvertedY=s.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var r=new H(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]);var n=r.getBarSeriesIndices(),o=new w(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(e,t){return-1===n.indexOf(t)?t:-1}).filter(function(e){return-1!==e})),this.barHelpers=new ye(this)}return o(e,[{key:"draw",value:function(e,t){var s=this.w,r=new y(this.ctx),a=new w(this.ctx,s);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var n=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&(this.totalItems,this.barOptions.dataLabels.maxItems);for(var o=0,l=0;o<e.length;o++,l++){var c,d,u,h,p=void 0,m=void 0,f=[],g=[],b=s.globals.comboCharts?t[o]:o,v=r.group({class:"apexcharts-series",rel:o+1,seriesName:x.escapeString(s.globals.seriesNames[b]),"data:realIndex":b});this.ctx.series.addCollapsedClassToSeries(v,b),e[o].length>0&&(this.visibleI=this.visibleI+1);var j=0,N=0;this.yRatio.length>1&&(this.yaxisIndex=b),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();m=k.y,j=k.barHeight,d=k.yDivision,h=k.zeroW,p=k.x,N=k.barWidth,c=k.xDivision,u=k.zeroH,this.horizontal||g.push(p+N/2);var S=r.group({class:"apexcharts-datalabels","data:realIndex":b});s.globals.delayedElements.push({el:S.node}),S.node.classList.add("apexcharts-element-hidden");var C=r.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),A=r.group({class:"apexcharts-bar-shadows",style:"pointer-events: none"});s.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");for(var T=0;T<s.globals.dataPoints;T++){var E=this.barHelpers.getStrokeWidth(o,T,b),R=null,P={indexes:{i:o,j:T,realIndex:b,bc:l},x:p,y:m,strokeWidth:E,elSeries:v};this.isHorizontal?(R=this.drawBarPaths(i(i({},P),{},{barHeight:j,zeroW:h,yDivision:d})),N=this.series[o][T]/this.invertedYRatio):(R=this.drawColumnPaths(i(i({},P),{},{xDivision:c,barWidth:N,zeroH:u})),j=this.series[o][T]/this.yRatio[this.yaxisIndex]);var I=this.barHelpers.getPathFillColor(e,o,T,b);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&T>0){var L=this.barHelpers.drawBarShadow({color:"string"==typeof I&&-1===(null==I?void 0:I.indexOf("url"))?I:x.hexToRgba(s.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:R});L&&A.add(L)}this.pathArr.push(R);var M=this.barHelpers.drawGoalLine({barXPosition:R.barXPosition,barYPosition:R.barYPosition,goalX:R.goalX,goalY:R.goalY,barHeight:j,barWidth:N});M&&C.add(M),m=R.y,p=R.x,T>0&&g.push(p+N/2),f.push(m),this.renderSeries({realIndex:b,pathFill:I,j:T,i:o,pathFrom:R.pathFrom,pathTo:R.pathTo,strokeWidth:E,elSeries:v,x:p,y:m,series:e,barHeight:R.barHeight?R.barHeight:j,barWidth:R.barWidth?R.barWidth:N,elDataLabelsWrap:S,elGoalsMarkers:C,elBarShadows:A,visibleSeries:this.visibleI,type:"bar"})}s.globals.seriesXvalues[b]=g,s.globals.seriesYvalues[b]=f,n.add(v)}return n}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,i=e.lineFill,r=e.j,a=e.i,n=e.groupIndex,o=e.pathFrom,l=e.pathTo,c=e.strokeWidth,d=e.elSeries,u=e.x,h=e.y,p=e.y1,m=e.y2,f=e.series,g=e.barHeight,x=e.barWidth,b=e.barXPosition,w=e.barYPosition,j=e.elDataLabelsWrap,N=e.elGoalsMarkers,k=e.elBarShadows,S=e.visibleSeries,C=e.type,A=this.w,T=new y(this.ctx);i||(i=this.barOptions.distributed?A.globals.stroke.colors[r]:A.globals.stroke.colors[t]),A.config.series[a].data[r]&&A.config.series[a].data[r].strokeColor&&(i=A.config.series[a].data[r].strokeColor),this.isNullValue&&(s="none");var E=r/A.config.chart.animations.animateGradually.delay*(A.config.chart.animations.speed/A.globals.dataPoints)/2.4,R=T.renderPaths({i:a,j:r,realIndex:t,pathFrom:o,pathTo:l,stroke:i,strokeWidth:c,strokeLineCap:A.config.stroke.lineCap,fill:s,animationDelay:E,initialSpeed:A.config.chart.animations.speed,dataChangeSpeed:A.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(C,"-area")});R.attr("clip-path","url(#gridRectMask".concat(A.globals.cuid,")"));var P=A.config.forecastDataPoints;P.count>0&&r>=A.globals.dataPoints-P.count&&(R.node.setAttribute("stroke-dasharray",P.dashArray),R.node.setAttribute("stroke-width",P.strokeWidth),R.node.setAttribute("fill-opacity",P.fillOpacity)),void 0!==p&&void 0!==m&&(R.attr("data-range-y1",p),R.attr("data-range-y2",m)),new v(this.ctx).setSelectionFilter(R,t,r),d.add(R);var I=new ve(this).handleBarDataLabels({x:u,y:h,y1:p,y2:m,i:a,j:r,series:f,realIndex:t,groupIndex:n,barHeight:g,barWidth:x,barXPosition:b,barYPosition:w,renderedPath:R,visibleSeries:S});return null!==I.dataLabels&&j.add(I.dataLabels),I.totalDataLabels&&j.add(I.totalDataLabels),d.add(j),N&&d.add(N),k&&d.add(k),d}},{key:"drawBarPaths",value:function(e){var t,s=e.indexes,i=e.barHeight,r=e.strokeWidth,a=e.zeroW,n=e.x,o=e.y,l=e.yDivision,c=e.elSeries,d=this.w,u=s.i,h=s.j;if(d.globals.isXNumeric)t=(o=(d.globals.seriesX[u][h]-d.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=0,m=0;d.globals.seriesPercent.forEach(function(e,t){e[h]&&p++,t<u&&0===e[h]&&m++}),p>0&&(i=this.seriesLen*i/p),t=o+i*this.visibleI,t-=i*m}else t=o+i*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[u][h],a)-a)/2),n=this.barHelpers.getXForValue(this.series[u][h],a);var f=this.barHelpers.getBarpaths({barYPosition:t,barHeight:i,x1:a,x2:n,strokeWidth:r,series:this.series,realIndex:s.realIndex,i:u,j:h,w:d});return d.globals.isXNumeric||(o+=l),this.barHelpers.barBackground({j:h,i:u,y1:t-i*this.visibleI,y2:i*this.seriesLen,elSeries:c}),{pathTo:f.pathTo,pathFrom:f.pathFrom,x1:a,x:n,y:o,goalX:this.barHelpers.getGoalValues("x",a,null,u,h),barYPosition:t,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var t,s=e.indexes,i=e.x,r=e.y,a=e.xDivision,n=e.barWidth,o=e.zeroH,l=e.strokeWidth,c=e.elSeries,d=this.w,u=s.realIndex,h=s.i,p=s.j,m=s.bc;if(d.globals.isXNumeric){var f=u;d.globals.seriesX[u].length||(f=d.globals.maxValsInArrayIndex),d.globals.seriesX[f][p]&&(i=(d.globals.seriesX[f][p]-d.globals.minX)/this.xRatio-n*this.seriesLen/2),t=i+n*this.visibleI}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var g=0,x=0;d.globals.seriesPercent.forEach(function(e,t){e[p]&&g++,t<h&&0===e[p]&&x++}),g>0&&(n=this.seriesLen*n/g),t=i+n*this.visibleI,t-=n*x}else t=i+n*this.visibleI;r=this.barHelpers.getYForValue(this.series[h][p],o);var b=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:n,y1:o,y2:r,strokeWidth:l,series:this.series,realIndex:s.realIndex,i:h,j:p,w:d});return d.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:m,j:p,i:h,x1:t-l/2-n*this.visibleI,x2:n*this.seriesLen+l/2,elSeries:c}),{pathTo:b.pathTo,pathFrom:b.pathFrom,x:i,y:r,goalY:this.barHelpers.getGoalValues("y",null,o,h,p),barXPosition:t,barWidth:n}}},{key:"getPreviousPath",value:function(e,t){for(var s,i=this.w,r=0;r<i.globals.previousPaths.length;r++){var a=i.globals.previousPaths[r];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&void 0!==i.globals.previousPaths[r].paths[t]&&(s=i.globals.previousPaths[r].paths[t].d)}return s}}]),e}(),je=function(){c(t,we);var e=h(t);function t(){return a(this,t),e.apply(this,arguments)}return o(t,[{key:"draw",value:function(e,t){var s=this,r=this.w;this.graphics=new y(this.ctx),this.bar=new we(this.ctx,this.xyRatios);var a=new w(this.ctx,r);e=a.getLogSeries(e),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===r.config.chart.stackType&&(e=r.globals.seriesPercent.slice()),this.series=e,this.barHelpers.initializeStackedPrevVars(this);for(var n=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),o=0,l=0,c=function(a,c){var d=void 0,u=void 0,h=void 0,p=void 0,m=-1;s.groupCtx=s,r.globals.seriesGroups.forEach(function(e,t){e.indexOf(r.config.series[a].name)>-1&&(m=t)}),-1!==m&&(s.groupCtx=s[r.globals.seriesGroups[m]]);var f=[],g=[],b=r.globals.comboCharts?t[a]:a;s.yRatio.length>1&&(s.yaxisIndex=b),s.isReversed=r.config.yaxis[s.yaxisIndex]&&r.config.yaxis[s.yaxisIndex].reversed;var v=s.graphics.group({class:"apexcharts-series",seriesName:x.escapeString(r.globals.seriesNames[b]),rel:a+1,"data:realIndex":b});s.ctx.series.addCollapsedClassToSeries(v,b);var y=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":b}),w=s.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),j=0,N=0,k=s.initialPositions(o,l,d,u,h,p);l=k.y,j=k.barHeight,u=k.yDivision,p=k.zeroW,o=k.x,N=k.barWidth,d=k.xDivision,h=k.zeroH,s.barHelpers.initializeStackedXYVars(s),1===s.groupCtx.prevY.length&&s.groupCtx.prevY[0].every(function(e){return isNaN(e)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(e){return h}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(e){return 0}));for(var S=0;S<r.globals.dataPoints;S++){var C=s.barHelpers.getStrokeWidth(a,S,b),A={indexes:{i:a,j:S,realIndex:b,bc:c},strokeWidth:C,x:o,y:l,elSeries:v,groupIndex:m,seriesGroup:r.globals.seriesGroups[m]},T=null;s.isHorizontal?(T=s.drawStackedBarPaths(i(i({},A),{},{zeroW:p,barHeight:j,yDivision:u})),N=s.series[a][S]/s.invertedYRatio):(T=s.drawStackedColumnPaths(i(i({},A),{},{xDivision:d,barWidth:N,zeroH:h})),j=s.series[a][S]/s.yRatio[s.yaxisIndex]);var E=s.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:T.barYPosition,goalX:T.goalX,goalY:T.goalY,barHeight:j,barWidth:N});E&&w.add(E),l=T.y,o=T.x,f.push(o),g.push(l);var R=s.barHelpers.getPathFillColor(e,a,S,b);v=s.renderSeries({realIndex:b,pathFill:R,j:S,i:a,groupIndex:m,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:C,elSeries:v,x:o,y:l,series:e,barHeight:j,barWidth:N,elDataLabelsWrap:y,elGoalsMarkers:w,type:"bar",visibleSeries:0})}r.globals.seriesXvalues[b]=f,r.globals.seriesYvalues[b]=g,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),n.add(v)},d=0,u=0;d<e.length;d++,u++)c(d,u);return n}},{key:"initialPositions",value:function(e,t,s,i,r,a){var n,o,l,c,d=this.w;return this.isHorizontal?(l=(l=i=d.globals.gridHeight/d.globals.dataPoints)*parseInt(d.config.plotOptions.bar.barHeight,10)/100,-1===String(d.config.plotOptions.bar.barHeight).indexOf("%")&&(l=parseInt(d.config.plotOptions.bar.barHeight,10)),a=this.baseLineInvertedY+d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),t=(i-l)/2):(c=s=d.globals.gridWidth/d.globals.dataPoints,c=d.globals.isXNumeric&&d.globals.dataPoints>1?(s=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:c*parseInt(d.config.plotOptions.bar.columnWidth,10)/100,-1===String(d.config.plotOptions.bar.columnWidth).indexOf("%")&&(c=parseInt(d.config.plotOptions.bar.columnWidth,10)),r=d.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?d.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),e=d.globals.padHorizontal+(s-c)/2),{x:e,y:t,yDivision:i,xDivision:s,barHeight:null!==(n=d.globals.seriesGroups)&&void 0!==n&&n.length?l/d.globals.seriesGroups.length:l,barWidth:null!==(o=d.globals.seriesGroups)&&void 0!==o&&o.length?c/d.globals.seriesGroups.length:c,zeroH:r,zeroW:a}}},{key:"drawStackedBarPaths",value:function(e){for(var t,s=e.indexes,i=e.barHeight,r=e.strokeWidth,a=e.zeroW,n=e.x,o=e.y,l=e.groupIndex,c=e.seriesGroup,d=e.yDivision,u=e.elSeries,h=this.w,p=o+(-1!==l?l*i:0),m=s.i,f=s.j,g=0,x=0;x<this.groupCtx.prevXF.length;x++)g+=this.groupCtx.prevXF[x][f];var b=m;if(c&&(b=c.indexOf(h.config.series[m].name)),b>0){var v=a;this.groupCtx.prevXVal[b-1][f]<0?v=this.series[m][f]>=0?this.groupCtx.prevX[b-1][f]+g-2*(this.isReversed?g:0):this.groupCtx.prevX[b-1][f]:this.groupCtx.prevXVal[b-1][f]>=0&&(v=this.series[m][f]>=0?this.groupCtx.prevX[b-1][f]:this.groupCtx.prevX[b-1][f]-g+2*(this.isReversed?g:0)),t=v}else t=a;n=null===this.series[m][f]?t:t+this.series[m][f]/this.invertedYRatio-2*(this.isReversed?this.series[m][f]/this.invertedYRatio:0);var y=this.barHelpers.getBarpaths({barYPosition:p,barHeight:i,x1:t,x2:n,strokeWidth:r,series:this.series,realIndex:s.realIndex,seriesGroup:c,i:m,j:f,w:h});return this.barHelpers.barBackground({j:f,i:m,y1:p,y2:i,elSeries:u}),o+=d,{pathTo:y.pathTo,pathFrom:y.pathFrom,goalX:this.barHelpers.getGoalValues("x",a,null,m,f),barYPosition:p,x:n,y:o}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,s=e.x,i=e.y,r=e.xDivision,a=e.barWidth,n=e.zeroH,o=e.groupIndex,l=e.seriesGroup,c=e.elSeries,d=this.w,u=t.i,h=t.j,p=t.bc;if(d.globals.isXNumeric){var m=d.globals.seriesX[u][h];m||(m=0),s=(m-d.globals.minX)/this.xRatio-a/2,d.globals.seriesGroups.length&&(s=(m-d.globals.minX)/this.xRatio-a/2*d.globals.seriesGroups.length)}for(var f,g=s+(-1!==o?o*a:0),x=0,b=0;b<this.groupCtx.prevYF.length;b++)x+=isNaN(this.groupCtx.prevYF[b][h])?0:this.groupCtx.prevYF[b][h];var v=u;if(l&&(v=l.indexOf(d.config.series[u].name)),v>0&&!d.globals.isXNumeric||v>0&&d.globals.isXNumeric&&d.globals.seriesX[u-1][h]===d.globals.seriesX[u][h]){var y,w,j,N=Math.min(this.yRatio.length+1,u+1);if(void 0!==this.groupCtx.prevY[v-1]&&this.groupCtx.prevY[v-1].length)for(var k=1;k<N;k++){var S;if(!isNaN(null===(S=this.groupCtx.prevY[v-k])||void 0===S?void 0:S[h])){j=this.groupCtx.prevY[v-k][h];break}}for(var C=1;C<N;C++){var A,T;if((null===(A=this.groupCtx.prevYVal[v-C])||void 0===A?void 0:A[h])<0){w=this.series[u][h]>=0?j-x+2*(this.isReversed?x:0):j;break}if((null===(T=this.groupCtx.prevYVal[v-C])||void 0===T?void 0:T[h])>=0){w=this.series[u][h]>=0?j:j+x-2*(this.isReversed?x:0);break}}void 0===w&&(w=d.globals.gridHeight),f=null!==(y=this.groupCtx.prevYF[0])&&void 0!==y&&y.every(function(e){return 0===e})&&this.groupCtx.prevYF.slice(1,v).every(function(e){return e.every(function(e){return isNaN(e)})})?n:w}else f=n;i=this.series[u][h]?f-this.series[u][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[u][h]/this.yRatio[this.yaxisIndex]:0):f;var E=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:a,y1:f,y2:i,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:l,realIndex:t.realIndex,i:u,j:h,w:d});return this.barHelpers.barBackground({bc:p,j:h,i:u,x1:g,x2:a,elSeries:c}),s+=r,{pathTo:E.pathTo,pathFrom:E.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,n,u,h),barXPosition:g,x:d.globals.isXNumeric?s-r:s,y:i}}}]),t}(),Ne=function(){c(t,we);var e=h(t);function t(){return a(this,t),e.apply(this,arguments)}return o(t,[{key:"draw",value:function(e,t,s){var r=this,a=this.w,n=new y(this.ctx),o=a.globals.comboCharts?t:a.config.chart.type,l=new _(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=a.config.plotOptions.bar.horizontal;var c=new w(this.ctx,a);e=c.getLogSeries(e),this.series=e,this.yRatio=c.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var d=n.group({class:"apexcharts-".concat(o,"-series apexcharts-plot-series")}),u=function(t){r.isBoxPlot="boxPlot"===a.config.chart.type||"boxPlot"===a.config.series[t].type;var o,c,u,h,p,m,f=void 0,g=void 0,b=[],v=[],y=a.globals.comboCharts?s[t]:t,w=n.group({class:"apexcharts-series",seriesName:x.escapeString(a.globals.seriesNames[y]),rel:t+1,"data:realIndex":y});r.ctx.series.addCollapsedClassToSeries(w,y),e[t].length>0&&(r.visibleI=r.visibleI+1),r.yRatio.length>1&&(r.yaxisIndex=y);var j=r.barHelpers.initialPositions();g=j.y,p=j.barHeight,c=j.yDivision,h=j.zeroW,f=j.x,m=j.barWidth,o=j.xDivision,u=j.zeroH,v.push(f+m/2);for(var N=n.group({class:"apexcharts-datalabels","data:realIndex":y}),k=function(s){var n=r.barHelpers.getStrokeWidth(t,s,y),d=null,x={indexes:{i:t,j:s,realIndex:y},x:f,y:g,strokeWidth:n,elSeries:w};d=r.isHorizontal?r.drawHorizontalBoxPaths(i(i({},x),{},{yDivision:c,barHeight:p,zeroW:h})):r.drawVerticalBoxPaths(i(i({},x),{},{xDivision:o,barWidth:m,zeroH:u})),g=d.y,f=d.x,s>0&&v.push(f+m/2),b.push(g),d.pathTo.forEach(function(i,o){var c=!r.isBoxPlot&&r.candlestickOptions.wick.useFillColor?d.color[o]:a.globals.stroke.colors[t],u=l.fillPath({seriesNumber:y,dataPointIndex:s,color:d.color[o],value:e[t][s]});r.renderSeries({realIndex:y,pathFill:u,lineFill:c,j:s,i:t,pathFrom:d.pathFrom,pathTo:i,strokeWidth:n,elSeries:w,x:f,y:g,series:e,barHeight:p,barWidth:m,elDataLabelsWrap:N,visibleSeries:r.visibleI,type:a.config.chart.type})})},S=0;S<a.globals.dataPoints;S++)k(S);a.globals.seriesXvalues[y]=v,a.globals.seriesYvalues[y]=b,d.add(w)},h=0;h<e.length;h++)u(h);return d}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,s=e.x;e.y;var i=e.xDivision,r=e.barWidth,a=e.zeroH,n=e.strokeWidth,o=this.w,l=new y(this.ctx),c=t.i,d=t.j,u=!0,h=o.config.plotOptions.candlestick.colors.upward,p=o.config.plotOptions.candlestick.colors.downward,m="";this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.yRatio[this.yaxisIndex],g=t.realIndex,x=this.getOHLCValue(g,d),b=a,v=a;x.o>x.c&&(u=!1);var w=Math.min(x.o,x.c),j=Math.max(x.o,x.c),N=x.m;o.globals.isXNumeric&&(s=(o.globals.seriesX[g][d]-o.globals.minX)/this.xRatio-r/2);var k=s+r*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(w=a,j=a):(w=a-w/f,j=a-j/f,b=a-x.h/f,v=a-x.l/f,N=a-x.m/f);var S=l.move(k,a),C=l.move(k+r/2,w);return o.globals.previousPaths.length>0&&(C=this.getPreviousPath(g,d,!0)),S=this.isBoxPlot?[l.move(k,w)+l.line(k+r/2,w)+l.line(k+r/2,b)+l.line(k+r/4,b)+l.line(k+r-r/4,b)+l.line(k+r/2,b)+l.line(k+r/2,w)+l.line(k+r,w)+l.line(k+r,N)+l.line(k,N)+l.line(k,w+n/2),l.move(k,N)+l.line(k+r,N)+l.line(k+r,j)+l.line(k+r/2,j)+l.line(k+r/2,v)+l.line(k+r-r/4,v)+l.line(k+r/4,v)+l.line(k+r/2,v)+l.line(k+r/2,j)+l.line(k,j)+l.line(k,N)+"z"]:[l.move(k,j)+l.line(k+r/2,j)+l.line(k+r/2,b)+l.line(k+r/2,j)+l.line(k+r,j)+l.line(k+r,w)+l.line(k+r/2,w)+l.line(k+r/2,v)+l.line(k+r/2,w)+l.line(k,w)+l.line(k,j-n/2)],C+=l.move(k,w),o.globals.isXNumeric||(s+=i),{pathTo:S,pathFrom:C,x:s,y:j,barXPosition:k,color:this.isBoxPlot?m:u?[h]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var s=e.y,i=e.yDivision,r=e.barHeight,a=e.zeroW,n=e.strokeWidth,o=this.w,l=new y(this.ctx),c=t.i,d=t.j,u=this.boxOptions.colors.lower;this.isBoxPlot&&(u=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var h=this.invertedYRatio,p=t.realIndex,m=this.getOHLCValue(p,d),f=a,g=a,x=Math.min(m.o,m.c),b=Math.max(m.o,m.c),v=m.m;o.globals.isXNumeric&&(s=(o.globals.seriesX[p][d]-o.globals.minX)/this.invertedXRatio-r/2);var w=s+r*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(x=a,b=a):(x=a+x/h,b=a+b/h,f=a+m.h/h,g=a+m.l/h,v=a+m.m/h);var j=l.move(a,w),N=l.move(x,w+r/2);return o.globals.previousPaths.length>0&&(N=this.getPreviousPath(p,d,!0)),j=[l.move(x,w)+l.line(x,w+r/2)+l.line(f,w+r/2)+l.line(f,w+r/2-r/4)+l.line(f,w+r/2+r/4)+l.line(f,w+r/2)+l.line(x,w+r/2)+l.line(x,w+r)+l.line(v,w+r)+l.line(v,w)+l.line(x+n/2,w),l.move(v,w)+l.line(v,w+r)+l.line(b,w+r)+l.line(b,w+r/2)+l.line(g,w+r/2)+l.line(g,w+r-r/4)+l.line(g,w+r/4)+l.line(g,w+r/2)+l.line(b,w+r/2)+l.line(b,w)+l.line(v,w)+"z"],N+=l.move(x,w),o.globals.isXNumeric||(s+=i),{pathTo:j,pathFrom:N,x:b,y:s,barYPosition:w,color:u}}},{key:"getOHLCValue",value:function(e,t){var s=this.w;return{o:this.isBoxPlot?s.globals.seriesCandleH[e][t]:s.globals.seriesCandleO[e][t],h:this.isBoxPlot?s.globals.seriesCandleO[e][t]:s.globals.seriesCandleH[e][t],m:s.globals.seriesCandleM[e][t],l:this.isBoxPlot?s.globals.seriesCandleC[e][t]:s.globals.seriesCandleL[e][t],c:this.isBoxPlot?s.globals.seriesCandleL[e][t]:s.globals.seriesCandleC[e][t]}}}]),t}(),ke=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(e,s){e.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,s,i){var r=this.w,a=1,n=r.config.plotOptions[e].shadeIntensity,o=this.determineColor(e,t,s);r.globals.hasNegs||i?a=r.config.plotOptions[e].reverseNegativeShade?o.percent<0?o.percent/100*(1.25*n):(1-o.percent/100)*(1.25*n):o.percent<=0?1-(1+o.percent/100)*n:(1-o.percent/100)*n:(a=1-o.percent/100,"treemap"===e&&(a=(1-o.percent/100)*(1.25*n)));var l=o.color,c=new x;return r.config.plotOptions[e].enableShades&&(l="dark"===this.w.config.theme.mode?x.hexToRgba(c.shadeColor(-1*a,o.color),r.config.fill.opacity):x.hexToRgba(c.shadeColor(a,o.color),r.config.fill.opacity)),{color:l,colorProps:o}}},{key:"determineColor",value:function(e,t,s){var i=this.w,r=i.globals.series[t][s],a=i.config.plotOptions[e],n=a.colorScale.inverse?s:t;a.distributed&&"treemap"===i.config.chart.type&&(n=s);var o=i.globals.colors[n],l=null,c=Math.min.apply(Math,m(i.globals.series[t])),d=Math.max.apply(Math,m(i.globals.series[t]));a.distributed||"heatmap"!==e||(c=i.globals.minY,d=i.globals.maxY),void 0!==a.colorScale.min&&(c=a.colorScale.min<i.globals.minY?a.colorScale.min:i.globals.minY,d=a.colorScale.max>i.globals.maxY?a.colorScale.max:i.globals.maxY);var u=Math.abs(d)+Math.abs(c),h=100*r/(0===u?u-1e-6:u);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(e,t){if(r>=e.from&&r<=e.to){o=e.color,l=e.foreColor?e.foreColor:null,c=e.from,d=e.to;var s=Math.abs(d)+Math.abs(c);h=100*r/(0===s?s-1e-6:s)}}),{color:o,foreColor:l,percent:h}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,i=e.y,r=e.i,a=e.j,n=e.colorProps,o=e.fontSize,l=this.w.config.dataLabels,c=new y(this.ctx),d=new B(this.ctx),u=null;if(l.enabled){u=c.group({class:"apexcharts-data-labels"});var h=l.offsetX,p=l.offsetY,m=s+h,f=i+parseFloat(l.style.fontSize)/3+p;d.plotDataLabelsText({x:m,y:f,text:t,i:r,j:a,color:n.foreColor,parent:u,fontSize:o,dataLabelsConfig:l})}return u}},{key:"addListeners",value:function(e){var t=new y(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Se=function(){function e(t,s){a(this,e),this.ctx=t,this.w=t.w,this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ke(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return o(e,[{key:"draw",value:function(e){var t=this.w,s=new y(this.ctx),i=s.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,n=0,o=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(o=!0,l.reverse());for(var c=o?0:l.length-1;o?c<l.length:c>=0;o?c++:c--){var d=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:x.escapeString(t.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(d,c),t.config.chart.dropShadow.enabled){var u=t.config.chart.dropShadow;new v(this.ctx).dropShadow(d,u,c)}for(var h=0,p=t.config.plotOptions.heatmap.shadeIntensity,m=0;m<l[c].length;m++){var f=this.helpers.getShadeColor(t.config.chart.type,c,m,this.negRange),g=f.color,b=f.colorProps;"image"===t.config.fill.type&&(g=new _(this.ctx).fillPath({seriesNumber:c,dataPointIndex:m,opacity:t.globals.hasNegs?b.percent<0?1-(1+b.percent/100):p+b.percent/100:b.percent/100,patternID:x.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:a}));var w=this.rectRadius,j=s.drawRect(h,n,r,a,w);if(j.attr({cx:h,cy:n}),j.node.classList.add("apexcharts-heatmap-rect"),d.add(j),j.attr({fill:g,i:c,index:c,j:m,val:l[c][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?g:t.globals.stroke.colors[0],color:g}),this.helpers.addListeners(j),t.config.chart.animations.enabled&&!t.globals.dataChanged){var N=1;t.globals.resized||(N=t.config.chart.animations.speed),this.animateHeatMap(j,h,n,r,a,N)}if(t.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){k=this.dynamicAnim.speed;var S=t.globals.previousPaths[c]&&t.globals.previousPaths[c][m]&&t.globals.previousPaths[c][m].color;S||(S="rgba(255, 255, 255, 0)"),this.animateHeatColor(j,x.isColorHex(S)?S:x.rgb2hex(S),x.isColorHex(g)?g:x.rgb2hex(g),k)}}var C=(0,t.config.dataLabels.formatter)(t.globals.series[c][m],{value:t.globals.series[c][m],seriesIndex:c,dataPointIndex:m,w:t}),A=this.helpers.calculateDataLabels({text:C,x:h+r/2,y:n+a/2,i:c,j:m,colorProps:b,series:l});null!==A&&d.add(A),h+=r}n+=a,i.add(d)}var T=t.globals.yAxisScale[0].result.slice();t.config.yaxis[0].reversed?T.unshift(""):T.push(""),t.globals.yAxisScale[0].result=T;var E=t.globals.gridHeight/t.globals.series.length;return t.config.yaxis[0].labels.offsetY=-E/2,i}},{key:"animateHeatMap",value:function(e,t,s,i,r,a){var n=new b(this.ctx);n.animateRect(e,{x:t+i/2,y:s+r/2,width:0,height:0},{x:t,y:s,width:i,height:r},a,function(){n.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,s,i){e.attr({fill:t}).animate(i).attr({fill:s})}}]),e}(),Ce=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawYAxisTexts",value:function(e,t,s,i){var r=this.w,a=r.config.yaxis[0],n=r.globals.yLabelFormatters[0];return new y(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:n(i,s),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[s]:a.labels.style.colors})}}]),e}(),Ae=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var s=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==s.globals.stroke.colors?s.globals.stroke.colors:s.globals.colors,this.defaultSize=Math.min(s.globals.gridWidth,s.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=s.globals.gridWidth/2,"radialBar"===s.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(s.config.plotOptions.pie.endAngle-s.config.plotOptions.pie.startAngle),this.initialAngle=s.config.plotOptions.pie.startAngle%this.fullAngle,s.globals.radialSize=this.defaultSize/2.05-s.config.stroke.width-(s.config.chart.sparkline.enabled?0:s.config.chart.dropShadow.blur),this.donutSize=s.globals.radialSize*parseInt(s.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return o(e,[{key:"draw",value:function(e){var t=this,s=this.w,i=new y(this.ctx);if(this.ret=i.group({class:"apexcharts-pie"}),s.globals.noData)return this.ret;for(var r=0,a=0;a<e.length;a++)r+=x.negToZero(e[a]);var n=[],o=i.group();0===r&&(r=1e-5),e.forEach(function(e){t.maxY=Math.max(t.maxY,e)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),"back"===s.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<e.length;l++){var c=this.fullAngle*x.negToZero(e[l])/r;n.push(c),"polarArea"===this.chartType?(n[l]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[l]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var d,u=0,h=0;h<s.globals.previousPaths.length;h++)u+=x.negToZero(s.globals.previousPaths[h]);for(var p=0;p<s.globals.previousPaths.length;p++)d=this.fullAngle*x.negToZero(s.globals.previousPaths[p])/u,this.prevSectorAngleArr.push(d)}this.donutSize<0&&(this.donutSize=0);var m=s.config.plotOptions.pie.customScale,f=s.globals.gridWidth/2,g=s.globals.gridHeight/2,b=f-s.globals.gridWidth/2*m,v=g-s.globals.gridHeight/2*m;if("donut"===this.chartType){var w=i.drawCircle(this.donutSize);w.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),o.add(w)}var j=this.drawArcs(n,e);if(this.sliceLabels.forEach(function(e){j.add(e)}),o.attr({transform:"translate(".concat(b,", ").concat(v,") scale(").concat(m,")")}),o.add(j),this.ret.add(o),this.donutDataLabels.show){var N=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:b,translateY:v});this.ret.add(N)}return"front"===s.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var s=this.w,i=new v(this.ctx),r=new y(this.ctx),a=new _(this.ctx),n=r.group({class:"apexcharts-slices"}),o=this.initialAngle,l=this.initialAngle,c=this.initialAngle,d=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var u=0;u<e.length;u++){var h=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:x.escapeString(s.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});n.add(h),l=d,c=(o=c)+e[u],d=l+this.prevSectorAngleArr[u];var p=c<o?this.fullAngle+c-o:c-o,m=a.fillPath({seriesNumber:u,size:this.sliceSizes[u],value:t[u]}),f=this.getChangedPath(l,d),g=r.drawPath({d:f,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[u]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(u)});if(g.attr({index:0,j:u}),i.setSelectionFilter(g,0,u),s.config.chart.dropShadow.enabled){var b=s.config.chart.dropShadow;i.dropShadow(g,b,u)}this.addListeners(g,this.donutDataLabels),y.setAttrs(g.node,{"data:angle":p,"data:startAngle":o,"data:strokeWidth":this.strokeWidth,"data:value":t[u]});var w={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?w=x.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(o+p/2)%this.fullAngle):"donut"===this.chartType&&(w=x.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(o+p/2)%this.fullAngle)),h.add(g);var j=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):(0===(j=p/this.fullAngle*s.config.chart.animations.speed)&&(j=1),this.animDur=j+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[u],endAngle:c,startAngle:o,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:u,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[u],endAngle:c,startAngle:o,i:u,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:j}),s.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,u)),void 0!==s.globals.selectedDataPoints[0]&&s.globals.selectedDataPoints[0].indexOf(u)>-1&&this.pieClicked(u),s.config.dataLabels.enabled){var N=w.x,k=w.y,S=100*p/this.fullAngle+"%";if(0!==p&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[u]){var C=s.config.dataLabels.formatter;void 0!==C&&(S=C(s.globals.seriesPercent[u][0],{seriesIndex:u,w:s}));var A=s.globals.dataLabels.style.colors[u],T=r.group({class:"apexcharts-datalabels"}),E=r.drawText({x:N,y:k,text:S,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:A});if(T.add(E),s.config.dataLabels.dropShadow.enabled){var R=s.config.dataLabels.dropShadow;i.dropShadow(E,R)}E.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&!1===s.globals.resized&&(E.node.classList.add("apexcharts-pie-label-delay"),E.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return n}},{key:"addListeners",value:function(e,t){var s=new y(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=i,a=t.startAngle,n=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(a=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===s.config.series.length-1&&(i+n>this.fullAngle?t.endAngle=t.endAngle-(i+n):i+n<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+n)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,a,n,i,r,t)}},{key:"animateArc",value:function(e,t,s,i,r,a){var n,o=this,l=this.w,c=new b(this.ctx),d=a.size;(isNaN(t)||isNaN(r))&&(t=s,r=i,a.dur=0);var u=i,h=s,p=t<s?this.fullAngle+t-s:t-s;l.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(n=o.getPiePath({me:o,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:d}),e.attr({d:n})),0!==a.dur?e.animate(a.dur,l.globals.easing,a.animBeginArr[a.i]).afterAll(function(){"pie"!==o.chartType&&"donut"!==o.chartType&&"polarArea"!==o.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":o.strokeWidth}),a.i===l.config.series.length-1&&c.animationCompleted(e)}).during(function(l){u=p+(i-p)*l,a.animateStartingPos&&(u=r+(i-r)*l,h=t-r+(s-(t-r))*l),n=o.getPiePath({me:o,startAngle:h,angle:u,size:d}),e.node.setAttribute("data:pathOrig",n),e.attr({d:n})}):(n=o.getPiePath({me:o,startAngle:h,angle:i,size:d}),a.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",n),e.attr({d:n,"stroke-width":o.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,i=this,r=i.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),a=s.globals.dom.Paper.select(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==a.attr("data:pieClicked")){var n=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(n,function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");t&&e.setAttribute("d",t)}),a.attr("data:pieClicked","true");var o=parseInt(a.attr("data:startAngle"),10),l=parseInt(a.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:o,angle:l,size:r}),360!==l&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var c=a.attr("data:pathOrig");a.attr({d:c})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t=e.me,s=e.startAngle,i=e.angle,r=e.size,a=s,n=Math.PI*(a-90)/180,o=i+s;Math.ceil(o)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(o=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(o)>this.fullAngle&&(o-=this.fullAngle);var l=Math.PI*(o-90)/180,c=t.centerX+r*Math.cos(n),d=t.centerY+r*Math.sin(n),u=t.centerX+r*Math.cos(l),h=t.centerY+r*Math.sin(l),p=x.polarToCartesian(t.centerX,t.centerY,t.donutSize,o),m=x.polarToCartesian(t.centerX,t.centerY,t.donutSize,a),f=i>180?1:0,g=["M",c,d,"A",r,r,0,f,1,u,h];return"donut"===t.chartType?[].concat(g,["L",p.x,p.y,"A",t.donutSize,t.donutSize,0,f,0,m.x,m.y,"L",c,d,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(g,["L",t.centerX,t.centerY,"L",c,d]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new q(this.ctx),i=new y(this.ctx),r=new Ce(this.ctx),a=i.group(),n=i.group(),o=s.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),l=o.result.reverse(),c=o.result.length;this.maxY=o.niceMax;for(var d=t.globals.radialSize,u=d/(c-1),h=0;h<c-1;h++){var p=i.drawCircle(d);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=r.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,h,l[h]);n.add(m)}a.add(p),d-=u}this.drawSpokes(e),e.add(a),e.add(n)}},{key:"renderInnerDataLabels",value:function(e,t){var s=this.w,i=new y(this.ctx),r=i.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),a=e.total.show;r.node.style.opacity=t.opacity;var n,o,l=t.centerX,c=t.centerY;n=void 0===e.name.color?s.globals.colors[0]:e.name.color;var d=e.name.fontSize,u=e.name.fontFamily,h=e.name.fontWeight;o=void 0===e.value.color?s.config.chart.foreColor:e.value.color;var p=e.value.formatter,m="",f="";if(a?(n=e.total.color,d=e.total.fontSize,u=e.total.fontFamily,h=e.total.fontWeight,f=e.total.label,m=e.total.formatter(s)):1===s.globals.series.length&&(m=p(s.globals.series[0],s),f=s.globals.seriesNames[0]),f&&(f=e.name.formatter(f,e.total.show,s)),e.name.show){var g=i.drawText({x:l,y:c+parseFloat(e.name.offsetY),text:f,textAnchor:"middle",foreColor:n,fontSize:d,fontWeight:h,fontFamily:u});g.node.classList.add("apexcharts-datalabel-label"),r.add(g)}if(e.value.show){var x=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,b=i.drawText({x:l,y:c+x,text:m,textAnchor:"middle",foreColor:o,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),r.add(b)}return r}},{key:"printInnerLabels",value:function(e,t,s,i){var r,a=this.w;i?r=void 0===e.name.color?a.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(r=e.total.color);var n=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,a),i||"function"!=typeof e.total.formatter||(s=e.total.formatter(a));var l=t===e.total.label;t=e.name.formatter(t,l,a),null!==n&&(n.textContent=t),null!==o&&(o.textContent=s),null!==n&&(n.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,i=e.getAttribute("data:value"),r=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,r,i,e);var a=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==a&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,i=new y(this.ctx),r=s.config.plotOptions.polarArea.spokes;if(0!==r.strokeWidth){for(var a=[],n=360/s.globals.series.length,o=0;o<s.globals.series.length;o++)a.push(x.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+n*o));a.forEach(function(s,a){var n=i.drawLine(s.x,s.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[a]:r.connectorColors);e.add(n)})}}},{key:"revertDataLabelsInner",value:function(e,t,s){var i=this,r=this.w,a=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),n=!1,o=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(e){var s=e.makeSliceOut,r=e.printLabel;Array.prototype.forEach.call(o,function(e){"true"===e.getAttribute("data:pieClicked")&&(s&&(n=!0),r&&i.printDataLabelsInner(e,t))})};if(l({makeSliceOut:!0,printLabel:!1}),t.total.show&&r.globals.series.length>1)n&&!t.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(r));else if(l({makeSliceOut:!1,printLabel:!0}),!n)if(r.globals.selectedDataPoints.length&&r.globals.series.length>1)if(r.globals.selectedDataPoints[0].length>0){var c=r.globals.selectedDataPoints[0],d=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(d,t)}else a&&r.globals.selectedDataPoints.length&&0===r.globals.selectedDataPoints[0].length&&(a.style.opacity=0);else a&&r.globals.series.length>1&&(a.style.opacity=0)}}]),e}(),Te=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var s=this.w;this.graphics=new y(this.ctx),this.lineColorArr=void 0!==s.globals.stroke.colors?s.globals.stroke.colors:s.globals.colors,this.defaultSize=s.globals.svgHeight<s.globals.svgWidth?s.globals.gridHeight+1.5*s.globals.goldenPadding:s.globals.gridWidth,this.isLog=s.config.yaxis[0].logarithmic,this.coreUtils=new w(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(s.globals.maxY,0):s.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):s.globals.minY,this.polygons=s.config.plotOptions.radar.polygons,this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-s.config.chart.dropShadow.blur,s.config.xaxis.labels.show&&(this.size=this.size-s.globals.xAxisLabelsWidth/1.75),void 0!==s.config.plotOptions.radar.size&&(this.size=s.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return o(e,[{key:"draw",value:function(e){var t=this,s=this.w,r=new _(this.ctx),a=[],n=new B(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=s.globals.gridWidth/2,l=s.globals.gridHeight/2,c=o+s.config.plotOptions.radar.offsetX,d=l+s.config.plotOptions.radar.offsetY,u=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(d||0,")")}),h=[],p=null,m=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(e,o){var l=e.length===s.globals.dataPoints,c=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:x.escapeString(s.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});t.dataRadiusOfPercent[o]=[],t.dataRadius[o]=[],t.angleArr[o]=[],e.forEach(function(e,s){var i=Math.abs(t.maxValue-t.minValue);e+=Math.abs(t.minValue),t.isLog&&(e=t.coreUtils.getLogVal(e,0)),t.dataRadiusOfPercent[o][s]=e/i,t.dataRadius[o][s]=t.dataRadiusOfPercent[o][s]*t.size,t.angleArr[o][s]=s*t.disAngle}),h=t.getDataPointsPos(t.dataRadius[o],t.angleArr[o]);var d=t.createPaths(h,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),m=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":o}),s.globals.delayedElements.push({el:p.node,index:o});var u={i:o,realIndex:o,animationDelay:o,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[o],strokeLineCap:s.config.stroke.lineCap},f=null;s.globals.previousPaths.length>0&&(f=t.getPreviousPath(o));for(var g=0;g<d.linePathsTo.length;g++){var b=t.graphics.renderPaths(i(i({},u),{},{pathFrom:null===f?d.linePathsFrom[g]:f,pathTo:d.linePathsTo[g],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[o]:t.strokeWidth,fill:"none",drawShadow:!1}));c.add(b);var y=r.fillPath({seriesNumber:o}),w=t.graphics.renderPaths(i(i({},u),{},{pathFrom:null===f?d.areaPathsFrom[g]:f,pathTo:d.areaPathsTo[g],strokeWidth:0,fill:y,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var j=new v(t.ctx),N=s.config.chart.dropShadow;j.dropShadow(w,Object.assign({},N,{noUserSpaceOnUse:!0}),o)}c.add(w)}e.forEach(function(e,r){var a=new z(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:o,dataPointIndex:r}),l=t.graphics.drawMarker(h[r].x,h[r].y,a);l.attr("rel",r),l.attr("j",r),l.attr("index",o),l.node.setAttribute("default-marker-size",a.pSize);var d=t.graphics.group({class:"apexcharts-series-markers"});d&&d.add(l),p.add(d),c.add(p);var u=s.config.dataLabels;if(u.enabled){var f=u.formatter(s.globals.series[o][r],{seriesIndex:o,dataPointIndex:r,w:s});n.plotDataLabelsText({x:h[r].x,y:h[r].y,text:f,textAnchor:"middle",i:o,j:o,parent:m,offsetCorrection:!1,dataLabelsConfig:i({},u)})}c.add(m)}),a.push(c)}),this.drawPolygons({parent:u}),s.config.xaxis.labels.show){var f=this.drawXAxisTexts();u.add(f)}return a.forEach(function(e){u.add(e)}),u.add(this.yaxisLabels),u}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,i=e.parent,r=new Ce(this.ctx),a=s.globals.yAxisScale[0].result.reverse(),n=a.length,o=[],l=this.size/(n-1),c=0;c<n;c++)o[c]=l*c;o.reverse();var d=[],u=[];o.forEach(function(e,s){var i=x.getPolygonPos(e,t.dataPointsLen),r="";i.forEach(function(e,i){if(0===s){var a=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[i]:t.polygons.connectorColors);u.push(a)}0===i&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),r+=e.x+","+e.y+" "}),d.push(r)}),d.forEach(function(e,r){var a=t.polygons.strokeColors,n=t.polygons.strokeWidth,o=t.graphics.drawPolygon(e,Array.isArray(a)?a[r]:a,Array.isArray(n)?n[r]:n,s.globals.radarPolygons.fill.colors[r]);i.add(o)}),u.forEach(function(e){i.add(e)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(e,s){var i=r.drawYAxisTexts(e.x,e.y,s,a[s]);t.yaxisLabels.add(i)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),a=x.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(n,o){var l=t.config.xaxis.labels.formatter,c=new B(e.ctx);if(a[o]){var d=e.getTextPos(a[o],e.size),u=l(n,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:d.newX,y:d.newY,text:u,textAnchor:d.textAnchor,i:o,j:o,parent:r,color:Array.isArray(s.style.colors)&&s.style.colors[o]?s.style.colors[o]:"#a8a8a8",dataLabelsConfig:i({textAnchor:d.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1})}}),r}},{key:"createPaths",value:function(e,t){var s=this,i=[],r=[],a=[],n=[];if(e.length){r=[this.graphics.move(t.x,t.y)],n=[this.graphics.move(t.x,t.y)];var o=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach(function(t,i){o+=s.graphics.line(t.x,t.y),l+=s.graphics.line(t.x,t.y),i===e.length-1&&(o+="Z",l+="Z")}),i.push(o),a.push(l)}return{linePathsFrom:r,linePathsTo:i,areaPathsFrom:n,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var s="middle",i=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",i+=10):e.x<0&&(s="end",i-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:s,newX:i,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,i=0;i<t.globals.previousPaths.length;i++){var r=t.globals.previousPaths[i];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[i].paths[0]&&(s=t.globals.previousPaths[i].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],r=0;r<s;r++){var a={};a.x=e[r]*Math.sin(t[r]),a.y=-e[r]*Math.cos(t[r]),i.push(a)}return i}}]),e}(),Ee=function(){c(t,Ae);var e=h(t);function t(s){var i;a(this,t),(i=e.call(this,s)).ctx=s,i.w=s.w,i.animBeginArr=[0],i.animDur=0;var r=i.w;return i.startAngle=r.config.plotOptions.radialBar.startAngle,i.endAngle=r.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),i.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),360===i.endAngle&&(i.endAngle=359.99),i.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),i}return o(t,[{key:"draw",value:function(e){var t=this.w,s=new y(this.ctx),i=s.group({class:"apexcharts-radialbar"});if(t.globals.noData)return i;var r=s.group(),a=this.defaultSize/2,n=t.globals.gridWidth/2,o=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(o=o-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:o,centerX:n,centerY:a,colorArr:l,series:e});r.add(c)}var d=this.drawArcs({size:o,centerX:n,centerY:a,colorArr:l,series:e}),u=360;t.config.plotOptions.radialBar.startAngle<0&&(u=this.totalAngle);var h=(360-u)/360;if(t.globals.radialSize=o-o*h,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=p*h}return r.add(d.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),i.add(r),i}},{key:"drawTracks",value:function(e){var t=this.w,s=new y(this.ctx),i=s.group({class:"apexcharts-tracks"}),r=new v(this.ctx),a=new _(this.ctx),n=this.getStrokeWidth(e);e.size=e.size-n/2;for(var o=0;o<e.series.length;o++){var l=s.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(l),l.attr({rel:o+1}),e.size=e.size-n-this.margin;var c=t.config.plotOptions.radialBar.track,d=a.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(c.background)?c.background[o]:c.background,solid:!0}),u=this.trackStartAngle,h=this.trackEndAngle;Math.abs(h)+Math.abs(u)>=360&&(h=360-Math.abs(this.startAngle)-.1);var p=s.drawPath({d:"",stroke:d,strokeWidth:n*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var m=c.dropShadow;r.dropShadow(p,m)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+o),this.animatePaths(p,{centerX:e.centerX,centerY:e.centerY,endAngle:h,startAngle:u,size:e.size,i:o,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return i}},{key:"drawArcs",value:function(e){var t=this.w,s=new y(this.ctx),i=new _(this.ctx),r=new v(this.ctx),a=s.group(),n=this.getStrokeWidth(e);e.size=e.size-n/2;var o=t.config.plotOptions.radialBar.hollow.background,l=e.size-n*e.series.length-this.margin*e.series.length-n*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(o=this.drawHollowImage(e,a,l,o));var d=this.drawHollow({size:c,centerX:e.centerX,centerY:e.centerY,fill:o||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var u=t.config.plotOptions.radialBar.hollow.dropShadow;r.dropShadow(d,u)}var h=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(h=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:h})),"back"===t.config.plotOptions.radialBar.hollow.position&&(a.add(d),p&&a.add(p));var m=!1;t.config.plotOptions.radialBar.inverseOrder&&(m=!0);for(var f=m?e.series.length-1:0;m?f>=0:f<e.series.length;m?f--:f++){var g=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:x.escapeString(t.globals.seriesNames[f])});a.add(g),g.attr({rel:f+1,"data:realIndex":f}),this.ctx.series.addCollapsedClassToSeries(g,f),e.size=e.size-n-this.margin;var b=i.fillPath({seriesNumber:f,size:e.size,value:e.series[f]}),w=this.startAngle,j=void 0,N=x.negToZero(e.series[f]>100?100:e.series[f])/100,k=Math.round(this.totalAngle*N)+this.startAngle,S=void 0;t.globals.dataChanged&&(j=this.startAngle,S=Math.round(this.totalAngle*x.negToZero(t.globals.previousPaths[f])/100)+j),Math.abs(k)+Math.abs(w)>=360&&(k-=.01),Math.abs(S)+Math.abs(j)>=360&&(S-=.01);var C=k-w,A=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[f]:t.config.stroke.dashArray,T=s.drawPath({d:"",stroke:b,strokeWidth:n,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+f,strokeDashArray:A});if(y.setAttrs(T.node,{"data:angle":C,"data:value":e.series[f]}),t.config.chart.dropShadow.enabled){var E=t.config.chart.dropShadow;r.dropShadow(T,E,f)}r.setSelectionFilter(T,0,f),this.addListeners(T,this.radialDataLabels),g.add(T),T.attr({index:0,j:f});var R=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(R=t.config.chart.animations.speed),t.globals.dataChanged&&(R=t.config.chart.animations.dynamicAnimation.speed),this.animDur=R/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(T,{centerX:e.centerX,centerY:e.centerY,endAngle:k,startAngle:w,prevEndAngle:S,prevStartAngle:j,size:e.size,i:f,totalItems:2,animBeginArr:this.animBeginArr,dur:R,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:a,elHollow:d,dataLabels:p}}},{key:"drawHollow",value:function(e){var t=new y(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,s,i){var r=this.w,a=new _(this.ctx),n=x.randomId(),o=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)a.clippedImgArea({width:s,height:s,image:o,patternID:"pattern".concat(r.globals.cuid).concat(n)}),i="url(#pattern".concat(r.globals.cuid).concat(n,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var d=r.globals.dom.Paper.image(o).loaded(function(t){this.move(e.centerX-t.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)});t.add(d)}else{var u=r.globals.dom.Paper.image(o).loaded(function(t){this.move(e.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)});t.add(u)}}return i}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}}]),t}(),Re=function(){c(t,we);var e=h(t);function t(){return a(this,t),e.apply(this,arguments)}return o(t,[{key:"draw",value:function(e,t){var s=this.w,r=new y(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var a=r.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),n=0;n<e.length;n++){var o,c,d,u,h=void 0,p=void 0,m=s.globals.comboCharts?t[n]:n,f=r.group({class:"apexcharts-series",seriesName:x.escapeString(s.globals.seriesNames[m]),rel:n+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(f,m),e[n].length>0&&(this.visibleI=this.visibleI+1);var g=0,b=0;this.yRatio.length>1&&(this.yaxisIndex=m);var v=this.barHelpers.initialPositions();p=v.y,u=v.zeroW,h=v.x,b=v.barWidth,g=v.barHeight,o=v.xDivision,c=v.yDivision,d=v.zeroH;for(var w=r.group({class:"apexcharts-datalabels","data:realIndex":m}),j=r.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),N=0;N<s.globals.dataPoints;N++){var k,S=this.barHelpers.getStrokeWidth(n,N,m),C=this.seriesRangeStart[n][N],A=this.seriesRangeEnd[n][N],T=null,E=null,R=null,P={x:h,y:p,strokeWidth:S,elSeries:f},I=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(I=1),void 0===s.config.series[n].data[N])break;if(this.isHorizontal){R=p+g*this.visibleI;var L=(c-g*I)/2;if(s.config.series[n].data[N].x){var M=this.detectOverlappingBars({i:n,j:N,barYPosition:R,srty:L,barHeight:g,yDivision:c,initPositions:v});g=M.barHeight,R=M.barYPosition}b=(T=this.drawRangeBarPaths(i({indexes:{i:n,j:N,realIndex:m},barHeight:g,barYPosition:R,zeroW:u,yDivision:c,y1:C,y2:A},P))).barWidth}else{s.globals.isXNumeric&&(h=(s.globals.seriesX[n][N]-s.globals.minX)/this.xRatio-b/2),E=h+b*this.visibleI;var O=(o-b*I)/2;if(s.config.series[n].data[N].x){var D=this.detectOverlappingBars({i:n,j:N,barXPosition:E,srtx:O,barWidth:b,xDivision:o,initPositions:v});b=D.barWidth,E=D.barXPosition}g=(T=this.drawRangeColumnPaths(i({indexes:{i:n,j:N,realIndex:m},barWidth:b,barXPosition:E,zeroH:d,xDivision:o},P))).barHeight}var _=this.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:R,goalX:T.goalX,goalY:T.goalY,barHeight:g,barWidth:b});_&&j.add(_),p=T.y,h=T.x;var z=this.barHelpers.getPathFillColor(e,n,N,m),F=s.globals.stroke.colors[m];this.renderSeries((l(k={realIndex:m,pathFill:z,lineFill:F,j:N,i:n,x:h,y:p,y1:C,y2:A,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:S,elSeries:f,series:e,barHeight:g,barWidth:b,barXPosition:E,barYPosition:R},"barWidth",b),l(k,"elDataLabelsWrap",w),l(k,"elGoalsMarkers",j),l(k,"visibleSeries",this.visibleI),l(k,"type","rangebar"),k))}a.add(f)}return a}},{key:"detectOverlappingBars",value:function(e){var t=e.i,s=e.j,i=e.barYPosition,r=e.barXPosition,a=e.srty,n=e.srtx,o=e.barHeight,l=e.barWidth,c=e.yDivision,d=e.xDivision,u=e.initPositions,h=this.w,p=[],m=h.config.series[t].data[s].rangeName,f=h.config.series[t].data[s].x,g=Array.isArray(f)?f.join(" "):f,x=h.globals.labels.map(function(e){return Array.isArray(e)?e.join(" "):e}).indexOf(g),b=h.globals.seriesRange[t].findIndex(function(e){return e.x===g&&e.overlaps.length>0});return this.isHorizontal?(i=h.config.plotOptions.bar.rangeBarGroupRows?a+c*x:a+o*this.visibleI+c*x,b>-1&&!h.config.plotOptions.bar.rangeBarOverlap&&(p=h.globals.seriesRange[t][b].overlaps).indexOf(m)>-1&&(i=(o=u.barHeight/p.length)*this.visibleI+c*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+p.indexOf(m))+c*x)):(x>-1&&(r=h.config.plotOptions.bar.rangeBarGroupRows?n+d*x:n+l*this.visibleI+d*x),b>-1&&!h.config.plotOptions.bar.rangeBarOverlap&&(p=h.globals.seriesRange[t][b].overlaps).indexOf(m)>-1&&(r=(l=u.barWidth/p.length)*this.visibleI+d*(100-parseInt(this.barOptions.barWidth,10))/100/2+l*(this.visibleI+p.indexOf(m))+d*x)),{barYPosition:i,barXPosition:r,barHeight:o,barWidth:l}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,s=e.x,i=e.xDivision,r=e.barWidth,a=e.barXPosition,n=e.zeroH,o=this.w,l=t.i,c=t.j,d=this.yRatio[this.yaxisIndex],u=t.realIndex,h=this.getRangeValue(u,c),p=Math.min(h.start,h.end),m=Math.max(h.start,h.end);void 0===this.series[l][c]||null===this.series[l][c]?p=n:(p=n-p/d,m=n-m/d);var f=Math.abs(m-p),g=this.barHelpers.getColumnPaths({barXPosition:a,barWidth:r,y1:p,y2:m,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:t.realIndex,i:u,j:c,w:o});return o.globals.isXNumeric||(s+=i),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:f,x:s,y:m,goalY:this.barHelpers.getGoalValues("y",null,n,l,c),barXPosition:a}}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,s=e.y,i=e.y1,r=e.y2,a=e.yDivision,n=e.barHeight,o=e.barYPosition,l=e.zeroW,c=this.w,d=l+i/this.invertedYRatio,u=l+r/this.invertedYRatio,h=Math.abs(u-d),p=this.barHelpers.getBarpaths({barYPosition:o,barHeight:n,x1:d,x2:u,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:t.realIndex,realIndex:t.realIndex,j:t.j,w:c});return c.globals.isXNumeric||(s+=a),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:h,x:u,goalX:this.barHelpers.getGoalValues("x",l,null,t.realIndex,t.j),y:s}}},{key:"getRangeValue",value:function(e,t){var s=this.w;return{start:s.globals.seriesRangeStart[e][t],end:s.globals.seriesRangeEnd[e][t]}}}]),t}(),Pe=function(){function e(t){a(this,e),this.w=t.w,this.lineCtx=t}return o(e,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if(("gradient"===s.config.fill.type||"gradient"===s.config.fill.type[e])&&new w(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.realIndex,i=e.x,r=e.y,a=e.i,n=e.j,o=e.prevY,l=this.w,c=[],d=[];if(0===n){var u=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(u=(l.globals.seriesX[s][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(u),d.push(x.isNumber(t[a][0])?o+l.config.markers.offsetY:null),c.push(i+l.config.markers.offsetX),d.push(x.isNumber(t[a][n+1])?r+l.config.markers.offsetY:null)}else c.push(i+l.config.markers.offsetX),d.push(x.isNumber(t[a][n+1])?r+l.config.markers.offsetY:null);return{x:c,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,i=e.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var n=r.globals.previousPaths[a];("line"===n.type||"area"===n.type)&&n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(i,10)&&("line"===n.type?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[a].paths[0].d):"area"===n.type&&(this.lineCtx.appendPathFrom=!1,s=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(t=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s=e.i,i=e.series,r=e.prevY,a=e.lineYPosition,n=this.w;if(void 0!==(null===(t=i[s])||void 0===t?void 0:t[0]))r=(a=n.config.chart.stacked&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-i[s][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?i[s][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(n.config.chart.stacked&&s>0&&void 0===i[s][0])for(var o=s-1;o>=0;o--)if(null!==i[o][0]&&void 0!==i[o][0]){r=a=this.lineCtx.prevSeriesY[o][0];break}return{prevY:r,lineYPosition:a}}}]),e}(),Ie=function(){function e(t,s,i){a(this,e),this.ctx=t,this.w=t.w,this.xyRatios=s,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new F(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Pe(this),this.markers=new z(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return o(e,[{key:"draw",value:function(e,t,s,r){var a=this.w,n=new y(this.ctx),o=a.globals.comboCharts?t:a.config.chart.type,l=n.group({class:"apexcharts-".concat(o,"-series apexcharts-plot-series")}),c=new w(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=c.getLogSeries(e),this.yRatio=c.getLogYRatios(this.yRatio);for(var d=[],u=0;u<e.length;u++){e=this.lineHelpers.sameValueSeriesFix(u,e);var h=a.globals.comboCharts?s[u]:u;this._initSerieVariables(e,u,h);var p=[],m=[],f=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,h),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(f=(a.globals.seriesX[h][0]-a.globals.minX)/this.xRatio),m.push(f);var g,x=f,b=void 0,v=x,j=this.zeroY,N=this.zeroY;j=this.lineHelpers.determineFirstPrevY({i:u,series:e,prevY:j,lineYPosition:0}).prevY,p.push(j),g=j,"rangeArea"===o&&(b=N=this.lineHelpers.determineFirstPrevY({i:u,series:r,prevY:N,lineYPosition:0}).prevY);var k={type:o,series:e,realIndex:h,i:u,x:f,y:1,pX:x,pY:g,pathsFrom:this._calculatePathsFrom({type:o,series:e,i:u,realIndex:h,prevX:v,prevY:j,prevY2:N}),linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:m,yArrj:p,seriesRangeEnd:r},S=this._iterateOverDataPoints(i(i({},k),{},{iterations:"rangeArea"===o?e[u].length-1:void 0,isRangeStart:!0}));if("rangeArea"===o){var C=this._calculatePathsFrom({series:r,i:u,realIndex:h,prevX:v,prevY:N}),A=this._iterateOverDataPoints(i(i({},k),{},{series:r,pY:b,pathsFrom:C,iterations:r[u].length-1,isRangeStart:!1}));S.linePaths[0]=A.linePath+S.linePath,S.pathFromLine=A.pathFromLine+S.pathFromLine}this._handlePaths({type:o,realIndex:h,i:u,paths:S}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(a.config.chart.stacked)for(var T=d.length;T>0;T--)l.add(d[T-1]);else for(var E=0;E<d.length;E++)l.add(d[E]);return l}},{key:"_initSerieVariables",value:function(e,t,s){var i=this.w,r=new y(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-("on"===i.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[s]:i.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=s),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||"end"===i.config.plotOptions.area.fillTo)&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[s])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":s});var a=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":a,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,i,r,a=e.type,n=e.series,o=e.i,l=e.realIndex,c=e.prevX,d=e.prevY,u=e.prevY2,h=this.w,p=new y(this.ctx);if(null===n[o][0]){for(var m=0;m<n[o].length;m++)if(null!==n[o][m]){c=this.xDivision*m,d=this.zeroY-n[o][m]/this.yRatio[this.yaxisIndex],t=p.move(c,d),s=p.move(c,this.areaBottomY);break}}else t=p.move(c,d),"rangeArea"===a&&(t=p.move(c,u)+p.line(c,d)),s=p.move(c,this.areaBottomY)+p.line(c,d);if(i=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),r=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),h.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:r,realIndex:l});i=f.pathFromLine,r=f.pathFromArea}return{prevX:c,prevY:d,linePath:t,areaPath:s,pathFromLine:i,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,r=e.i,a=e.paths,n=this.w,o=new y(this.ctx),l=new _(this.ctx);this.prevSeriesY.push(a.yArrj),n.globals.seriesXvalues[s]=a.xArrj,n.globals.seriesYvalues[s]=a.yArrj;var c=n.config.forecastDataPoints;if(c.count>0&&"rangeArea"!==t){var d=n.globals.seriesXvalues[s][n.globals.seriesXvalues[s].length-c.count-1],u=o.drawRect(d,0,n.globals.gridWidth,n.globals.gridHeight,0);n.globals.dom.elForecastMask.appendChild(u.node);var h=o.drawRect(0,0,d,n.globals.gridHeight,0);n.globals.dom.elNonForecastMask.appendChild(h.node)}this.pointsChart||n.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var p={i:r,realIndex:s,animationDelay:r,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var m=l.fillPath({seriesNumber:s}),f=0;f<a.areaPaths.length;f++){var g=o.renderPaths(i(i({},p),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[f],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:m}));this.elSeries.add(g)}if(n.config.stroke.show&&!this.pointsChart){var x=null;if("line"===t)x=l.fillPath({seriesNumber:s,i:r});else if("solid"===n.config.stroke.fill.type)x=n.globals.stroke.colors[s];else{var b=n.config.fill;n.config.fill=n.config.stroke.fill,x=l.fillPath({seriesNumber:s,i:r}),n.config.fill=b}for(var v=0;v<a.linePaths.length;v++){var w=x;"rangeArea"===t&&(w=l.fillPath({seriesNumber:s}));var j=i(i({},p),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[v],stroke:x,strokeWidth:this.strokeWidth,strokeLineCap:n.config.stroke.lineCap,fill:"rangeArea"===t?w:"none"}),N=o.renderPaths(j);if(this.elSeries.add(N),N.attr("fill-rule","evenodd"),c.count>0&&"rangeArea"!==t){var k=o.renderPaths(j);k.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&k.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(n.globals.cuid,")")),N.attr("clip-path","url(#nonForecastMask".concat(n.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t=e.type,s=e.series,i=e.iterations,r=e.realIndex,a=e.i,n=e.x,o=e.y,l=e.pX,c=e.pY,d=e.pathsFrom,u=e.linePaths,h=e.areaPaths,p=e.seriesIndex,m=e.lineYPosition,f=e.xArrj,g=e.yArrj,b=e.isRangeStart,v=e.seriesRangeEnd,w=this.w,j=new y(this.ctx),N=this.yRatio,k=d.prevY,S=d.linePath,C=d.areaPath,A=d.pathFromLine,T=d.pathFromArea,E=x.isNumber(w.globals.minYArr[r])?w.globals.minYArr[r]:w.globals.minY;i||(i=w.globals.dataPoints>1?w.globals.dataPoints-1:w.globals.dataPoints);for(var R=o,P=0;P<i;P++){var I=void 0===s[a][P+1]||null===s[a][P+1];if(w.globals.isXNumeric){var L=w.globals.seriesX[r][P+1];void 0===w.globals.seriesX[r][P+1]&&(L=w.globals.seriesX[r][i-1]),n=(L-w.globals.minX)/this.xRatio}else n+=this.xDivision;m=w.config.chart.stacked&&a>0&&w.globals.collapsedSeries.length<w.config.series.length-1?this.prevSeriesY[function(e){for(var t=e,s=0;s<w.globals.series.length;s++)if(w.globals.collapsedSeriesIndices.indexOf(e)>-1){t--;break}return t>=0?t:0}(a-1)][P+1]:this.zeroY,I?o=m-E/N[this.yaxisIndex]+2*(this.isReversed?E/N[this.yaxisIndex]:0):(o=m-s[a][P+1]/N[this.yaxisIndex]+2*(this.isReversed?s[a][P+1]/N[this.yaxisIndex]:0),"rangeArea"===t&&(R=m-v[a][P+1]/N[this.yaxisIndex]+2*(this.isReversed?v[a][P+1]/N[this.yaxisIndex]:0))),f.push(n),g.push(o);var M=this.lineHelpers.calculatePoints({series:s,x:n,y:o,realIndex:r,i:a,j:P,prevY:k}),O=this._createPaths({type:t,series:s,i:a,realIndex:r,j:P,x:n,y:o,y2:R,pX:l,pY:c,linePath:S,areaPath:C,linePaths:u,areaPaths:h,seriesIndex:p,isRangeStart:b});h=O.areaPaths,u=O.linePaths,l=O.pX,c=O.pY,C=O.areaPath,S=O.linePath,this.appendPathFrom&&(A+=j.line(n,this.zeroY),T+=j.line(n,this.zeroY)),this.handleNullDataPoints(s,M,a,P,r),this._handleMarkersAndLabels({type:t,pointsPos:M,i:a,j:P,realIndex:r,isRangeStart:b})}return{yArrj:g,xArrj:f,pathFromArea:T,areaPaths:h,pathFromLine:A,linePaths:u,linePath:S,areaPath:C}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,i=e.isRangeStart,r=e.i,a=e.j,n=e.realIndex,o=this.w,l=new B(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:n,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{o.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(s,n,a+1);null!==c&&this.elPointsMain.add(c)}var d=l.drawDataLabel({type:t,isRangeStart:i,pos:s,i:n,j:a+1});null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,i=e.i,r=e.realIndex,a=e.j,n=e.x,o=e.y,l=e.y2,c=e.pX,d=e.pY,u=e.linePath,h=e.areaPath,p=e.linePaths,m=e.areaPaths,f=e.seriesIndex,g=e.isRangeStart,x=this.w,b=new y(this.ctx),v=x.config.stroke.curve,w=this.areaBottomY;if(Array.isArray(x.config.stroke.curve)&&(v=Array.isArray(f)?x.config.stroke.curve[f[i]]:x.config.stroke.curve[i]),"smooth"===v){var j=.35*(n-c);x.globals.hasNullValues?(null!==s[i][a]&&(null!==s[i][a+1]?(u=b.move(c,d)+b.curve(c+j,d,n-j,o,n+1,o),h=b.move(c+1,d)+b.curve(c+j,d,n-j,o,n+1,o)+b.line(n,w)+b.line(c,w)+"z"):(u=b.move(c,d),h=b.move(c,d)+"z")),p.push(u),m.push(h)):(u+=b.curve(c+j,d,n-j,o,n,o),h+=b.curve(c+j,d,n-j,o,n,o)),c=n,d=o,a===s[i].length-2&&(h=h+b.curve(c,d,n,o,n,w)+b.move(n,o)+"z","rangeArea"===t&&g?u=u+b.curve(c,d,n,o,n,l)+b.move(n,l)+"z":x.globals.hasNullValues||(p.push(u),m.push(h)))}else{if(null===s[i][a+1]){u+=b.move(n,o);var N=x.globals.isXNumeric?(x.globals.seriesX[r][a]-x.globals.minX)/this.xRatio:n-this.xDivision;h=h+b.line(N,w)+b.move(n,o)+"z"}null===s[i][a]&&(u+=b.move(n,o),h+=b.move(n,w)),"stepline"===v?(u=u+b.line(n,null,"H")+b.line(null,o,"V"),h=h+b.line(n,null,"H")+b.line(null,o,"V")):"straight"===v&&(u+=b.line(n,o),h+=b.line(n,o)),a===s[i].length-2&&(h=h+b.line(n,w)+b.move(n,o)+"z","rangeArea"===t&&g?u=u+b.line(n,l)+b.move(n,l)+"z":(p.push(u),m.push(h)))}return{linePaths:p,areaPaths:m,pX:c,pY:d,linePath:u,areaPath:h}}},{key:"handleNullDataPoints",value:function(e,t,s,i,r){var a=this.w;if(null===e[s][i]&&a.config.markers.showNullDataPoints||1===e[s].length){var n=this.markers.plotChartMarkers(t,r,i+1,this.strokeWidth-a.config.markers.strokeWidth/2,!0);null!==n&&this.elPointsMain.add(n)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,s,i,r){this.xoffset=t,this.yoffset=s,this.height=r,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,s=[],i=this.xoffset,r=this.yoffset,n=a(e)/this.height,o=a(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)s.push([i,r,i+n,r+e[t]/n]),r+=e[t]/n;else for(t=0;t<e.length;t++)s.push([i,r,i+e[t]/o,r+o]),i+=e[t]/o;return s},this.cutArea=function(t){var s;if(this.width>=this.height){var i=t/this.height,r=this.width-i;s=new e(this.xoffset+i,this.yoffset,r,this.height)}else{var a=t/this.width,n=this.height-a;s=new e(this.xoffset,this.yoffset+a,this.width,n)}return s}}function t(t,i,r,n,o){return n=void 0===n?0:n,o=void 0===o?0:o,function(e){var t,s,i=[];for(t=0;t<e.length;t++)for(s=0;s<e[t].length;s++)i.push(e[t][s]);return i}(s(function(e,t){var s,i=[],r=t/a(e);for(s=0;s<e.length;s++)i[s]=e[s]*r;return i}(t,i*r),[],new e(n,o,i,r),[]))}function s(e,t,r,n){var o,l,c,d,u,h,p;if(0!==e.length)return o=r.shortestEdge(),d=t,u=l=e[0],h=o,0===d.length||((p=d.slice()).push(u),i(d,h)>=i(p,h))?(t.push(l),s(e.slice(1),t,r,n)):(c=r.cutArea(a(t),n),n.push(r.getCoordinates(t)),s(e,[],c,n)),n;n.push(r.getCoordinates(t))}function i(e,t){var s=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=a(e);return Math.max(Math.pow(t,2)*i/Math.pow(r,2),Math.pow(r,2)/(Math.pow(t,2)*s))}function r(e){return e&&e.constructor===Array}function a(e){var t,s=0;for(t=0;t<e.length;t++)s+=e[t];return s}function n(e){var t,s=0;if(r(e[0]))for(t=0;t<e.length;t++)s+=n(e[t]);else s=a(e);return s}return function e(s,i,a,o,l){o=void 0===o?0:o,l=void 0===l?0:l;var c,d,u=[],h=[];if(r(s[0])){for(d=0;d<s.length;d++)u[d]=n(s[d]);for(c=t(u,i,a,o,l),d=0;d<s.length;d++)h.push(e(s[d],c[d][2]-c[d][0],c[d][3]-c[d][1],c[d][0],c[d][1]))}else h=t(s,i,a,o,l);return h}}();var Le,Me,Oe=function(){function e(t,s){a(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ke(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return o(e,[{key:"draw",value:function(e){var t=this,s=this.w,i=new y(this.ctx),r=new _(this.ctx),a=i.group({class:"apexcharts-treemap"});if(s.globals.noData)return a;var n=[];return e.forEach(function(e){var t=e.map(function(e){return Math.abs(e)});n.push(t)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(e,s){e.data.forEach(function(e){Array.isArray(t.labels[s])||(t.labels[s]=[]),t.labels[s].push(e.x)})}),window.TreemapSquared.generate(n,s.globals.gridWidth,s.globals.gridHeight).forEach(function(n,o){var l=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:x.escapeString(s.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});if(s.config.chart.dropShadow.enabled){var c=s.config.chart.dropShadow;new v(t.ctx).dropShadow(a,c,o)}var d=i.group({class:"apexcharts-data-labels"});n.forEach(function(a,n){var c=a[0],d=a[1],u=a[2],h=a[3],p=i.drawRect(c,d,u-c,h-d,0,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?f:s.globals.stroke.colors[o]);p.attr({cx:c,cy:d,index:o,i:o,j:n,width:u-c,height:h-d});var m=t.helpers.getShadeColor(s.config.chart.type,o,n,t.negRange),f=m.color;void 0!==s.config.series[o].data[n]&&s.config.series[o].data[n].fillColor&&(f=s.config.series[o].data[n].fillColor);var g=r.fillPath({color:f,seriesNumber:o,dataPointIndex:n});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),t.helpers.addListeners(p);var x={x:c+(u-c)/2,y:d+(h-d)/2,width:0,height:0},b={x:c,y:d,width:u-c,height:h-d};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var v=1;s.globals.resized||(v=s.config.chart.animations.speed),t.animateTreemap(p,x,b,v)}if(s.globals.dataChanged){var y=1;t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(y=t.dynamicAnim.speed,s.globals.previousPaths[o]&&s.globals.previousPaths[o][n]&&s.globals.previousPaths[o][n].rect&&(x=s.globals.previousPaths[o][n].rect),t.animateTreemap(p,x,b,y))}var w=t.getFontSize(a),j=s.config.dataLabels.formatter(t.labels[o][n],{value:s.globals.series[o][n],seriesIndex:o,dataPointIndex:n,w:s}),N=t.helpers.calculateDataLabels({text:j,x:(c+u)/2,y:(d+h)/2+t.strokeWidth/2+w/3,i:o,j:n,colorProps:m,fontSize:w,series:e});s.config.dataLabels.enabled&&N&&t.rotateToFitLabel(N,w,j,c,d,u,h),l.add(p),null!==N&&l.add(N)}),l.add(d),a.add(l)}),a}},{key:"getFontSize",value:function(e){var t,s,i=this.w,r=function e(t){var s,i=0;if(Array.isArray(t[0]))for(s=0;s<t.length;s++)i+=e(t[s]);else for(s=0;s<t.length;s++)i+=t[s].length;return i}(this.labels)/function e(t){var s,i=0;if(Array.isArray(t[0]))for(s=0;s<t.length;s++)i+=e(t[s]);else for(s=0;s<t.length;s++)i+=1;return i}(this.labels);return t=(e[2]-e[0])*(e[3]-e[1]),s=Math.pow(t,.5),Math.min(s/r,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,s,i,r,a,n){var o=new y(this.ctx),l=o.getTextRects(s,t);if(l.width+this.w.config.stroke.width+5>a-i&&l.width<=n-r){var c=o.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,")"))}}},{key:"animateTreemap",value:function(e,t,s,i){var r=new b(this.ctx);r.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:s.x,y:s.y,width:s.width,height:s.height},i,function(){r.animationCompleted(e)})}}]),e}(),De=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return o(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var a=new E(this.ctx),n=(t-e)/864e5;this.determineInterval(n),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,n<.00011574074074074075?r.globals.disableZoomIn=!0:n>5e4&&(r.globals.disableZoomOut=!0);var o=a.getTimeUnitsfromTimestamp(e,t,this.utc),l=r.globals.gridWidth/n,c=l/24,d=c/60,u=d/60,h=Math.floor(24*n),p=Math.floor(1440*n),m=Math.floor(86400*n),f=Math.floor(n),g=Math.floor(n/30),x=Math.floor(n/365),b={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},v={firstVal:b,currentMillisecond:b.minMillisecond,currentSecond:b.minSecond,currentMinute:b.minMinute,currentHour:b.minHour,currentMonthDate:b.minDate,currentDate:b.minDate,currentMonth:b.minMonth,currentYear:b.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:d,secondsWidthOnXAxis:u,numberOfSeconds:m,numberOfMinutes:p,numberOfHours:h,numberOfDays:f,numberOfMonths:g,numberOfYears:x};switch(this.tickInterval){case"years":this.generateYearScale(v);break;case"months":case"half_year":this.generateMonthScale(v);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(v);break;case"hours":this.generateHourScale(v);break;case"minutes_fives":case"minutes":this.generateMinuteScale(v);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(v)}var y=this.timeScaleArray.map(function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?i(i({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?i(i({},t),{},{value:e.value}):"minute"===e.unit?i(i({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?i(i({},t),{},{value:e.value,minute:e.minute,second:e.second}):e});return y.filter(function(e){var t=1,i=Math.ceil(r.globals.gridWidth/120),a=e.value;void 0!==r.config.xaxis.tickAmount&&(i=r.config.xaxis.tickAmount),y.length>i&&(t=Math.floor(y.length/i));var n=!1,o=!1;switch(s.tickInterval){case"years":"year"===e.unit&&(n=!0);break;case"half_year":t=7,"year"===e.unit&&(n=!0);break;case"months":t=1,"year"===e.unit&&(n=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(n=!0),30===a&&(o=!0);break;case"months_days":t=10,"month"===e.unit&&(n=!0),30===a&&(o=!0);break;case"week_days":t=8,"month"===e.unit&&(n=!0);break;case"days":t=1,"month"===e.unit&&(n=!0);break;case"hours":"day"===e.unit&&(n=!0);break;case"minutes_fives":case"seconds_fives":a%5!=0&&(o=!0);break;case"seconds_tens":a%10!=0&&(o=!0)}if("hours"===s.tickInterval||"minutes_fives"===s.tickInterval||"seconds_tens"===s.tickInterval||"seconds_fives"===s.tickInterval){if(!o)return!0}else if((a%t==0||n)&&!o)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,i=this.formatDates(e),r=this.removeOverlappingTS(i);s.globals.timescaleLabels=r.slice(),new oe(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,i=e.currentYear,r=e.daysWidthOnXAxis,a=e.numberOfYears,n=t.minYear,o=0,l=new E(this.ctx),c="year";if(t.minDate>1||t.minMonth>0){var d=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);o=(l.determineDaysOfYear(t.minYear)-d+1)*r,n=t.minYear+1,this.timeScaleArray.push({position:o,value:n,unit:c,year:n,month:x.monthMod(s+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:o,value:n,unit:c,year:i,month:x.monthMod(s+1)});for(var u=n,h=o,p=0;p<a;p++)u++,h=l.determineDaysOfYear(u-1)*r+h,this.timeScaleArray.push({position:h,value:u,unit:c,year:u,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,i=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,n=e.numberOfMonths,o=i,l=0,c=new E(this.ctx),d="month",u=0;if(t.minDate>1){l=(c.determineDaysOfMonths(i+1,t.minYear)-s+1)*a,o=x.monthMod(i+1);var h=r+u,p=x.monthMod(o),m=o;0===o&&(d="year",m=h,p=1,h+=u+=1),this.timeScaleArray.push({position:l,value:m,unit:d,year:h,month:p})}else this.timeScaleArray.push({position:l,value:o,unit:d,year:r,month:x.monthMod(i)});for(var f=o+1,g=l,b=0,v=1;b<n;b++,v++){0===(f=x.monthMod(f))?(d="year",u+=1):d="month";var y=this._getYear(r,f,u);g=c.determineDaysOfMonths(f,y)*a+g;var w=0===f?y:f;this.timeScaleArray.push({position:g,value:w,unit:d,year:y,month:0===f?1:f}),f++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,i=e.currentYear,r=e.hoursWidthOnXAxis,a=e.numberOfDays,n=new E(this.ctx),o="day",l=t.minDate+1,c=l,d=function(e,t,s){return e>n.determineDaysOfMonths(t+1,s)?(c=1,o="month",h=t+=1,t):t},u=(24-t.minHour)*r,h=l,p=d(c,s,i);0===t.minHour&&1===t.minDate?(u=0,h=x.monthMod(t.minMonth),o="month",c=t.minDate,a++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(u=0,l=t.minDate,h=l,p=d(c=l,s,i)),this.timeScaleArray.push({position:u,value:h,unit:o,year:this._getYear(i,p,0),month:x.monthMod(p),day:c});for(var m=u,f=0;f<a;f++){o="day",p=d(c+=1,p,this._getYear(i,p,0));var g=this._getYear(i,p,0);m=24*r+m;var b=1===c?x.monthMod(p):c;this.timeScaleArray.push({position:m,value:b,unit:o,year:g,month:x.monthMod(p),day:b})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,i=e.currentMonth,r=e.currentYear,a=e.minutesWidthOnXAxis,n=e.numberOfHours,o=new E(this.ctx),l="hour",c=function(e,t){return e>o.determineDaysOfMonths(t+1,r)&&(f=1,t+=1),{month:t,date:f}},d=function(e,t){return e>o.determineDaysOfMonths(t+1,r)?t+=1:t},u=60-(t.minMinute+t.minSecond/60),h=u*a,p=t.minHour+1,m=p+1;60===u&&(h=0,m=(p=t.minHour)+1);var f=s,g=d(f,i);this.timeScaleArray.push({position:h,value:p,unit:l,day:f,hour:m,year:r,month:x.monthMod(g)});for(var b=h,v=0;v<n;v++){l="hour",m>=24&&(m=0,l="day",g=c(f+=1,g).month,g=d(f,g));var y=this._getYear(r,g,0);b=60*a+b;var w=0===m?f:m;this.timeScaleArray.push({position:b,value:w,unit:l,hour:m,day:f,year:y,month:x.monthMod(g)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,i=e.currentMinute,r=e.currentHour,a=e.currentDate,n=e.currentMonth,o=e.currentYear,l=e.minutesWidthOnXAxis,c=e.secondsWidthOnXAxis,d=e.numberOfMinutes,u=i+1,h=a,p=n,m=o,f=r,g=(60-s-t/1e3)*c,b=0;b<d;b++)u>=60&&(u=0,24===(f+=1)&&(f=0)),this.timeScaleArray.push({position:g,value:u,unit:"minute",hour:f,minute:u,day:h,year:this._getYear(m,p,0),month:x.monthMod(p)}),g+=l,u++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,i=e.currentMinute,r=e.currentHour,a=e.currentDate,n=e.currentMonth,o=e.currentYear,l=e.secondsWidthOnXAxis,c=e.numberOfSeconds,d=s+1,u=i,h=a,p=n,m=o,f=r,g=(1e3-t)/1e3*l,b=0;b<c;b++)d>=60&&(d=0,++u>=60&&(u=0,24===++f&&(f=0))),this.timeScaleArray.push({position:g,value:d,unit:"second",hour:f,minute:u,second:d,day:h,year:this._getYear(m,p,0),month:x.monthMod(p)}),g+=l,d++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return 0===e.month&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?s+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?s+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map(function(e){var i=e.value.toString(),r=new E(t.ctx),a=t.createRawDateString(e,i),n=r.getDate(r.parseDate(a));if(t.utc||(n=r.getDate(r.parseDateWithTimezone(a))),void 0===s.config.xaxis.labels.format){var o="dd MMM",l=s.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(o=l.year),"month"===e.unit&&(o=l.month),"day"===e.unit&&(o=l.day),"hour"===e.unit&&(o=l.hour),"minute"===e.unit&&(o=l.minute),"second"===e.unit&&(o=l.second),i=r.formatDate(n,o)}else i=r.formatDate(n,s.config.xaxis.labels.format);return{dateString:a,position:e.position,value:i,unit:e.unit,year:e.year,month:e.month}})}},{key:"removeOverlappingTS",value:function(e){var t,s=this,i=new y(this.ctx),r=!1;e.length>0&&e[0].value&&e.every(function(t){return t.value.length===e[0].value.length})&&(r=!0,t=i.getTextRects(e[0].value).width);var a=0,n=e.map(function(n,o){if(o>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var l=r?t:i.getTextRects(e[a].value).width,c=e[a].position;return n.position>c+l+10?(a=o,n):null}return n});return n.filter(function(e){return null!==e})}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),e}(),_e=function(){function e(t,s){a(this,e),this.ctx=s,this.w=s.w,this.el=t}return o(e,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,s=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(s)>-1,e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(s)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),y.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),y.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.dom.elLegendForeign.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,i=s.config,r=s.globals,a={series:[],i:[]},n={series:[],i:[]},o={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},d={series:[],i:[]},u={series:[],i:[]},h={series:[],i:[]},p={series:[],seriesRangeEnd:[],i:[]};r.series.map(function(t,m){var f=0;void 0!==e[m].type?("column"===e[m].type||"bar"===e[m].type?(r.series.length>1&&i.plotOptions.bar.horizontal,c.series.push(t),c.i.push(m),f++,s.globals.columnSeries=c.series):"area"===e[m].type?(n.series.push(t),n.i.push(m),f++):"line"===e[m].type?(a.series.push(t),a.i.push(m),f++):"scatter"===e[m].type?(o.series.push(t),o.i.push(m)):"bubble"===e[m].type?(l.series.push(t),l.i.push(m),f++):"candlestick"===e[m].type?(d.series.push(t),d.i.push(m),f++):"boxPlot"===e[m].type?(u.series.push(t),u.i.push(m),f++):"rangeBar"===e[m].type?(h.series.push(t),h.i.push(m),f++):"rangeArea"===e[m].type&&(p.series.push(r.seriesRangeStart[m]),p.seriesRangeEnd.push(r.seriesRangeEnd[m]),p.i.push(m),f++),f>1&&(r.comboCharts=!0)):(a.series.push(t),a.i.push(m))});var m=new Ie(this.ctx,t),f=new Ne(this.ctx,t);this.ctx.pie=new Ae(this.ctx);var g=new Ee(this.ctx);this.ctx.rangeBar=new Re(this.ctx,t);var x=new Te(this.ctx),b=[];if(r.comboCharts){if(n.series.length>0&&b.push(m.draw(n.series,"area",n.i)),c.series.length>0)if(s.config.chart.stacked){var v=new je(this.ctx,t);b.push(v.draw(c.series,c.i))}else this.ctx.bar=new we(this.ctx,t),b.push(this.ctx.bar.draw(c.series,c.i));if(p.series.length>0&&b.push(m.draw(p.series,"rangeArea",p.i,p.seriesRangeEnd)),a.series.length>0&&b.push(m.draw(a.series,"line",a.i)),d.series.length>0&&b.push(f.draw(d.series,"candlestick",d.i)),u.series.length>0&&b.push(f.draw(u.series,"boxPlot",u.i)),h.series.length>0&&b.push(this.ctx.rangeBar.draw(h.series,h.i)),o.series.length>0){var y=new Ie(this.ctx,t,!0);b.push(y.draw(o.series,"scatter",o.i))}if(l.series.length>0){var w=new Ie(this.ctx,t,!0);b.push(w.draw(l.series,"bubble",l.i))}}else switch(i.chart.type){case"line":b=m.draw(r.series,"line");break;case"area":b=m.draw(r.series,"area");break;case"bar":i.chart.stacked?b=new je(this.ctx,t).draw(r.series):(this.ctx.bar=new we(this.ctx,t),b=this.ctx.bar.draw(r.series));break;case"candlestick":b=new Ne(this.ctx,t).draw(r.series,"candlestick");break;case"boxPlot":b=new Ne(this.ctx,t).draw(r.series,i.chart.type);break;case"rangeBar":b=this.ctx.rangeBar.draw(r.series);break;case"rangeArea":b=m.draw(r.seriesRangeStart,"rangeArea",void 0,r.seriesRangeEnd);break;case"heatmap":b=new Se(this.ctx,t).draw(r.series);break;case"treemap":b=new Oe(this.ctx,t).draw(r.series);break;case"pie":case"donut":case"polarArea":b=this.ctx.pie.draw(r.series);break;case"radialBar":b=g.draw(r.series);break;case"radar":b=x.draw(r.series);break;default:b=m.draw(r.series)}return b}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var s=x.getDimensions(this.el),i=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===i?x.isNumber(s[0])&&(0===s[0].width&&(s=x.getDimensions(this.el.parentNode)),e.svgWidth=s[0]*parseInt(t.chart.width,10)/100):"px"!==i&&""!==i||(e.svgWidth=parseInt(t.chart.width,10));var r=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===r){var a=x.getDimensions(this.el.parentNode);e.svgHeight=a[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.axisCharts?e.svgHeight=e.svgWidth/1.61:e.svgHeight=e.svgWidth/1.2;if(e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),y.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==r){var n=t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+n+"px"}e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,s={transform:"translate("+e.translateX+", "+t+")"};y.setAttrs(e.dom.elGraphical.node,s)}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(s=new ce(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var n=x.getBoundingClientRect(r);a=n.bottom;var o=n.bottom-n.top;a=Math.max(2.05*e.globals.radialSize,o)}var l=a+t.translateY+s+i;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=l+"px",y.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new G(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(e){return[]})},s=new O,i=this.w.globals;s.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new J(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new J(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new De(this.ctx);var s=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}e=new w(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var s=t.config.chart.brush.targets||[t.config.chart.brush.target];s.forEach(function(t){var s=ApexCharts.getChartByID(t);s.w.globals.brushSource=e.ctx,"function"!=typeof s.w.config.chart.events.zoomed&&(s.w.config.chart.events.zoomed=function(){e.updateSourceChart(s)}),"function"!=typeof s.w.config.chart.events.scrolled&&(s.w.config.chart.events.scrolled=function(){e.updateSourceChart(s)})}),t.config.chart.events.selection=function(e,r){s.forEach(function(e){var s=ApexCharts.getChartByID(e),a=x.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===s.w.globals.series.length){var n=new q(s);a=n.autoScaleY(s,a,r)}var o=s.w.config.yaxis.reduce(function(e,t,r){return[].concat(m(e),[i(i({},s.w.config.yaxis[r]),{},{min:a[0].min,max:a[0].max})])},[]);s.ctx.updateHelpers._updateOptions({xaxis:{min:r.xaxis.min,max:r.xaxis.max},yaxis:o},!1,!1,!1,!1)})}}}}]),e}(),ze=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(o){var l=[t.ctx];a&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(a,c){var d=a.w;if(d.globals.shouldAnimate=i,s||(d.globals.resized=!0,d.globals.dataChanged=!0,i&&a.series.getPreviousPaths()),e&&"object"===r(e)&&(a.config=new M(e),e=w.extendArrayProps(a.config,e,d),a.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,d.config=x.extend(d.config,e),n&&(d.globals.lastXAxis=e.xaxis?x.clone(e.xaxis):[],d.globals.lastYAxis=e.yaxis?x.clone(e.yaxis):[],d.globals.initialConfig=x.extend({},d.config),d.globals.initialSeries=x.clone(d.config.series),e.series))){for(var u=0;u<d.globals.collapsedSeriesIndices.length;u++){var h=d.config.series[d.globals.collapsedSeriesIndices[u]];d.globals.collapsedSeries[u].data=d.globals.axisCharts?h.data.slice():h}for(var p=0;p<d.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[p]];d.globals.ancillaryCollapsedSeries[p].data=d.globals.axisCharts?m.data.slice():m}a.series.emptyCollapsedSeries(d.config.series)}return a.update(e).then(function(){c===l.length-1&&o(a)})})})}},{key:"_updateSeries",value:function(e,t){var s=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(r){var a,n=s.w;return n.globals.shouldAnimate=t,n.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),n.globals.axisCharts?(0===(a=e.map(function(e,t){return s._extendSeries(e,t)})).length&&(a=[{data:[]}]),n.config.series=a):n.config.series=e.slice(),i&&(n.globals.initialConfig.series=x.clone(n.config.series),n.globals.initialSeries=x.clone(n.config.series)),s.ctx.update().then(function(){r(s.ctx)})})}},{key:"_extendSeries",value:function(e,t){var s=this.w,r=s.config.series[t];return i(i({},s.config.series[t]),{},{name:e.name?e.name:r&&r.name,color:e.color?e.color:r&&r.color,type:e.type?e.type:r&&r.type,data:e.data?e.data:r&&r.data})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,i=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?i=s.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")).members[0]:void 0===t&&(i=s.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"']")).members[0],"pie"!==s.config.chart.type&&"polarArea"!==s.config.chart.type&&"donut"!==s.config.chart.type||this.ctx.pie.pieClicked(e)),i?(new y(this.ctx).pathMouseDown(i,null),i.node?i.node:null):null}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(s){void 0!==e.xaxis[s]&&(t.config.xaxis[s]=e.xaxis[s],t.globals.lastXAxis[s]=e.xaxis[s])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new L(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&"100%"===e.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,i=s.globals.lastXAxis,r=s.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(r=e.yaxis),s.config.xaxis.min=i.min,s.config.xaxis.max=i.max;s.config.yaxis.map(function(e,i){s.globals.zoomed||void 0!==r[i]?function(e){void 0!==r[e]&&(s.config.yaxis[e].min=r[e].min,s.config.yaxis[e].max=r[e].max)}(i):void 0!==t.ctx.opts.yaxis[i]&&(e.min=t.ctx.opts.yaxis[i].min,e.max=t.ctx.opts.yaxis[i].max)})}}]),e}();Le="undefined"!=typeof window?window:void 0,Me=function(e,t){var s=(void 0!==this?this:e).SVG=function(e){if(s.supported)return e=new s.Doc(e),s.parser.draw||s.prepare(),e};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.dev",s.supported=!0,!s.supported)return!1;s.did=1e3,s.eid=function(e){return"Svgjs"+u(e)+s.did++},s.create=function(e){var s=t.createElementNS(this.ns,e);return s.setAttribute("id",this.eid(e)),s},s.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var i=e.length-1;i>=0;i--)if(e[i])for(var r in t)e[i].prototype[r]=t[r];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,s.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&s.extend(t,e.extend),e.construct&&s.extend(e.parent||s.Container,e.construct),t},s.adopt=function(t){return t?t.instance?t.instance:((i="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new s.Nested:new s.Doc:"linearGradient"==t.nodeName?new s.Gradient("linear"):"radialGradient"==t.nodeName?new s.Gradient("radial"):s[u(t.nodeName)]?new(s[u(t.nodeName)]):new s.Element(t)).type=t.nodeName,i.node=t,t.instance=i,i instanceof s.Doc&&i.namespace().defs(),i.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),i):null;var i},s.prepare=function(){var e=t.getElementsByTagName("body")[0],i=(e?new s.Doc(e):s.adopt(t.documentElement).nested()).size(2,0);s.parser={body:e||t.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},t.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(e,t){for(var s=e.length,i=[],r=0;r<s;r++)i.push(t(e[r]));return i},filter:function(e,t){for(var s=e.length,i=[],r=0;r<s;r++)t(e[r])&&i.push(e[r]);return i},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof e.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(e){var t,i;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?s.regex.isRgb.test(e)?(t=s.regex.rgb.exec(e.replace(s.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):s.regex.isHex.test(e)&&(t=s.regex.hex.exec(4==(i=e).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===r(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+h(this.r)+h(this.g)+h(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new s.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new s.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),s.Color.test=function(e){return e+="",s.regex.isHex.test(e)||s.regex.isRgb.test(e)},s.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},s.Color.isColor=function(e){return s.Color.isRgb(e)||s.Color.test(e)},s.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},s.extend(s.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),s.PointArray=function(e,t){s.Array.call(this,e,t||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray;for(var i={M:function(e,t,s){return t.x=s.x=e[0],t.y=s.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},Z:function(e,t,s){return t.x=s.x,t.y=s.y,["Z"]}},a="mlhvqtcsaz".split(""),n=0,o=a.length;n<o;++n)i[a[n]]=function(e){return function(t,s,r){if("H"==e)t[0]=t[0]+s.x;else if("V"==e)t[0]=t[0]+s.y;else if("A"==e)t[5]=t[5]+s.x,t[6]=t[6]+s.y;else for(var a=0,n=t.length;a<n;++a)t[a]=t[a]+(a%2?s.y:s.x);if(i&&"function"==typeof i[e])return i[e](t,s,r)}}(a[n].toUpperCase());s.PathArray=function(e,t){s.Array.call(this,e,t||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return function(e){for(var t=0,s=e.length,i="";t<s;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}(this.value)},move:function(e,t){var s=this.bbox();return s.x,s.y,this},at:function(e){if(!this.destination)return this;for(var t=this.value,i=this.destination.value,r=[],a=new s.PathArray,n=0,o=t.length;n<o;n++){r[n]=[t[n][0]];for(var l=1,c=t[n].length;l<c;l++)r[n][l]=t[n][l]+(i[n][l]-t[n][l])*e;"A"===r[n][0]&&(r[n][4]=+(0!=r[n][4]),r[n][5]=+(0!=r[n][5]))}return a.value=r,a},parse:function(e){if(e instanceof s.PathArray)return e.valueOf();var t,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(s.regex.numbersWithDots,c).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):e.reduce(function(e,t){return[].concat.call(e,t)},[]);var a=[],n=new s.Point,o=new s.Point,l=0,d=e.length;do{s.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),a.push(i[t].call(null,e.slice(l,l+=r[t.toUpperCase()]).map(parseFloat),n,o))}while(d>l);return a},bbox:function(){return s.parser.draw||s.prepare(),s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(s.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof s.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new s.Number(e),new s.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new s.Number(e),new s.Number(this-e,this.unit||e.unit)},times:function(e){return e=new s.Number(e),new s.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new s.Number(e),new s.Number(this/e,this.unit||e.unit)},to:function(e){var t=new s.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new s.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new s.Number(this.destination).minus(this).times(e).plus(this):this}}}),s.Element=s.invent({create:function(e){this._stroke=s.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var i=p(this,e,t);return this.width(new s.Number(i.width)).height(new s.Number(i.height))},clone:function(e){this.writeDataToDom();var t=g(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(s.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return s.get(this.attr(e))},parent:function(t){var i=this;if(!i.node.parentNode)return null;if(i=s.adopt(i.node.parentNode),!t)return i;for(;i&&i.node instanceof e.SVGElement;){if("string"==typeof t?i.matches(t):i instanceof t)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=s.adopt(i.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(e){var t=[],s=this;do{if(!(s=s.parent(e))||!s.node)break;t.push(s)}while(s.parent);return t},matches:function(e){return t=this.node,s=e,(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,s);var t,s},native:function(){return this.node},svg:function(e){var i=t.createElement("svg");if(!(e&&this instanceof s.Parent))return i.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,a=i.firstChild.childNodes.length;r<a;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return this instanceof e}}}),s.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},s.morph=function(e){return function(t,i){return new s.MorphObj(t,i).at(e)}},s.Situation=s.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(e.duration).valueOf(),this.delay=new s.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,i){"object"===r(e)&&(t=e.ease,i=e.delay,e=e.duration);var a=new s.Situation({duration:e||1e3,delay:i||0,ease:s.easing[t||"-"]||t});return this.queue(a),this},target:function(e){return e&&e instanceof s.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof s.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var i in t.animations){e=this.target()[i](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[i])||(t.animations[i]=[t.animations[i]]);for(var r=e.length;r--;)t.animations[i][r]instanceof s.Number&&(e[r]=new s.Number(e[r])),t.animations[i][r]=e[r].morph(t.animations[i][r])}for(var i in t.attrs)t.attrs[i]=new s.MorphObj(this.target().attr(i),t.attrs[i]);for(var i in t.styles)t.styles[i]=new s.MorphObj(this.target().style(i),t.styles[i]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var s=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!s&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",function s(i){i.detail.situation==t&&(e.call(this,t),this.off("finished.fx",s))}),this._callStart()},during:function(e){var t=this.last(),i=function(i){i.detail.situation==t&&e.call(this,i.detail.pos,s.morph(i.detail.pos),i.detail.eased,t)};return this.target().off("during.fx",i).on("during.fx",i),this.after(function(){this.off("during.fx",i)}),this._callStart()},afterAll:function(e){var t=function t(s){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,s){return this.last()[s||"animations"][e]=t,this._callStart()},step:function(e){var t,s,i;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),s=Math.floor(t),!0===this.situation.loops||s<this.situation.loops?(this.pos=t-s,i=this.situation.loop,this.situation.loop=s):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var a in this.situation.once)a>this.lastPos&&a<=r&&(this.situation.once[a].call(this.target(),this.pos,r),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var e,t=this,i=this.target(),r=this.situation;for(var a in r.animations)e=[].concat(r.animations[a]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e}),i[a].apply(i,e);for(var a in r.attrs)e=[a].concat(r.attrs[a]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e}),i.attr.apply(i,e);for(var a in r.styles)e=[a].concat(r.styles[a]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e}),i.style.apply(i,e);if(r.transforms.length){e=r.initialTransformation,a=0;for(var n=r.transforms.length;a<n;a++){var o=r.transforms[a];o instanceof s.Matrix?e=o.relative?e.multiply((new s.Matrix).morph(o).at(r.ease(this.pos))):e.morph(o).at(r.ease(this.pos)):(o.relative||o.undo(e.extract()),e=e.multiply(o.at(r.ease(this.pos))))}i.matrix(e)}return this},once:function(e,t,s){var i=this.last();return s||(e=i.ease(e)),i.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(e,t,i){return(this.fx||(this.fx=new s.FX(this))).animate(e,t,i)},delay:function(e){return(this.fx||(this.fx=new s.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),s.MorphObj=s.invent({create:function(e,t){return s.Color.isColor(t)?new s.Color(e).morph(t):s.regex.delimiter.test(e)?s.regex.pathLetters.test(e)?new s.PathArray(e).morph(t):new s.Array(e).morph(t):s.regex.numberAndUnit.test(t)?new s.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(e,t,s){if("object"===r(e))for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},plot:function(e,t,s,i){return 4==arguments.length?this.plot([e,t,s,i]):this.add("plot",new(this.target().morphArray)(e))}}),s.Box=s.invent({create:function(e,t,i,a){if(!("object"!==r(e)||e instanceof s.Element))return s.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);var n;4==arguments.length&&(this.x=e,this.y=t,this.width=i,this.height=a),null==(n=this).x&&(n.x=0,n.y=0,n.width=0,n.height=0),n.w=n.width,n.h=n.height,n.x2=n.x+n.width,n.y2=n.y+n.height,n.cx=n.x+n.width/2,n.cy=n.y+n.height/2}}),s.BBox=s.invent({create:function(e){if(s.Box.apply(this,[].slice.call(arguments)),e instanceof s.Element){var i;try{if(!t.documentElement.contains){for(var r=e.node;r.parentNode;)r=r.parentNode;if(r!=t)throw new Error("Element not in the dom")}i=e.node.getBBox()}catch(n){if(e instanceof s.Shape){s.parser.draw||s.prepare();var a=e.clone(s.parser.draw.instance).show();a&&a.node&&"function"==typeof a.node.getBBox&&(i=a.node.getBBox()),a&&"function"==typeof a.remove&&a.remove()}else i={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}s.Box.call(this,i)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.Matrix=s.invent({create:function(e){var t=f([1,0,0,1,0,0]);e=null===e?t:e instanceof s.Element?e.matrixify():"string"==typeof e?f(e.split(s.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(e)?f(e):e&&"object"===r(e)?e:t;for(var i=b.length-1;i>=0;--i)this[b[i]]=null!=e[b[i]]?e[b[i]]:t[b[i]]},extend:{extract:function(){var e=m(this,0,1);m(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(e){return this.destination=new s.Matrix(e),this},multiply:function(e){return new s.Matrix(this.native().multiply((t=e,t instanceof s.Matrix||(t=new s.Matrix(t)),t).native()));var t},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(e,t){return new s.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=s.parser.native.createSVGMatrix(),t=b.length-1;t>=0;t--)e[b[t]]=this[b[t]];return e},toString:function(){return"matrix("+x(this.a)+","+x(this.b)+","+x(this.c)+","+x(this.d)+","+x(this.e)+","+x(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new s.Matrix(t)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(e,t){var s;s=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===r(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=s.x,this.y=s.y},extend:{clone:function(){return new s.Point(this)},morph:function(e,t){return this.destination=new s.Point(e,t),this}}}),s.extend(s.Element,{point:function(e,t){return new s.Point(e,t).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(e,t,i){if(null==e){for(e={},i=(t=this.node.attributes).length-1;i>=0;i--)e[t[i].nodeName]=s.regex.isNumber.test(t[i].nodeValue)?parseFloat(t[i].nodeValue):t[i].nodeValue;return e}if("object"===r(e))for(var a in e)this.attr(a,e[a]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?s.defaults.attrs[e]:s.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(s.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof s.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)}))),"number"==typeof t?t=new s.Number(t):s.Color.isColor(t)?t=new s.Color(t):Array.isArray(t)&&(t=new s.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof i?this.node.setAttributeNS(i,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),s.extend(s.Element,{transform:function(e,t){var i;return"object"!==r(e)?(i=new s.Matrix(this).extract(),"string"==typeof e?i[e]:i):(i=new s.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(i=t?i.multiply(new s.Matrix(e)):new s.Matrix(e)),this.attr("transform",i))}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(e){var t=e.trim().split("(");return[t[0],t[1].split(s.regex.delimiter).map(function(e){return parseFloat(e)})]}).reduce(function(e,t){return"matrix"==t[0]?e.multiply(f(t[1])):e[t[0]].apply(e,t[1])},new s.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),s=e.screenCTM().inverse();return this.addTo(e).untransform().transform(s.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var s=0,i=this.arguments.length;s<i;++s)this[this.arguments[s]]=e[s];else if(e&&"object"===r(e))for(s=0,i=this.arguments.length;s<i;++s)this[this.arguments[s]]=e[this.arguments[s]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.extend(s.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===r(e))for(var i in e)this.style(i,e[i]);else{if(!s.regex.isCss.test(e))return this.node.style[d(e)];for(e=e.split(/\s*;\s*/).filter(function(e){return!!e}).map(function(e){return e.split(/\s*:\s*/)});t=e.pop();)this.style(t[0],t[1])}else this.node.style[d(e)]=null===t||s.regex.isBlank.test(t)?"":t;return this}}),s.Parent=s.invent({create:function(e){this.constructor.call(this,e)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(e){return s.adopt(e)})},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return s.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var i=this.children(),r=0,a=i.length;r<a;r++)i[r]instanceof s.Element&&e.apply(i[r],[r,i]),t&&i[r]instanceof s.Container&&i[r].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(e,t){return 0===t||this instanceof s.Defs||this.node==s.parser.draw||(e=e||(this instanceof s.Doc?this:this.parent(s.Parent)),t=t||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(e,t-1):this.toParent(e)}),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),s.Container=s.invent({create:function(e){this.constructor.call(this,e)},inherit:s.Parent}),s.ViewBox=s.invent({parent:s.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){s.Element.prototype[e]=function(t){return s.on(this.node,e,t),this}}),s.listeners=[],s.handlerMap=[],s.listenerId=0,s.on=function(e,t,i,r,a){var n=i.bind(r||e.instance||e),o=(s.handlerMap.indexOf(e)+1||s.handlerMap.push(e))-1,l=t.split(".")[0],c=t.split(".")[1]||"*";s.listeners[o]=s.listeners[o]||{},s.listeners[o][l]=s.listeners[o][l]||{},s.listeners[o][l][c]=s.listeners[o][l][c]||{},i._svgjsListenerId||(i._svgjsListenerId=++s.listenerId),s.listeners[o][l][c][i._svgjsListenerId]=n,e.addEventListener(l,n,a||{passive:!0})},s.off=function(e,t,i){var r=s.handlerMap.indexOf(e),a=t&&t.split(".")[0],n=t&&t.split(".")[1],o="";if(-1!=r)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;s.listeners[r][a]&&s.listeners[r][a][n||"*"]&&(e.removeEventListener(a,s.listeners[r][a][n||"*"][i],!1),delete s.listeners[r][a][n||"*"][i])}else if(n&&a){if(s.listeners[r][a]&&s.listeners[r][a][n]){for(var l in s.listeners[r][a][n])s.off(e,[a,n].join("."),l);delete s.listeners[r][a][n]}}else if(n)for(var c in s.listeners[r])for(var o in s.listeners[r][c])n===o&&s.off(e,[c,n].join("."));else if(a){if(s.listeners[r][a]){for(var o in s.listeners[r][a])s.off(e,[a,o].join("."));delete s.listeners[r][a]}}else{for(var c in s.listeners[r])s.off(e,c);delete s.listeners[r],delete s.handlerMap[r]}},s.extend(s.Element,{on:function(e,t,i,r){return s.on(this.node,e,t,i,r),this},off:function(e,t){return s.off(this.node,e,t),this},fire:function(t,i){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new s.CustomEvent(t,{detail:i,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,s.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(e):this._defs=new s.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw&&!s.parser.draw.parentNode&&this.node.appendChild(s.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,s=g(t.cloneNode(!0));return e?(e.node||e).appendChild(s.node):t.parentNode.insertBefore(s.node,t.nextSibling),s}}}),s.extend(s.Element,{}),s.Gradient=s.invent({create:function(e){this.constructor.call(this,s.create(e+"Gradient")),this.type=e},inherit:s.Container,extend:{at:function(e,t,i){return this.put(new s.Stop).update(e,t,i)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="gradientTransform"),s.Container.prototype.attr.call(this,e,t,i)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),s.extend(s.Gradient,s.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new s.Number(e),fy:new s.Number(t)}):this.attr({x1:new s.Number(e),y1:new s.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new s.Number(e),cy:new s.Number(t)}):this.attr({x2:new s.Number(e),y2:new s.Number(t)})}}),s.extend(s.Defs,{gradient:function(e,t){return this.put(new s.Gradient(e)).update(t)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(e){return("number"==typeof e||e instanceof s.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new s.Number(e.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="patternTransform"),s.Container.prototype.attr.call(this,e,t,i)}},construct:{pattern:function(e,t,s){return this.defs().pattern(e,t,s)}}}),s.extend(s.Defs,{pattern:function(e,t,i){return this.put(new s.Pattern).update(i).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(e){this.constructor.call(this,e)},inherit:s.Element}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,s.xlink)}},construct:{use:function(e,t){return this.put(new s.Use).element(e,t)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(e,t){return this.put(new s.Rect).size(e,t)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(e){return this.put(new s.Circle).rx(new s.Number(e).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(e,t){return this.put(new s.Ellipse).size(e,t).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),s.extend(s.Circle,s.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new s.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new s.Number(e).divide(2))},size:function(e,t){var i=p(this,e,t);return this.rx(new s.Number(i.width).divide(2)).ry(new s.Number(i.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,i,r){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:i,y2:r}:new s.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var s=p(this,e,t);return this.attr(this.array().size(s.width,s.height).toLine())}},construct:{line:function(e,t,i,r){return s.Line.prototype.plot.apply(this.put(new s.Line),null!=e?[e,t,i,r]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(e){return this.put(new s.Polyline).plot(e||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(e){return this.put(new s.Polygon).plot(e||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new s.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var s=p(this,e,t);return this.attr("points",this.array().size(s.width,s.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new s.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new s.Path).plot(e||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(t){if(!t)return this;var i=this,r=new e.Image;return s.on(r,"load",function(){s.off(r);var e=i.parent(s.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:t}))}),s.on(r,"error",function(e){s.off(r),"function"==typeof i._error&&i._error.call(i,e)}),this.attr("href",r.src=this.src=t,s.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,i){return this.put(new s.Image).load(e).size(t||0,i||t||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,i=0,r=t.length;i<r;++i)0!=i&&3!=t[i].nodeType&&1==s.adopt(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{i=0;for(var a=(e=e.split("\n")).length;i<a;i++)this.tspan(e[i]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new s.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=s.utils.map(s.utils.filterSVGElements(e.childNodes),function(e){return s.adopt(e)});return new s.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,i=0,r=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))}),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new s.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new s.Text).text(e)},plain:function(e){return this.put(new s.Text).plain(e)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(s.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,i=new s.Tspan;return!1===this._build&&this.clear(),t.appendChild(i.node),i.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),s=null;return t&&(s=t.plot(e)),null==e?s:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function c(e,t,i,r){return i+r.replace(s.regex.dots," .")}function d(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function p(e,t,s){if(null==t||null==s){var i=e.bbox();null==t?t=i.width/i.height*s:null==s&&(s=i.height/i.width*t)}return{width:t,height:s}}function m(e,t,s){return{x:t*e.a+s*e.c+0,y:t*e.b+s*e.d+0}}function f(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function g(t){for(var i=t.childNodes.length-1;i>=0;i--)t.childNodes[i]instanceof e.SVGElement&&g(t.childNodes[i]);return s.adopt(t).id(s.eid(t.nodeName))}function x(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach(function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||s.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var i=l[e].length-1;i>=0;i--)null!=t[l[e][i]]&&this.attr(l.prefix(e,l[e][i]),t[l[e][i]]);return this},s.extend(s.Element,s.FX,t)}),s.extend(s.Element,s.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new s.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new s.Number(e).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(e){return this.y(new s.Number(e).plus(this instanceof s.FX?0:this.y()),!0)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),s.Set=s.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,s=e.length;t<s;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,s=this.members.length;t<s;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new s.Set(e)}}}),s.FX.Set=s.invent({create:function(e){this.set=e}}),s.Set.inherit=function(){var e=[];for(var t in s.Shape.prototype)"function"==typeof s.Shape.prototype[t]&&"function"!=typeof s.Set.prototype[t]&&e.push(t);for(var t in e.forEach(function(e){s.Set.prototype[e]=function(){for(var t=0,i=this.members.length;t<i;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new s.FX.Set(this)):this}}),e=[],s.FX.prototype)"function"==typeof s.FX.prototype[t]&&"function"!=typeof s.FX.Set.prototype[t]&&e.push(t);e.forEach(function(e){s.FX.Set.prototype[e]=function(){for(var t=0,s=this.set.members.length;t<s;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}})},s.extend(s.Element,{}),s.extend(s.Element,{remember:function(e,t){if("object"===r(arguments[0]))for(var s in e)this.remember(s,e[s]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(e){var i=t.getElementById(function(e){var t=(e||"").toString().match(s.regex.reference);if(t)return t[1]}(e)||e);return s.adopt(i)},s.select=function(e,i){return new s.Set(s.utils.map((i||t).querySelectorAll(e),function(e){return s.adopt(e)}))},s.extend(s.Parent,{select:function(e){return s.select(e,this.node)}});var b="abcdef".split("");if("function"!=typeof e.CustomEvent){var v=function(e,s){s=s||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,s.bubbles,s.cancelable,s.detail),i};v.prototype=e.Event.prototype,s.CustomEvent=v}else s.CustomEvent=e.CustomEvent;return s},"object"===r(t)?e.exports=Le.document?Me(Le,Le.document):function(e){return Me(e,e.document)}:Le.SVG=Me(Le,Le.document),
/*! svg.filter.js - v2.0.2 - 2016-02-24
    * https://github.com/wout/svg.filter.js
    * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,s){return this.put(new SVG.BlendEffect(e,t,s))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,s){return this.put(new SVG.CompositeEffect(e,t,s))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,s){return this.put(new SVG.DiffuseLightingEffect(e,t,s))},displacementMap:function(e,t,s,i,r){return this.put(new SVG.DisplacementMapEffect(e,t,s,i,r))},specularLighting:function(e,t,s,i){return this.put(new SVG.SpecularLightingEffect(e,t,s,i))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,s,i,r){return this.put(new SVG.TurbulenceEffect(e,t,s,i,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,s){return this.parent()&&this.parent().diffuseLighting(e,t,s).in(this)},displacementMap:function(e,t,s,i){return this.parent()&&this.parent().displacementMap(this,e,t,s,i)},specularLighting:function(e,t,s,i){return this.parent()&&this.parent().specularLighting(e,t,s,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,s,i,r){return this.parent()&&this.parent().turbulence(e,t,s,i,r).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,s){this.attr({in:e,in2:t,mode:s||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=r(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=r(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,s){this.attr({in:e,in2:t,operator:s})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,s,i,r){this.attr({in:e,in2:t,scale:s,xChannelSelector:i,yChannelSelector:r})},gaussianBlur:function(e,t){null!=e||null!=t?this.attr("stdDeviation",function(e){if(!Array.isArray(e))return e;for(var t=0,s=e.length,i=[];t<s;t++)i.push(e[t]);return i.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,s,i,r){this.attr({numOctaves:t,seed:s,stitchTiles:i,baseFrequency:e,type:r})}},s={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each(function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))})}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var s=0;s<e.length;s++)e[s]instanceof SVG.MergeNode?this.put(e[s]):this.put(new SVG.MergeNode(e[s]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,s){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:s})},specularLighting:function(e,t,s,i){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:s,kernelUnitLength:i})}},i={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,s){this.attr({x:e,y:t,z:s})},spotLight:function(e,t,s,i,r,a){this.attr({x:e,y:t,z:s,pointsAtX:i,pointsAtY:r,pointsAtZ:a})},mergeNode:function(e){this.attr("in",e)}};function r(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function a(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var s in arguments[t])e(arguments[t][s],s,arguments[t])}["r","g","b","a"].forEach(function(e){i["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),a(t,function(e,t){var s=t.charAt(0).toUpperCase()+t.slice(1);SVG[s+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+s)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),a(s,function(e,t){var s=t.charAt(0).toUpperCase()+t.slice(1);SVG[s+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+s)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),a(i,function(e,t){var s=t.charAt(0).toUpperCase()+t.slice(1);SVG[s]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+s)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function e(e,r,a,n,o,l,c){for(var d=e.slice(r,a||c),u=n.slice(o,l||c),h=0,p={pos:[0,0],start:[0,0]},m={pos:[0,0],start:[0,0]};d[h]=t.call(p,d[h]),u[h]=t.call(m,u[h]),d[h][0]!=u[h][0]||"M"==d[h][0]||"A"==d[h][0]&&(d[h][4]!=u[h][4]||d[h][5]!=u[h][5])?(Array.prototype.splice.apply(d,[h,1].concat(i.call(p,d[h]))),Array.prototype.splice.apply(u,[h,1].concat(i.call(m,u[h])))):(d[h]=s.call(p,d[h]),u[h]=s.call(m,u[h])),++h!=d.length||h!=u.length;)h==d.length&&d.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),h==u.length&&u.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]);return{start:d,dest:u}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function s(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function i(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":e=(t=function(e,t){var s,i,r,a,n,o,l,c,d,u,h,p,m,f,g,x,b,v,y,w,j,N,k,S,C,A,T=Math.abs(t[1]),E=Math.abs(t[2]),R=t[3]%360,P=t[4],I=t[5],L=t[6],M=t[7],O=new SVG.Point(e),D=new SVG.Point(L,M),_=[];if(0===T||0===E||O.x===D.x&&O.y===D.y)return[["C",O.x,O.y,D.x,D.y,D.x,D.y]];for((i=(s=new SVG.Point((O.x-D.x)/2,(O.y-D.y)/2).transform((new SVG.Matrix).rotate(R))).x*s.x/(T*T)+s.y*s.y/(E*E))>1&&(T*=i=Math.sqrt(i),E*=i),r=(new SVG.Matrix).rotate(R).scale(1/T,1/E).rotate(-R),O=O.transform(r),o=(a=[(D=D.transform(r)).x-O.x,D.y-O.y])[0]*a[0]+a[1]*a[1],n=Math.sqrt(o),a[0]/=n,a[1]/=n,l=o<4?Math.sqrt(1-o/4):0,P===I&&(l*=-1),c=new SVG.Point((D.x+O.x)/2+l*-a[1],(D.y+O.y)/2+l*a[0]),d=new SVG.Point(O.x-c.x,O.y-c.y),u=new SVG.Point(D.x-c.x,D.y-c.y),h=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(h*=-1),p=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(p*=-1),I&&h>p&&(p+=2*Math.PI),!I&&h<p&&(p-=2*Math.PI),x=[],b=h,m=(p-h)/(f=Math.ceil(2*Math.abs(h-p)/Math.PI)),g=4*Math.tan(m/4)/3,j=0;j<=f;j++)y=Math.cos(b),v=Math.sin(b),w=new SVG.Point(c.x+y,c.y+v),x[j]=[new SVG.Point(w.x+g*v,w.y-g*y),w,new SVG.Point(w.x-g*v,w.y+g*y)],b+=m;for(x[0][0]=x[0][1].clone(),x[x.length-1][2]=x[x.length-1][1].clone(),r=(new SVG.Matrix).rotate(R).scale(T,E).rotate(-R),j=0,N=x.length;j<N;j++)x[j][0]=x[j][0].transform(r),x[j][1]=x[j][1].transform(r),x[j][2]=x[j][2].transform(r);for(j=1,N=x.length;j<N;j++)k=(w=x[j-1][2]).x,S=w.y,C=(w=x[j][0]).x,A=w.y,L=(w=x[j][1]).x,M=w.y,_.push(["C",k,S,C,A,L,M]);return _}(this.pos,e))[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function r(e,t){if(!1===t)return!1;for(var s=t,i=e.length;s<i;++s)if("M"==e[s][0])return s;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var s=this.value,i=this.parse(t),a=0,n=0,o=!1,l=!1;!1!==a||!1!==n;){var c;o=r(s,!1!==a&&a+1),l=r(i,!1!==n&&n+1),!1===a&&(a=0==(c=new SVG.PathArray(d.start).bbox()).height||0==c.width?s.push(s[0])-1:s.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===n&&(n=0==(c=new SVG.PathArray(d.dest).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var d=e(s,a,o,i,n,l);s=s.slice(0,a).concat(d.start,!1===o?[]:s.slice(o)),i=i.slice(0,n).concat(d.dest,!1===l?[]:i.slice(l)),a=!1!==o&&a+d.start.length,n=!1!==l&&n+d.dest.length}return this.value=s,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
    * https://github.com/svgdotjs/svg.draggable.js
    * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var s=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",function(e){s.start(e)}),this.el.on("touchstart.drag",function(e){s.start(e)})},e.prototype.transformPoint=function(e,t){var s=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=s.clientX-(t||0),this.p.y=s.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var s,i=this.getBBox();if(this.el instanceof SVG.Text)switch(s=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":s/=2;break;case"start":s=0}this.startPoints={point:this.transformPoint(e,s),box:i,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(e){t.drag(e)}),SVG.on(window,"touchmove.drag",function(e){t.drag(e)}),SVG.on(window,"mouseup.drag",function(e){t.end(e)}),SVG.on(window,"touchend.drag",function(e){t.end(e)}),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),s=this.transformPoint(e),i=this.startPoints.box.x+s.x-this.startPoints.point.x,r=this.startPoints.box.y+s.y-this.startPoints.point.y,a=this.constraint,n=s.x-this.startPoints.point.x,o=s.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:s,m:this.m,handler:this}),this.el.event().defaultPrevented)return s;if("function"==typeof a){var l=a.call(this.el,i,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(i):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof a&&(null!=a.minX&&i<a.minX?n=(i=a.minX)-this.startPoints.box.x:null!=a.maxX&&i>a.maxX-t.width&&(n=(i=a.maxX-t.width)-this.startPoints.box.x),null!=a.minY&&r<a.minY?o=(r=a.minY)-this.startPoints.box.y:null!=a.maxY&&r>a.maxY-t.height&&(o=(r=a.maxY-t.height)-this.startPoints.box.y),null!=a.snapToGrid&&(i-=i%a.snapToGrid,r-=r%a.snapToGrid,n-=n%a.snapToGrid,o-=o%a.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:n,y:o},!0):this.el.move(i,r));return s},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,s){"function"!=typeof t&&"object"!=typeof t||(s=t,t=!0);var i=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?i.init(s||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,s){var i="string"!=typeof e?e:t[e];return s?i/2:i},this.pointCoords=function(e,t){var s=this.pointsList[e];return{x:this.pointCoord(s[0],t,"t"===e||"b"===e),y:this.pointCoord(s[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var s=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==t[r]&&(this.options[r]=t[r]);var a=["points","pointsExclude"];for(var r in a){var n=this.options[a[r]];"string"==typeof n?n=n.length>0?n.split(/\s*,\s*/i):[]:"boolean"==typeof n&&"points"===a[r]&&(n=n?i:[]),this.options[a[r]]=n}this.options.points=[i,this.options.points].reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(s.x,s.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),s=0,i=t.length;s<i;++s){var r=function(t){return function(s){(s=s||window.event).preventDefault?s.preventDefault():s.returnValue=!1,s.stopPropagation();var i=s.pageX||s.touches[0].pageX,r=s.pageY||s.touches[0].pageY;e.el.fire("point",{x:i,y:r,i:t,event:s})}}(s),a=this.drawPoint(t[s][0],t[s][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(a)}},e.prototype.drawPoint=function(e,t){var s=this.options.pointType;switch(s){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof s)return s.call(this,e,t);throw new Error("Unknown "+s+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(s,i){var r=e.pointCoords(s,t);e.rectSelection.set.get(i+1).center(r.x,r.y)}),this.options.rotationPoint){var s=this.rectSelection.set.length();this.rectSelection.set.get(s-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,s=this.el.bbox();function i(e){return function(s){(s=s||window.event).preventDefault?s.preventDefault():s.returnValue=!1,s.stopPropagation();var i=s.pageX||s.touches[0].pageX,r=s.pageY||s.touches[0].pageY;t.el.fire(e,{x:i,y:r,event:s})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(s.width,s.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(e,r){var a=t.pointCoords(e,s),n=t.drawPoint(a.x,a.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",i(e)).on("touchstart",i(e));t.rectSelection.set.add(n)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation();var s=e.pageX||e.touches[0].pageX,i=e.pageY||e.touches[0].pageY;t.el.fire("rot",{x:s,y:i,event:e})},a=this.drawPoint(s.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(a)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){e.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){e.handler()})},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,s){return"object"==typeof t&&(s=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,s||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,s){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(s||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var s in this.options={},this.el.resize.defaults)this.options[s]=this.el.resize.defaults[s],void 0!==e[s]&&(this.options[s]=e[s]);this.el.on("lt.resize",function(e){t.resize(e||window.event)}),this.el.on("rt.resize",function(e){t.resize(e||window.event)}),this.el.on("rb.resize",function(e){t.resize(e||window.event)}),this.el.on("lb.resize",function(e){t.resize(e||window.event)}),this.el.on("t.resize",function(e){t.resize(e||window.event)}),this.el.on("r.resize",function(e){t.resize(e||window.event)}),this.el.on("b.resize",function(e){t.resize(e||window.event)}),this.el.on("l.resize",function(e){t.resize(e||window.event)}),this.el.on("rot.resize",function(e){t.resize(e||window.event)}),this.el.on("point.resize",function(e){t.resize(e||window.event)}),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var s=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(s.x,s.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var i=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[i[e.detail.i][0],i[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var s=this.snapToGrid(e,t);if(this.parameters.box.width-s[0]>0&&this.parameters.box.height-s[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+s[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-s[0]);s=this.checkAspectRatio(s),this.el.move(this.parameters.box.x+s[0],this.parameters.box.y+s[1]).size(this.parameters.box.width-s[0],this.parameters.box.height-s[1])}};break;case"rt":this.calc=function(e,t){var s=this.snapToGrid(e,t,2);if(this.parameters.box.width+s[0]>0&&this.parameters.box.height-s[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-s[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+s[0]);s=this.checkAspectRatio(s,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+s[1]).size(this.parameters.box.width+s[0],this.parameters.box.height-s[1])}};break;case"rb":this.calc=function(e,t){var s=this.snapToGrid(e,t,0);if(this.parameters.box.width+s[0]>0&&this.parameters.box.height+s[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-s[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+s[0]);s=this.checkAspectRatio(s),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+s[0],this.parameters.box.height+s[1])}};break;case"lb":this.calc=function(e,t){var s=this.snapToGrid(e,t,1);if(this.parameters.box.width-s[0]>0&&this.parameters.box.height+s[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+s[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-s[0]);s=this.checkAspectRatio(s,!0),this.el.move(this.parameters.box.x+s[0],this.parameters.box.y).size(this.parameters.box.width-s[0],this.parameters.box.height+s[1])}};break;case"t":this.calc=function(e,t){var s=this.snapToGrid(e,t,2);if(this.parameters.box.height-s[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+s[1]).height(this.parameters.box.height-s[1])}};break;case"r":this.calc=function(e,t){var s=this.snapToGrid(e,t,0);if(this.parameters.box.width+s[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+s[0])}};break;case"b":this.calc=function(e,t){var s=this.snapToGrid(e,t,0);if(this.parameters.box.height+s[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+s[1])}};break;case"l":this.calc=function(e,t){var s=this.snapToGrid(e,t,1);if(this.parameters.box.width-s[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+s[0],this.parameters.box.y).width(this.parameters.box.width-s[0])}};break;case"rot":this.calc=function(e,t){var s=e+this.parameters.p.x,i=t+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),a=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,s-this.parameters.box.x-this.parameters.box.width/2),n=this.parameters.rotation+180*(a-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(n-n%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var s=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+s[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+s[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",function(e){t.update(e||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(e){t.update(e||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),s=this.transformPoint(t.x,t.y),i=s.x-this.parameters.p.x,r=s.y-this.parameters.p.y;this.lastUpdateCall=[i,r],this.calc(i,r),this.el.fire("resizing",{dx:i,dy:r,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,s,i){var r;return void 0!==i?r=[(s+e)%this.options.snapToGrid,(i+t)%this.options.snapToGrid]:(s=null==s?3:s,r=[(this.parameters.box.x+e+(1&s?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&s?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(r[0]-=this.options.snapToGrid),t<0&&(r[1]-=this.options.snapToGrid),e-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,s,i)},e.prototype.constraintToBox=function(e,t,s,i){var r,a,n=this.options.constraint||{};return void 0!==i?(r=s,a=i):(r=this.parameters.box.x+(1&s?0:this.parameters.box.width),a=this.parameters.box.y+(2&s?0:this.parameters.box.height)),void 0!==n.minX&&r+e<n.minX&&(e=n.minX-r),void 0!==n.maxX&&r+e>n.maxX&&(e=n.maxX-r),void 0!==n.minY&&a+t<n.minY&&(t=n.minY-a),void 0!==n.maxY&&a+t>n.maxY&&(t=n.maxY-a),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var s=e.slice(),i=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+e[0],a=this.parameters.box.height-e[1],n=r/a;return n<i?(s[1]=r/i-this.parameters.box.height,t&&(s[1]=-s[1])):n>i&&(s[0]=this.parameters.box.width-a*i,t&&(s[0]=-s[0])),s},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Fe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new b(this.ctx),this.ctx.axes=new Z(this.ctx),this.ctx.core=new _e(this.ctx.el,this.ctx),this.ctx.config=new M({}),this.ctx.data=new W(this.ctx),this.ctx.grid=new U(this.ctx),this.ctx.graphics=new y(this.ctx),this.ctx.coreUtils=new w(this.ctx),this.ctx.crosshairs=new J(this.ctx),this.ctx.events=new Q(this.ctx),this.ctx.exports=new Y(this.ctx),this.ctx.localization=new K(this.ctx),this.ctx.options=new A,this.ctx.responsive=new ee(this.ctx),this.ctx.series=new H(this.ctx),this.ctx.theme=new te(this.ctx),this.ctx.formatters=new R(this.ctx),this.ctx.titleSubtitle=new se(this.ctx),this.ctx.legend=new ce(this.ctx),this.ctx.toolbar=new de(this.ctx),this.ctx.tooltip=new be(this.ctx),this.ctx.dimensions=new oe(this.ctx),this.ctx.updateHelpers=new ze(this.ctx),this.ctx.zoomPanSelection=new ue(this.ctx),this.ctx.w.globals.tooltip=new be(this.ctx)}}]),e}(),Be=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(e,t){this.removeClass("*"),this.off(),this.stop()},!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!s&&(i.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(e){r.removeEventListener(e,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),e}(),He=new WeakMap,We=function(){function e(t,s){a(this,e),this.opts=s,this.ctx=this,this.w=new D(s).init(),this.el=t,this.w.globals.cuid=x.randomId(),this.w.globals.chartID=this.w.config.chart.id?x.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Fe(this).initModules(),this.create=x.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return o(e,[{key:"render",value:function(){var e=this;return new Promise(function(t,s){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;if("function"==typeof i&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var s=!1;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var i=e.getBoundingClientRect();"none"!==e.style.display&&0!==i.width||(s=!0)}var r=new ResizeObserver(function(i){s&&t.call(e,i),s=!0});e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach(function(e){return r.observe(e)}):r.observe(e),He.set(t,r)}(e.el.parentNode,e.parentResizeHandler),!e.css){var r=e.el.getRootNode&&e.el.getRootNode(),a=x.is("ShadowRoot",r),n=e.el.ownerDocument,o=n.getElementById("apexcharts-css");!a&&o||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',a?r.prepend(e.css):n.head.appendChild(e.css))}var l=e.create(e.w.config.series,{});if(!l)return t(e);e.mount(l).then(function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(l)}).catch(function(e){s(e)})}else s(new Error("Element not found"))})}},{key:"create",value:function(e,t){var s=this.w;new Fe(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,this.responsive.checkResponsiveConfig(t),s.config.xaxis.convertedCatToNumeric&&new L(s.config).convertCatToNumericXaxis(s.config,this.ctx),null===this.el)return i.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===s.config.chart.type&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),0===i.svgWidth)return i.animationEnded=!0,null;var r=w.checkComboSeries(e);i.comboCharts=r.comboCharts,i.comboBarCount=r.comboBarCount;var a=e.every(function(e){return e.data&&0===e.data.length});(0===e.length||a)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new z(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),"category"!==s.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new w(this).getLargestMarkerSize(),this.dimensions.plotCoords();var n=this.core.xySettings();this.grid.createGridMask();var o=this.core.plotChartType(e,n),l=new B(this);return l.bringForward(),s.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:o,xyRatios:n,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this,i=s.w;return new Promise(function(r,a){if(null===s.el)return a(new Error("Not enough data to display or target element not found"));(null===t||i.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new U(s);var n=s.grid.drawGrid();if(s.annotations=new T(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),"back"===i.config.grid.position&&n&&i.globals.dom.elGraphical.add(n.el),Array.isArray(t.elGraph))for(var o=0;o<t.elGraph.length;o++)i.globals.dom.elGraphical.add(t.elGraph[o]);else i.globals.dom.elGraphical.add(t.elGraph);"front"===i.config.grid.position&&n&&i.globals.dom.elGraphical.add(n.el),n&&n.elGridBorders&&n.elGridBorders.node&&i.globals.dom.elGraphical.add(n.elGridBorders),"front"===i.config.xaxis.crosshairs.position&&s.crosshairs.drawXCrosshairs(),"front"===i.config.yaxis[0].crosshairs.position&&s.crosshairs.drawYCrosshairs(),"treemap"!==i.config.chart.type&&s.axes.drawAxis(i.config.chart.type,n);var l=new V(e.ctx,n),c=new $(e.ctx,n);if(null!==n&&(l.xAxisLabelCorrections(n.xAxisTickWidth),c.setYAxisTextAlignments(),i.config.yaxis.map(function(e,t){-1===i.globals.ignoreYAxisIndexes.indexOf(t)&&c.yAxisTitleRotate(t,e.opposite)})),s.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var d=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(e){d[e]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(e){e.method(e.params,!1,e.context)}),i.globals.axisCharts||i.globals.noData||s.core.resizeNonAxisCharts(),r(s)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=He.get(e))&&(t.disconnect(),He.delete(e));var s=this.w.config.chart.id;s&&Apex._chartInstances.forEach(function(e,t){e.id===x.escapeString(s)&&Apex._chartInstances.splice(t,1)}),new Be(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=this.w;return n.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(e,s){return t.updateHelpers._extendSeries(e,s)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),n.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,i,r,a)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this;s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var i=s.w.config.series.slice(),r=0;r<i.length;r++)if(null!==e[r]&&void 0!==e[r])for(var a=0;a<e[r].data.length;a++)i[r].data.push(e[r].data[a]);return s.w.config.series=i,t&&(s.w.globals.initialSeries=x.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(s,i){new Be(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return s(t);t.mount(r).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)}).catch(function(e){i(e)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(e){t.push(e)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new G(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new G(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Y(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Y(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=x.escapeString(e),s=Apex._chartInstances.filter(function(e){return e.id===t})[0];return s&&s.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),s=0;s<t.length;s++)new e(t[s],JSON.parse(t[s].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var i=null;if(-1!==s.publicMethods.indexOf(t)){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];i=s[t].apply(s,a)}return i}}},{key:"merge",value:function(e,t){return x.extend(e,t)}}]),e}();e.exports=We}(Vj,Vj.exports)),Vj.exports}var qj,Gj,$j,Qj,Kj,Zj,Jj={exports:{}};function eN(){if(Gj)return qj;Gj=1;return qj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function tN(){if(Qj)return $j;Qj=1;var e=eN();function t(){}function s(){}return s.resetWarningCache=t,$j=function(){function i(t,s,i,r,a,n){if(n!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return i}i.isRequired=i;var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:t};return a.PropTypes=a,a}}function sN(){return Kj||(Kj=1,Jj.exports=tN()()),Jj.exports}var iN=function(){if(Zj)return Yj;Zj=1,Object.defineProperty(Yj,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s,i=arguments[t];for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},s=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),i=o(Uj()),r=St(),a=o(r),n=o(sN());function o(e){return e&&e.__esModule?e:{default:e}}window.ApexCharts=i.default;var l=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return a.default.createRef?t.chartRef=a.default.createRef():t.setRef=function(e){return t.chartRef=e},t.chart=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),s(n,[{key:"render",value:function(){var e=function(e,t){var s,i={};for(s in e)0<=t.indexOf(s)||Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i}(this.props,[]);return a.default.createElement("div",t({ref:a.default.createRef?this.chartRef:this.setRef},e))}},{key:"componentDidMount",value:function(){var e=a.default.createRef?this.chartRef.current:this.chartRef;this.chart=new i.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=(r=this.props).type,t=r.height,s=r.width,i=r.series,r=r.options;return this.extend(r,{chart:{type:e,height:t,width:s},series:i})}},{key:"isObject",value:function(t){return t&&"object"===(void 0===t?"undefined":e(t))&&!Array.isArray(t)&&null!=t}},{key:"extend",value:function(e,t){var s=this,i=("function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),s=1;s<arguments.length;s++){var i=arguments[s];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}),Object.assign({},e));return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(r){s.isObject(t[r])&&r in e?i[r]=s.extend(e[r],t[r]):Object.assign(i,function(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}({},r,t[r]))}),i}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=(r=this.props).options,s=r.series,i=r.height,r=r.width,a=JSON.stringify(e.options),n=JSON.stringify(e.series),o=(t=JSON.stringify(t),JSON.stringify(s));a===t&&n===o&&i===e.height&&r===e.width||(n!==o&&a===t&&i===e.height&&r===e.width?this.chart.updateSeries(s):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&"function"==typeof this.chart.destroy&&this.chart.destroy()}}]),n}();return(Yj.default=l).propTypes={type:n.default.string.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number]),series:n.default.array.isRequired,options:n.default.object.isRequired},l.defaultProps={type:"line",width:"100%",height:"auto"},Yj}();const rN=kt(iN),aN={legend:{show:!1,position:"top",horizontalAlign:"left"},colors:["#3C50E0","#80CAEE"],chart:{fontFamily:"Satoshi, sans-serif",height:335,type:"area",dropShadow:{enabled:!0,color:"#623CEA14",top:10,blur:4,left:0,opacity:.1},toolbar:{show:!1}},responsive:[{breakpoint:1024,options:{chart:{height:300}}},{breakpoint:1366,options:{chart:{height:350}}}],stroke:{width:[2,2],curve:"straight"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},markers:{size:4,colors:"#fff",strokeColors:["#3056D3","#80CAEE"],strokeWidth:3,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],hover:{size:void 0,sizeOffset:5}},xaxis:{type:"category",axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{title:{style:{fontSize:"0px"}},min:0,max:100}},nN=({weeklyStats:e,isLoading:t})=>{const i=Ct.useMemo(()=>{if(e&&(null==e?void 0:e.length)>0){return(null==e?void 0:e.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())).map(e=>e.totalRevenue)}},[e]),r=Ct.useMemo(()=>{if(e&&(null==e?void 0:e.length)>0){return null==e?void 0:e.map(e=>e.date.toString().split(" ").slice(0,3).join(" "))}},[e]),[a,n]=Ct.useState({series:[{name:"Profit",data:[4,7,10,11,13,14,17]}]}),[o,l]=Ct.useState(aN);return Ct.useEffect(()=>{i&&i.length>0&&n(e=>{const t=e.series.findIndex(e=>"Revenue"===e.name);return t>=0?{...e,series:e.series.map((e,s)=>s===t?{...e,data:i}:e)}:{...e,series:[...e.series,{name:"Revenue",data:i}]}})},[i]),Ct.useEffect(()=>{r&&(null==r?void 0:r.length)>0&&i&&(null==i?void 0:i.length)>0&&l({...aN,xaxis:{...aN.xaxis,categories:r},yaxis:{...aN.yaxis,max:100*Math.ceil(Math.max(...i)/100),min:100*Math.floor(Math.min(...i)/100)}})},[r,i]),s.jsxs("div",{className:"col-span-12 rounded-sm border border-border bg-card px-5 pt-7.5 pb-5 shadow-default sm:px-7.5 xl:col-span-8",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 sm:flex-nowrap",children:[s.jsxs("div",{className:"flex w-full flex-wrap gap-3 sm:gap-5",children:[s.jsxs("div",{className:"flex min-w-47.5",children:[s.jsx("span",{className:"mt-1 mr-2 flex h-4 w-full max-w-4 items-center justify-center rounded-full border border-primary",children:s.jsx("span",{className:"block h-2.5 w-full max-w-2.5 rounded-full bg-primary"})}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"font-semibold text-primary",children:"Total Profit"}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last 7 Days"})]})]}),s.jsxs("div",{className:"flex min-w-47.5",children:[s.jsx("span",{className:"mt-1 mr-2 flex h-4 w-full max-w-4 items-center justify-center rounded-full border border-secondary",children:s.jsx("span",{className:"block h-2.5 w-full max-w-2.5 rounded-full bg-secondary"})}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"font-semibold text-secondary",children:"Total Revenue"}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last 7 Days"})]})]})]}),s.jsx("div",{className:"flex w-full max-w-45 justify-end",children:s.jsxs("div",{className:"inline-flex items-center rounded-md bg-muted p-1.5",children:[s.jsx("button",{className:"rounded bg-background py-1 px-3 text-xs font-medium text-foreground shadow-card hover:bg-background hover:shadow-card",children:"Day"}),s.jsx("button",{className:"rounded py-1 px-3 text-xs font-medium text-muted-foreground hover:bg-background hover:shadow-card",children:"Week"}),s.jsx("button",{className:"rounded py-1 px-3 text-xs font-medium text-muted-foreground hover:bg-background hover:shadow-card",children:"Month"})]})})]}),s.jsx("div",{children:s.jsx("div",{id:"chartOne",className:"-ml-5",children:s.jsx(rN,{options:o,series:a.series,type:"area",height:350})})})]})},oN=({sources:e})=>s.jsxs("div",{className:"rounded-sm border border-border bg-card px-5 pt-6 pb-2.5 shadow-default sm:px-7.5 xl:pb-1",children:[s.jsx("h4",{className:"mb-6 text-xl font-semibold text-foreground",children:"Top Sources"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"grid grid-cols-3 rounded-sm bg-gray-2 ",children:[s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("h5",{className:"text-sm font-medium uppercase xsm:text-base",children:"Source"})}),s.jsx("div",{className:"p-2.5 text-center xl:p-5",children:s.jsx("h5",{className:"text-sm font-medium uppercase xsm:text-base",children:"Visitors"})}),s.jsx("div",{className:"hidden p-2.5 text-center sm:block xl:p-5",children:s.jsx("h5",{className:"text-sm font-medium uppercase xsm:text-base",children:"Sales"})})]}),e&&e.length>0?e.map(e=>s.jsxs("div",{className:"grid grid-cols-3 border-b border-border",children:[s.jsx("div",{className:"flex items-center gap-3 p-2.5 xl:p-5",children:s.jsx("p",{className:"text-foreground",children:e.name})}),s.jsx("div",{className:"flex items-center justify-center p-2.5 xl:p-5",children:s.jsx("p",{className:"text-foreground",children:e.visitors})}),s.jsx("div",{className:"hidden items-center justify-center p-2.5 sm:flex xl:p-5",children:s.jsx("p",{className:"text-foreground",children:"--"})})]})):s.jsx("div",{className:"flex items-center justify-center p-2.5 xl:p-5",children:s.jsx("p",{className:"text-foreground",children:"No data to display"})})]})]}),lN=({totalPageViews:e,prevDayViewsChangePercent:t})=>{const i=parseInt(t||""),r=i>0;return s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-muted",children:s.jsx(me,{className:"size-6"})})}),s.jsxs($y,{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-title-md font-bold text-foreground",children:e}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total page views"})]}),s.jsxs("span",{className:Yh("flex items-center gap-1 text-sm font-medium",{"text-success":r&&t&&0!==i,"text-destructive":!r&&t&&0!==i,"text-muted-foreground":!t||0===i}),children:[t&&0!==i?`${t}%`:"-",t&&0!==i&&(r?s.jsx(fe,{}):s.jsx(ge,{}))]})]})]})},cN=({dailyStats:e,isLoading:t})=>{const i=Ct.useMemo(()=>!!(null==e?void 0:e.paidUserDelta)&&(null==e?void 0:e.paidUserDelta)>0,[e]);return s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-muted",children:s.jsx(xe,{className:"size-6"})})}),s.jsxs($y,{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-title-md font-bold text-foreground",children:null==e?void 0:e.paidUserCount}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Paying Users"})]}),s.jsxs("span",{className:Yh("flex items-center gap-1 text-sm font-medium",{"text-success":i&&!t,"text-destructive":!i&&!t&&0!==(null==e?void 0:e.paidUserDelta),"text-muted-foreground":t||!(null==e?void 0:e.paidUserDelta)}),children:[t?"...":(null==e?void 0:e.paidUserDelta)??"-",!t&&0!==((null==e?void 0:e.paidUserDelta)??0)&&(i?s.jsx(fe,{}):s.jsx(ge,{}))]})]})]})},dN=({dailyStats:e,weeklyStats:t,isLoading:i})=>{const r=Ct.useMemo(()=>{var e;return!!t&&t[0].totalRevenue-(null==(e=t[1])?void 0:e.totalRevenue)>0},[t]),a=Ct.useMemo(()=>{var e,s,r,a;if(!t||t.length<2||i)return;if(0===(null==(e=t[1])?void 0:e.totalRevenue)||0===(null==(s=t[0])?void 0:s.totalRevenue))return 0;t.sort((e,t)=>t.id-e.id);const n=(t[0].totalRevenue-(null==(r=t[1])?void 0:r.totalRevenue))/(null==(a=t[1])?void 0:a.totalRevenue)*100;return Math.floor(n)},[t]);return s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-muted",children:s.jsx(be,{className:"size-6"})})}),s.jsxs($y,{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-title-md font-bold text-foreground",children:["$",null==e?void 0:e.totalRevenue]}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"})]}),s.jsxs("span",{className:Yh("flex items-center gap-1 text-sm font-medium",{"text-success":r&&!i&&0!==a,"text-destructive":!r&&!i&&0!==a,"text-muted-foreground":i||!a||0===a}),children:[i?"...":a&&0!==a?`${a}%`:"-",!i&&a&&0!==a&&(r?s.jsx(fe,{}):s.jsx(ge,{}))]})]})]})},uN=({dailyStats:e,isLoading:t})=>{const i=Ct.useMemo(()=>!!(null==e?void 0:e.userDelta)&&e.userDelta>0,[e]);return s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-muted",children:s.jsx(ve,{className:"size-6"})})}),s.jsxs($y,{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-title-md font-bold text-foreground font-platform",children:null==e?void 0:e.userCount}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground font-platform",children:"Total Signups"})]}),s.jsxs("span",{className:Yh("flex items-center gap-1 text-sm font-medium",{"text-success":i&&!t,"text-destructive":!i&&!t&&0!==(null==e?void 0:e.userDelta),"text-muted-foreground":t||!(null==e?void 0:e.userDelta)}),children:[t?"...":(null==e?void 0:e.userDelta)??"-",!t&&((null==e?void 0:e.userDelta)??0)>0&&s.jsx(fe,{})]})]})]})};function hN(e,[t,s]){return Math.min(s,Math.max(t,e))}var pN,mN="dismissableLayer.update",fN="dismissableLayer.pointerDownOutside",gN="dismissableLayer.focusOutside",xN=Ct.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bN=Ct.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:n,onInteractOutside:o,onDismiss:l,...c}=e,d=Ct.useContext(xN),[u,x]=Ct.useState(null),b=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,v]=Ct.useState({}),y=h(t,e=>x(e)),w=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(j),k=u?w.indexOf(u):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,C=k>=N,A=function(e,t=(null==globalThis?void 0:globalThis.document)){const s=g(e),i=Ct.useRef(!1),r=Ct.useRef(()=>{});return Ct.useEffect(()=>{const e=e=>{if(e.target&&!i.current){let i=function(){yN(fN,s,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}(e=>{const t=e.target,s=[...d.branches].some(e=>e.contains(t));C&&!s&&(null==a||a(e),null==o||o(e),e.defaultPrevented||null==l||l())},b),T=function(e,t=(null==globalThis?void 0:globalThis.document)){const s=g(e),i=Ct.useRef(!1);return Ct.useEffect(()=>{const e=e=>{if(e.target&&!i.current){yN(gN,s,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==n||n(e),null==o||o(e),e.defaultPrevented||null==l||l())},b);return p(e=>{k===d.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},b),Ct.useEffect(()=>{if(u)return i&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(pN=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),vN(),()=>{i&&1===d.layersWithOutsidePointerEventsDisabled.size&&(b.body.style.pointerEvents=pN)}},[u,b,i,d]),Ct.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),vN())},[u,d]),Ct.useEffect(()=>{const e=()=>v({});return document.addEventListener(mN,e),()=>document.removeEventListener(mN,e)},[]),s.jsx(m.div,{...c,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:f(e.onFocusCapture,T.onFocusCapture),onBlurCapture:f(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:f(e.onPointerDownCapture,A.onPointerDownCapture)})});bN.displayName="DismissableLayer";function vN(){const e=new CustomEvent(mN);document.dispatchEvent(e)}function yN(e,t,s,{discrete:i}){const r=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&r.addEventListener(e,t,{once:!0}),i?x(r,a):r.dispatchEvent(a)}Ct.forwardRef((e,t)=>{const i=Ct.useContext(xN),r=Ct.useRef(null),a=h(t,r);return Ct.useEffect(()=>{const e=r.current;if(e)return i.branches.add(e),()=>{i.branches.delete(e)}},[i.branches]),s.jsx(m.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var wN="focusScope.autoFocusOnMount",jN="focusScope.autoFocusOnUnmount",NN={bubbles:!1,cancelable:!0},kN=Ct.forwardRef((e,t)=>{const{loop:i=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:n,...o}=e,[l,c]=Ct.useState(null),d=g(a),u=g(n),p=Ct.useRef(null),f=h(t,e=>c(e)),x=Ct.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Ct.useEffect(()=>{if(r){let e=function(e){if(x.paused||!l)return;const t=e.target;l.contains(t)?p.current=t:TN(p.current,{select:!0})},t=function(e){if(x.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||TN(p.current,{select:!0}))},s=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&TN(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const i=new MutationObserver(s);return l&&i.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[r,l,x.paused]),Ct.useEffect(()=>{if(l){EN.add(x);const t=document.activeElement;if(!l.contains(t)){const s=new CustomEvent(wN,NN);l.addEventListener(wN,d),l.dispatchEvent(s),s.defaultPrevented||(!function(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(TN(i,{select:t}),document.activeElement!==s)return}((e=SN(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&TN(l))}return()=>{l.removeEventListener(wN,d),setTimeout(()=>{const e=new CustomEvent(jN,NN);l.addEventListener(jN,u),l.dispatchEvent(e),e.defaultPrevented||TN(t??document.body,{select:!0}),l.removeEventListener(jN,u),EN.remove(x)},0)}}var e},[l,d,u,x]);const b=Ct.useCallback(e=>{if(!i&&!r)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[r,a]=function(e){const t=SN(e),s=CN(t,e),i=CN(t.reverse(),e);return[s,i]}(t);r&&a?e.shiftKey||s!==a?e.shiftKey&&s===r&&(e.preventDefault(),i&&TN(a,{select:!0})):(e.preventDefault(),i&&TN(r,{select:!0})):s===t&&e.preventDefault()}},[i,r,x.paused]);return s.jsx(m.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});function SN(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function CN(e,t){for(const s of e)if(!AN(s,{upTo:t}))return s}function AN(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function TN(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}kN.displayName="FocusScope";var EN=function(){let e=[];return{add(t){const s=e[0];t!==s&&(null==s||s.pause()),e=RN(e,t),e.unshift(t)},remove(t){var s;e=RN(e,t),null==(s=e[0])||s.resume()}}}();function RN(e,t){const s=[...e],i=s.indexOf(t);return-1!==i&&s.splice(i,1),s}var PN="Popper",[IN,LN]=v(PN),[MN,ON]=IN(PN),DN=e=>{const{__scopePopper:t,children:i}=e,[r,a]=Ct.useState(null);return s.jsx(MN,{scope:t,anchor:r,onAnchorChange:a,children:i})};DN.displayName=PN;var _N="PopperAnchor",zN=Ct.forwardRef((e,t)=>{const{__scopePopper:i,virtualRef:r,...a}=e,n=ON(_N,i),o=Ct.useRef(null),l=h(t,o);return Ct.useEffect(()=>{n.onAnchorChange((null==r?void 0:r.current)||o.current)}),r?null:s.jsx(m.div,{...a,ref:l})});zN.displayName=_N;var FN="PopperContent",[BN,HN]=IN(FN),WN=Ct.forwardRef((e,t)=>{var i,r,a,n,o,l;const{__scopePopper:c,side:d="bottom",sideOffset:u=0,align:p="center",alignOffset:f=0,arrowPadding:x=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:w=0,sticky:j="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:S,...C}=e,A=ON(FN,c),[T,E]=Ct.useState(null),R=h(t,e=>E(e)),[P,I]=Ct.useState(null),L=mf(P),M=(null==L?void 0:L.width)??0,O=(null==L?void 0:L.height)??0,D=d+("center"!==p?"-"+p:""),_="number"==typeof w?w:{top:0,right:0,bottom:0,left:0,...w},z=Array.isArray(y)?y:[y],F=z.length>0,B={padding:_,boundary:z.filter(UN),altBoundary:F},{refs:H,floatingStyles:W,placement:X,isPositioned:Y,middlewareData:V}=sf({strategy:"fixed",placement:D,whileElementsMounted:(...e)=>Wm(...e,{animationFrame:"always"===k}),elements:{reference:A.anchor},middleware:[af({mainAxis:u+O,alignmentAxis:f}),v&&nf({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?of():void 0,...B}),v&&lf({...B}),cf({...B,apply:({elements:e,rects:t,availableWidth:s,availableHeight:i})=>{const{width:r,height:a}=t.reference,n=e.floating.style;n.setProperty("--radix-popper-available-width",`${s}px`),n.setProperty("--radix-popper-available-height",`${i}px`),n.setProperty("--radix-popper-anchor-width",`${r}px`),n.setProperty("--radix-popper-anchor-height",`${a}px`)}}),P&&uf({element:P,padding:x}),qN({arrowWidth:M,arrowHeight:O}),N&&df({strategy:"referenceHidden",...B})]}),[U,q]=GN(X),G=g(S);b(()=>{Y&&(null==G||G())},[Y,G]);const $=null==(i=V.arrow)?void 0:i.x,Q=null==(r=V.arrow)?void 0:r.y,K=0!==(null==(a=V.arrow)?void 0:a.centerOffset),[Z,J]=Ct.useState();return b(()=>{T&&J(window.getComputedStyle(T).zIndex)},[T]),s.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[null==(n=V.transformOrigin)?void 0:n.x,null==(o=V.transformOrigin)?void 0:o.y].join(" "),...(null==(l=V.hide)?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(BN,{scope:c,placedSide:U,onArrowChange:I,arrowX:$,arrowY:Q,shouldHideArrow:K,children:s.jsx(m.div,{"data-side":U,"data-align":q,...C,ref:R,style:{...C.style,animation:Y?void 0:"none"}})})})});WN.displayName=FN;var XN="PopperArrow",YN={top:"bottom",right:"left",bottom:"top",left:"right"},VN=Ct.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,a=HN(XN,i),n=YN[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(pf,{...r,ref:t,style:{...r.style,display:"block"}})})});function UN(e){return null!==e}VN.displayName=XN;var qN=e=>({name:"transformOrigin",options:e,fn(t){var s,i,r;const{placement:a,rects:n,middlewareData:o}=t,l=0!==(null==(s=o.arrow)?void 0:s.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,h]=GN(a),p={start:"0%",center:"50%",end:"100%"}[h],m=((null==(i=o.arrow)?void 0:i.x)??0)+c/2,f=((null==(r=o.arrow)?void 0:r.y)??0)+d/2;let g="",x="";return"bottom"===u?(g=l?p:`${m}px`,x=-d+"px"):"top"===u?(g=l?p:`${m}px`,x=`${n.floating.height+d}px`):"right"===u?(g=-d+"px",x=l?p:`${f}px`):"left"===u&&(g=`${n.floating.width+d}px`,x=l?p:`${f}px`),{data:{x:g,y:x}}}});function GN(e){const[t,s="center"]=e.split("-");return[t,s]}var $N=DN,QN=zN,KN=WN,ZN=VN,JN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ek=Ct.forwardRef((e,t)=>s.jsx(m.span,{...e,ref:t,style:{...JN,...e.style}}));ek.displayName="VisuallyHidden";var tk=ek,sk=[" ","Enter","ArrowUp","ArrowDown"],ik=[" ","Enter"],rk="Select",[ak,nk,ok]=y(rk),[lk,ck]=v(rk,[ok,LN]),dk=LN(),[uk,hk]=lk(rk),[pk,mk]=lk(rk),fk=e=>{const{__scopeSelect:t,children:i,open:r,defaultOpen:a,onOpenChange:n,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:p,required:m,form:f}=e,g=dk(t),[x,b]=Ct.useState(null),[v,y]=Ct.useState(null),[k,S]=Ct.useState(!1),C=j(d),[A,T]=N({prop:r,defaultProp:a??!1,onChange:n,caller:rk}),[E,R]=N({prop:o,defaultProp:l,onChange:c,caller:rk}),P=Ct.useRef(null),I=!x||(f||!!x.closest("form")),[L,M]=Ct.useState(new Set),O=Array.from(L).map(e=>e.props.value).join(";");return s.jsx($N,{...g,children:s.jsxs(uk,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:k,onValueNodeHasChildrenChange:S,contentId:w(),value:E,onValueChange:R,open:A,onOpenChange:T,dir:C,triggerPointerDownPosRef:P,disabled:p,children:[s.jsx(ak.Provider,{scope:t,children:s.jsx(pk,{scope:e.__scopeSelect,onNativeOptionAdd:Ct.useCallback(e=>{M(t=>new Set(t).add(e))},[]),onNativeOptionRemove:Ct.useCallback(e=>{M(t=>{const s=new Set(t);return s.delete(e),s})},[]),children:i})}),I?s.jsxs(tS,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:e=>R(e.target.value),disabled:p,form:f,children:[void 0===E?s.jsx("option",{value:""}):null,Array.from(L)]},O):null]})})};fk.displayName=rk;var gk="SelectTrigger",xk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,disabled:r=!1,...a}=e,n=dk(i),o=hk(gk,i),l=o.disabled||r,c=h(t,o.onTriggerChange),d=nk(i),u=Ct.useRef("touch"),[p,g,x]=iS(e=>{const t=d().filter(e=>!e.disabled),s=t.find(e=>e.value===o.value),i=rS(t,e,s);void 0!==i&&o.onValueChange(i.value)}),b=e=>{l||(o.onOpenChange(!0),x()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return s.jsx(QN,{asChild:!0,...n,children:s.jsx(m.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sS(o.value)?"":void 0,...a,ref:c,onClick:f(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&b(e)}),onPointerDown:f(a.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(b(e),e.preventDefault())}),onKeyDown:f(a.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||g(e.key),t&&" "===e.key||sk.includes(e.key)&&(b(),e.preventDefault())})})})});xk.displayName=gk;var bk="SelectValue",vk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,className:r,style:a,children:n,placeholder:o="",...l}=e,c=hk(bk,i),{onValueNodeHasChildrenChange:d}=c,u=void 0!==n,p=h(t,c.onValueNodeChange);return b(()=>{d(u)},[d,u]),s.jsx(m.span,{...l,ref:p,style:{pointerEvents:"none"},children:sS(c.value)?s.jsx(s.Fragment,{children:o}):n})});vk.displayName=bk;var yk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,children:r,...a}=e;return s.jsx(m.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});yk.displayName="SelectIcon";var wk=e=>s.jsx(C,{asChild:!0,...e});wk.displayName="SelectPortal";var jk="SelectContent",Nk=Ct.forwardRef((e,t)=>{const i=hk(jk,e.__scopeSelect),[r,a]=Ct.useState();if(b(()=>{a(new DocumentFragment)},[]),!i.open){const t=r;return t?Pt.createPortal(s.jsx(Sk,{scope:e.__scopeSelect,children:s.jsx(ak.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),t):null}return s.jsx(Tk,{...e,ref:t})});Nk.displayName=jk;var kk=10,[Sk,Ck]=lk(jk),Ak=T("SelectContent.RemoveScroll"),Tk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:n,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:b,avoidCollisions:v,...y}=e,w=hk(jk,i),[j,N]=Ct.useState(null),[k,S]=Ct.useState(null),C=h(t,e=>N(e)),[T,R]=Ct.useState(null),[P,I]=Ct.useState(null),L=nk(i),[M,O]=Ct.useState(!1),D=Ct.useRef(!1);Ct.useEffect(()=>{if(j)return E(j)},[j]),cp();const _=Ct.useCallback(e=>{const[t,...s]=L().map(e=>e.ref.current),[i]=s.slice(-1),r=document.activeElement;for(const a of e){if(a===r)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&k&&(k.scrollTop=0),a===i&&k&&(k.scrollTop=k.scrollHeight),null==a||a.focus(),document.activeElement!==r)return}},[L,k]),z=Ct.useCallback(()=>_([T,j]),[_,T,j]);Ct.useEffect(()=>{M&&z()},[M,z]);const{onOpenChange:F,triggerPointerDownPosRef:B}=w;Ct.useEffect(()=>{if(j){let e={x:0,y:0};const t=t=>{var s,i;e={x:Math.abs(Math.round(t.pageX)-((null==(s=B.current)?void 0:s.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(i=B.current)?void 0:i.y)??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():j.contains(s.target)||F(!1),document.removeEventListener("pointermove",t),B.current=null};return null!==B.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[j,F,B]),Ct.useEffect(()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);const[H,W]=iS(e=>{const t=L().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),i=rS(t,e,s);i&&setTimeout(()=>i.ref.current.focus())}),X=Ct.useCallback((e,t,s)=>{const i=!D.current&&!s;(void 0!==w.value&&w.value===t||i)&&(R(e),i&&(D.current=!0))},[w.value]),Y=Ct.useCallback(()=>null==j?void 0:j.focus(),[j]),V=Ct.useCallback((e,t,s)=>{const i=!D.current&&!s;(void 0!==w.value&&w.value===t||i)&&I(e)},[w.value]),U="popper"===r?Rk:Ek,q=U===Rk?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:b,avoidCollisions:v}:{};return s.jsx(Sk,{scope:i,content:j,viewport:k,onViewportChange:S,itemRefCallback:X,selectedItem:T,onItemLeave:Y,itemTextRefCallback:V,focusSelectedItem:z,selectedItemText:P,position:r,isPositioned:M,searchRef:H,children:s.jsx(A,{as:Ak,allowPinchZoom:!0,children:s.jsx(kN,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:f(a,e=>{var t;null==(t=w.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:s.jsx(bN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(U,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...y,...q,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:f(y.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||W(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=L().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const s=e.target,i=t.indexOf(s);t=t.slice(i+1)}setTimeout(()=>_(t)),e.preventDefault()}})})})})})})});Tk.displayName="SelectContentImpl";var Ek=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,onPlaced:r,...a}=e,n=hk(jk,i),o=Ck(jk,i),[l,c]=Ct.useState(null),[d,u]=Ct.useState(null),p=h(t,e=>u(e)),f=nk(i),g=Ct.useRef(!1),x=Ct.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:w,focusSelectedItem:j}=o,N=Ct.useCallback(()=>{if(n.trigger&&n.valueNode&&l&&d&&v&&y&&w){const e=n.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),s=n.valueNode.getBoundingClientRect(),i=w.getBoundingClientRect();if("rtl"!==n.dir){const r=i.left-t.left,a=s.left-r,n=e.left-a,o=e.width+n,c=Math.max(o,t.width),d=window.innerWidth-kk,u=hN(a,[kk,Math.max(kk,d-c)]);l.style.minWidth=o+"px",l.style.left=u+"px"}else{const r=t.right-i.right,a=window.innerWidth-s.right-r,n=window.innerWidth-e.right-a,o=e.width+n,c=Math.max(o,t.width),d=window.innerWidth-kk,u=hN(a,[kk,Math.max(kk,d-c)]);l.style.minWidth=o+"px",l.style.right=u+"px"}const a=f(),o=window.innerHeight-2*kk,c=v.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),p=parseInt(u.paddingTop,10),m=parseInt(u.borderBottomWidth,10),x=h+p+c+parseInt(u.paddingBottom,10)+m,b=Math.min(5*y.offsetHeight,x),j=window.getComputedStyle(v),N=parseInt(j.paddingTop,10),k=parseInt(j.paddingBottom,10),S=e.top+e.height/2-kk,C=o-S,A=y.offsetHeight/2,T=h+p+(y.offsetTop+A),E=x-T;if(T<=S){const e=a.length>0&&y===a[a.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-v.offsetTop-v.offsetHeight,s=T+Math.max(C,A+(e?k:0)+t+m);l.style.height=s+"px"}else{const e=a.length>0&&y===a[0].ref.current;l.style.top="0px";const t=Math.max(S,h+v.offsetTop+(e?N:0)+A)+E;l.style.height=t+"px",v.scrollTop=T-S+v.offsetTop}l.style.margin=`${kk}px 0`,l.style.minHeight=b+"px",l.style.maxHeight=o+"px",null==r||r(),requestAnimationFrame(()=>g.current=!0)}},[f,n.trigger,n.valueNode,l,d,v,y,w,n.dir,r]);b(()=>N(),[N]);const[k,S]=Ct.useState();b(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const C=Ct.useCallback(e=>{e&&!0===x.current&&(N(),null==j||j(),x.current=!1)},[N,j]);return s.jsx(Pk,{scope:i,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(m.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ek.displayName="SelectItemAlignedPosition";var Rk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,align:r="start",collisionPadding:a=kk,...n}=e,o=dk(i);return s.jsx(KN,{...o,...n,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rk.displayName="SelectPopperPosition";var[Pk,Ik]=lk(jk,{}),Lk="SelectViewport",Mk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,nonce:r,...a}=e,n=Ck(Lk,i),o=Ik(Lk,i),l=h(t,n.onViewportChange),c=Ct.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(ak.Slot,{scope:i,children:s.jsx(m.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:f(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:i}=o;if((null==i?void 0:i.current)&&s){const e=Math.abs(c.current-t.scrollTop);if(e>0){const i=window.innerHeight-2*kk,r=parseFloat(s.style.minHeight),a=parseFloat(s.style.height),n=Math.max(r,a);if(n<i){const r=n+e,a=Math.min(i,r),o=r-a;s.style.height=a+"px","0px"===s.style.bottom&&(t.scrollTop=o>0?o:0,s.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});Mk.displayName=Lk;var Ok="SelectGroup",[Dk,_k]=lk(Ok);Ct.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e,a=w();return s.jsx(Dk,{scope:i,id:a,children:s.jsx(m.div,{role:"group","aria-labelledby":a,...r,ref:t})})}).displayName=Ok;var zk="SelectLabel",Fk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e,a=_k(zk,i);return s.jsx(m.div,{id:a.id,...r,ref:t})});Fk.displayName=zk;var Bk="SelectItem",[Hk,Wk]=lk(Bk),Xk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,value:r,disabled:a=!1,textValue:n,...o}=e,l=hk(Bk,i),c=Ck(Bk,i),d=l.value===r,[u,p]=Ct.useState(n??""),[g,x]=Ct.useState(!1),b=h(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,r,a)}),v=w(),y=Ct.useRef("touch"),j=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Hk,{scope:i,value:r,disabled:a,textId:v,isSelected:d,onItemTextChange:Ct.useCallback(e=>{p(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:s.jsx(ak.ItemSlot,{scope:i,value:r,disabled:a,textValue:u,children:s.jsx(m.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:f(o.onFocus,()=>x(!0)),onBlur:f(o.onBlur,()=>x(!1)),onClick:f(o.onClick,()=>{"mouse"!==y.current&&j()}),onPointerUp:f(o.onPointerUp,()=>{"mouse"===y.current&&j()}),onPointerDown:f(o.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:f(o.onPointerMove,e=>{var t;y.current=e.pointerType,a?null==(t=c.onItemLeave)||t.call(c):"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:f(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:f(o.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(ik.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});Xk.displayName=Bk;var Yk="SelectItemText",Vk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,className:r,style:a,...n}=e,o=hk(Yk,i),l=Ck(Yk,i),c=Wk(Yk,i),d=mk(Yk,i),[u,p]=Ct.useState(null),f=h(t,e=>p(e),c.onItemTextChange,e=>{var t;return null==(t=l.itemTextRefCallback)?void 0:t.call(l,e,c.value,c.disabled)}),g=null==u?void 0:u.textContent,x=Ct.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return b(()=>(v(x),()=>y(x)),[v,y,x]),s.jsxs(s.Fragment,{children:[s.jsx(m.span,{id:c.textId,...n,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Pt.createPortal(n.children,o.valueNode):null]})});Vk.displayName=Yk;var Uk="SelectItemIndicator",qk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e;return Wk(Uk,i).isSelected?s.jsx(m.span,{"aria-hidden":!0,...r,ref:t}):null});qk.displayName=Uk;var Gk="SelectScrollUpButton",$k=Ct.forwardRef((e,t)=>{const i=Ck(Gk,e.__scopeSelect),r=Ik(Gk,e.__scopeSelect),[a,n]=Ct.useState(!1),o=h(t,r.onScrollButtonChange);return b(()=>{if(i.viewport&&i.isPositioned){let e=function(){const e=t.scrollTop>0;n(e)};const t=i.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[i.viewport,i.isPositioned]),a?s.jsx(Zk,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=i;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});$k.displayName=Gk;var Qk="SelectScrollDownButton",Kk=Ct.forwardRef((e,t)=>{const i=Ck(Qk,e.__scopeSelect),r=Ik(Qk,e.__scopeSelect),[a,n]=Ct.useState(!1),o=h(t,r.onScrollButtonChange);return b(()=>{if(i.viewport&&i.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,s=Math.ceil(t.scrollTop)<e;n(s)};const t=i.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[i.viewport,i.isPositioned]),a?s.jsx(Zk,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=i;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});Kk.displayName=Qk;var Zk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,onAutoScroll:r,...a}=e,n=Ck("SelectScrollButton",i),o=Ct.useRef(null),l=nk(i),c=Ct.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return Ct.useEffect(()=>()=>c(),[c]),b(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),s.jsx(m.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:f(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:f(a.onPointerMove,()=>{var e;null==(e=n.onItemLeave)||e.call(n),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:f(a.onPointerLeave,()=>{c()})})}),Jk=Ct.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e;return s.jsx(m.div,{"aria-hidden":!0,...r,ref:t})});Jk.displayName="SelectSeparator";var eS="SelectArrow";Ct.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e,a=dk(i),n=hk(eS,i),o=Ck(eS,i);return n.open&&"popper"===o.position?s.jsx(ZN,{...a,...r,ref:t}):null}).displayName=eS;var tS=Ct.forwardRef(({__scopeSelect:e,value:t,...i},r)=>{const a=Ct.useRef(null),n=h(r,a),o=oj(t);return Ct.useEffect(()=>{const e=a.current;if(!e)return;const s=window.HTMLSelectElement.prototype,i=Object.getOwnPropertyDescriptor(s,"value").set;if(o!==t&&i){const s=new Event("change",{bubbles:!0});i.call(e,t),e.dispatchEvent(s)}},[o,t]),s.jsx(m.select,{...i,style:{...JN,...i.style},ref:n,defaultValue:t})});function sS(e){return""===e||void 0===e}function iS(e){const t=g(e),s=Ct.useRef(""),i=Ct.useRef(0),r=Ct.useCallback(e=>{const r=s.current+e;t(r),function e(t){s.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),a=Ct.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return Ct.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,r,a]}function rS(e,t,s){const i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=s?e.indexOf(s):-1;let a=(n=e,o=Math.max(r,0),n.map((e,t)=>n[(o+t)%n.length]));var n,o;1===i.length&&(a=a.filter(e=>e!==s));const l=a.find(e=>e.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==s?l:void 0}tS.displayName="SelectBubbleInput";var aS=xk,nS=yk,oS=wk,lS=Nk,cS=Mk,dS=Fk,uS=Xk,hS=Vk,pS=qk,mS=$k,fS=Kk,gS=Jk;const xS=fk,bS=vk,vS=Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(aS,{ref:r,className:Yh("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...i,children:[t,s.jsx(nS,{asChild:!0,children:s.jsx(O,{className:"h-4 w-4 opacity-50"})})]}));vS.displayName=aS.displayName;const yS=Ct.forwardRef(({className:e,...t},i)=>s.jsx(mS,{ref:i,className:Yh("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pe,{className:"h-4 w-4"})}));yS.displayName=mS.displayName;const wS=Ct.forwardRef(({className:e,...t},i)=>s.jsx(fS,{ref:i,className:Yh("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(O,{className:"h-4 w-4"})}));wS.displayName=fS.displayName;const jS=Ct.forwardRef(({className:e,children:t,position:i="popper",...r},a)=>s.jsx(oS,{children:s.jsxs(lS,{ref:a,className:Yh("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:i,...r,children:[s.jsx(yS,{}),s.jsx(cS,{className:Yh("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(wS,{})]})}));jS.displayName=lS.displayName;Ct.forwardRef(({className:e,...t},i)=>s.jsx(dS,{ref:i,className:Yh("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=dS.displayName;const NS=Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(uS,{ref:r,className:Yh("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...i,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pS,{children:s.jsx(P,{className:"h-4 w-4"})})}),s.jsx(hS,{children:t})]}));NS.displayName=uS.displayName;Ct.forwardRef(({className:e,...t},i)=>s.jsx(gS,{ref:i,className:Yh("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=gS.displayName;var kS="Switch",[SS,CS]=v(kS),[AS,TS]=SS(kS),ES=Ct.forwardRef((e,t)=>{const{__scopeSwitch:i,name:r,checked:a,defaultChecked:n,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...p}=e,[g,x]=Ct.useState(null),b=h(t,e=>x(e)),v=Ct.useRef(!1),y=!g||(u||!!g.closest("form")),[w,j]=N({prop:a,defaultProp:n??!1,onChange:d,caller:kS});return s.jsxs(AS,{scope:i,checked:w,disabled:l,children:[s.jsx(m.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":LS(w),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onClick:f(e.onClick,e=>{j(e=>!e),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),y&&s.jsx(IS,{control:g,bubbles:!v.current,name:r,value:c,checked:w,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});ES.displayName=kS;var RS="SwitchThumb",PS=Ct.forwardRef((e,t)=>{const{__scopeSwitch:i,...r}=e,a=TS(RS,i);return s.jsx(m.span,{"data-state":LS(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});PS.displayName=RS;var IS=Ct.forwardRef(({__scopeSwitch:e,control:t,checked:i,bubbles:r=!0,...a},n)=>{const o=Ct.useRef(null),l=h(o,n),c=oj(i),d=mf(t);return Ct.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==i&&s){const t=new Event("click",{bubbles:r});s.call(e,i),e.dispatchEvent(t)}},[c,i,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function LS(e){return e?"checked":"unchecked"}IS.displayName="SwitchBubbleInput";var MS=ES,OS=PS;const DS=Ct.forwardRef(({className:e,...t},i)=>s.jsx(MS,{className:Yh("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:i,children:s.jsx(OS,{className:Yh("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));DS.displayName=MS.displayName;const _S=()=>s.jsx("div",{className:"flex py-10 items-center justify-center",children:s.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})}),zS=()=>s.jsxs(Zx,{children:[s.jsx(Jx,{asChild:!0,children:s.jsx("button",{children:s.jsx(ye,{className:"size-4"})})}),s.jsxs(eb,{align:"end",className:"w-40",children:[s.jsxs(tb,{children:[s.jsx(we,{className:"size-4 mr-2"}),"Edit"]}),s.jsxs(tb,{children:[s.jsx(oe,{className:"size-4 mr-2"}),"Delete"]})]})]}),FS=d,BS=u,HS=r,WS=Ct.forwardRef(({className:e,...t},r)=>s.jsx(i,{ref:r,className:Yh("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));WS.displayName=i.displayName;const XS=Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(HS,{children:[s.jsx(WS,{}),s.jsxs(a,{ref:r,className:Yh("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[t,s.jsxs(n,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(o,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));XS.displayName=a.displayName;const YS=({className:e,...t})=>s.jsx("div",{className:Yh("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});YS.displayName="DialogHeader";const VS=Ct.forwardRef(({className:e,...t},i)=>s.jsx(l,{ref:i,className:Yh("text-lg font-semibold leading-none tracking-tight",e),...t}));VS.displayName=l.displayName;const US=Ct.forwardRef(({className:e,...t},i)=>s.jsx(c,{ref:i,className:Yh("text-sm text-muted-foreground",e),...t}));function qS({user:e,onUpdate:t}){const[i,r]=Ct.useState(!1),[a,n]=Ct.useState(e.credits.toString()),[o,l]=Ct.useState({topicsPerMonth:"",chatMessagesPerDay:"",quizzesPerWeek:""}),[c,d]=Ct.useState(!1),[u,h]=Ct.useState(null);return s.jsxs(FS,{open:i,onOpenChange:t=>{r(t),t||(n(e.credits.toString()),l({topicsPerMonth:"",chatMessagesPerDay:"",quizzesPerWeek:""}),h(null))},children:[s.jsx(BS,{asChild:!0,children:s.jsxs(cw,{variant:"outline",size:"sm",children:[s.jsx(L,{className:"h-4 w-4 mr-2"}),"Manage Quota"]})}),s.jsxs(XS,{className:"sm:max-w-[500px]",children:[s.jsxs(YS,{children:[s.jsxs(VS,{className:"flex items-center gap-2",children:[s.jsx(M,{className:"h-5 w-5"}),"Manage User Quota"]}),s.jsxs(US,{children:["Update credits and learning limits for ",e.email||e.username||`User ${e.id.slice(0,8)}`]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Vy,{children:s.jsx($y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e.email||e.username||"Unknown User"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",e.id.slice(0,8),"..."]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dw,{variant:"active"===e.subscriptionStatus?"default":"secondary",children:e.subscriptionPlan||"Free"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[e.credits," credits"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current balance"})]})]})]})})}),s.jsxs("form",{onSubmit:async s=>{s.preventDefault(),d(!0),h(null);try{const s={userId:e.id},i=parseInt(a);isNaN(i)||i===e.credits||(s.credits=i);const n={};if(o.topicsPerMonth){const e=parseInt(o.topicsPerMonth);isNaN(e)||(n.topicsPerMonth=e)}if(o.chatMessagesPerDay){const e=parseInt(o.chatMessagesPerDay);isNaN(e)||(n.chatMessagesPerDay=e)}if(o.quizzesPerWeek){const e=parseInt(o.quizzesPerWeek);isNaN(e)||(n.quizzesPerWeek=e)}Object.keys(n).length>0&&(s.customLimits=n),await xu(s),h({type:"success",message:"User quota updated successfully"}),t&&t(),setTimeout(()=>{r(!1),h(null)},2e3)}catch(i){h({type:"error",message:i instanceof Error?i.message:"Failed to update user quota"})}finally{d(!1)}},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(cb,{htmlFor:"credits",className:"flex items-center gap-2",children:[s.jsx(se,{className:"h-4 w-4"}),"Credits"]}),s.jsx(Sj,{id:"credits",type:"number",min:"0",value:a,onChange:e=>n(e.target.value),placeholder:"Enter new credit amount"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",e.credits," credits"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(cb,{className:"text-sm font-medium",children:"Custom Limits (Optional)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to use default plan limits"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx(cb,{htmlFor:"topicsPerMonth",className:"text-xs",children:"Topics per Month"}),s.jsx(Sj,{id:"topicsPerMonth",type:"number",min:"0",value:o.topicsPerMonth,onChange:e=>l(t=>({...t,topicsPerMonth:e.target.value})),placeholder:"e.g., 50"})]}),s.jsxs("div",{children:[s.jsx(cb,{htmlFor:"chatMessagesPerDay",className:"text-xs",children:"Chat Messages per Day"}),s.jsx(Sj,{id:"chatMessagesPerDay",type:"number",min:"0",value:o.chatMessagesPerDay,onChange:e=>l(t=>({...t,chatMessagesPerDay:e.target.value})),placeholder:"e.g., 200"})]}),s.jsxs("div",{children:[s.jsx(cb,{htmlFor:"quizzesPerWeek",className:"text-xs",children:"Quizzes per Week"}),s.jsx(Sj,{id:"quizzesPerWeek",type:"number",min:"0",value:o.quizzesPerWeek,onChange:e=>l(t=>({...t,quizzesPerWeek:e.target.value})),placeholder:"e.g., 20"})]})]})]}),u&&s.jsxs(ej,{variant:"error"===u.type?"destructive":"default",children:["success"===u.type?s.jsx(W,{className:"h-4 w-4"}):s.jsx(H,{className:"h-4 w-4"}),s.jsx(tj,{children:u.message})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(cw,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:c,children:"Cancel"}),s.jsx(cw,{type:"submit",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Quota"})]})]})]})]})]})}function GS({selectedUsers:e,onUpdate:t}){const[i,r]=Ct.useState(!1),[a,n]=Ct.useState(""),[o,l]=Ct.useState("add"),[c,d]=Ct.useState(!1),[u,h]=Ct.useState(null);return 0===e.length?null:s.jsxs(FS,{open:i,onOpenChange:r,children:[s.jsx(BS,{asChild:!0,children:s.jsxs(cw,{variant:"outline",size:"sm",children:[s.jsx(L,{className:"h-4 w-4 mr-2"}),"Bulk Update (",e.length,")"]})}),s.jsxs(XS,{children:[s.jsxs(YS,{children:[s.jsx(VS,{children:"Bulk Update User Quotas"}),s.jsxs(US,{children:["Update credits for ",e.length," selected users"]})]}),s.jsxs("form",{onSubmit:async s=>{s.preventDefault(),d(!0),h(null);try{const s=parseInt(a);if(isNaN(s))throw new Error("Please enter a valid credit amount");const i=e.map(e=>xu({userId:e,credits:"add"===o?void 0:s}));await Promise.all(i),h({type:"success",message:`Successfully updated quota for ${e.length} users`}),t&&t(),setTimeout(()=>{r(!1),h(null)},2e3)}catch(i){h({type:"error",message:i instanceof Error?i.message:"Failed to update quotas"})}finally{d(!1)}},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(cb,{children:"Operation"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(cw,{type:"button",variant:"set"===o?"default":"outline",size:"sm",onClick:()=>l("set"),children:"Set Credits"}),s.jsx(cw,{type:"button",variant:"add"===o?"default":"outline",size:"sm",onClick:()=>l("add"),disabled:!0,children:"Add Credits"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(cb,{htmlFor:"bulkCredits",children:"Credit Amount"}),s.jsx(Sj,{id:"bulkCredits",type:"number",min:"0",value:a,onChange:e=>n(e.target.value),placeholder:"Enter credit amount",required:!0})]}),u&&s.jsxs(ej,{variant:"error"===u.type?"destructive":"default",children:["success"===u.type?s.jsx(W,{className:"h-4 w-4"}):s.jsx(H,{className:"h-4 w-4"}),s.jsx(tj,{children:u.message})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(cw,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:c,children:"Cancel"}),s.jsx(cw,{type:"submit",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):`Update ${e.length} Users`})]})]})]})]})}function $S({id:e,isAdmin:t}){const{data:i}=Vu(),r=(null==i?void 0:i.id)===e;return s.jsx(DS,{checked:t,onCheckedChange:t=>Kd({id:e,isAdmin:t}),disabled:r})}US.displayName=c.displayName;const QS=()=>{var e;const[t,i]=Ct.useState(1),[r,a]=Ct.useState(void 0),[n,l]=Ct.useState(void 0),[c,d]=Ct.useState([]),[u,h]=Ct.useState([]),p=function(e,t){const[s,i]=Ct.useState(e);return Ct.useEffect(()=>{const s=setTimeout(()=>i(e),t);return()=>clearTimeout(s)},[e,t]),s}(r,300),m=t-1,{data:f,isLoading:g,refetch:x}=Hu(wu,{skipPages:m,filter:{...p&&{emailContains:p},...void 0!==n&&{isAdmin:n},...c.length>0&&{subscriptionStatusIn:c}}});Ct.useEffect(function(){i(1)},[p,c,n]);const b=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},v=()=>{d([])},y=c&&c.length>0,w=()=>{x(),h([])};return s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs("div",{className:"rounded-sm border border-border bg-card shadow",children:[s.jsxs("div",{className:"flex-col flex items-start justify-between p-6 gap-3 w-full bg-muted/40",children:[s.jsx("span",{className:"text-sm font-medium",children:"Filters:"}),s.jsxs("div",{className:"flex items-center justify-between gap-3 w-full px-2",children:[s.jsxs("div",{className:"relative flex items-center gap-3 ",children:[s.jsx(cb,{htmlFor:"email-filter",className:"text-sm text-muted-foreground",children:"email:"}),s.jsx(Sj,{type:"text",id:"email-filter",placeholder:"dude@example.com",onChange:e=>{const t=e.currentTarget.value;a(""===t?void 0:t)}}),s.jsx(cb,{htmlFor:"status-filter",className:"text-sm ml-2 text-muted-foreground",children:"status:"}),s.jsx("div",{className:"relative",children:s.jsxs(xS,{children:[s.jsx(vS,{className:"w-full min-w-[200px]",children:s.jsx(bS,{placeholder:"Select Status Filter"})}),s.jsx(jS,{className:"w-[300px]",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subscription Status"}),c.length>0&&s.jsx("button",{onClick:v,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kj,{id:"all-statuses",checked:0===c.length,onCheckedChange:()=>v()}),s.jsx(cb,{htmlFor:"all-statuses",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"All Statuses"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kj,{id:"has-not-subscribed",checked:c.includes(null),onCheckedChange:()=>b(null)}),s.jsx(cb,{htmlFor:"has-not-subscribed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Has Not Subscribed"})]}),Object.values(Pw).map(e=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kj,{id:e,checked:c.includes(e),onCheckedChange:()=>b(e)}),s.jsx(cb,{htmlFor:e,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e})]},e))]})]})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cb,{htmlFor:"admin-filter",className:"text-sm ml-2 text-muted-foreground",children:"isAdmin:"}),s.jsxs(xS,{onValueChange:e=>{l("both"===e?void 0:"true"===e)},children:[s.jsx(vS,{className:"w-full",children:s.jsx(bS,{placeholder:"both"})}),s.jsxs(jS,{children:[s.jsx(NS,{value:"both",children:"both"}),s.jsx(NS,{value:"true",children:"true"}),s.jsx(NS,{value:"false",children:"false"})]})]})]})]}),(null==f?void 0:f.totalPages)&&s.jsxs("div",{className:"max-w-60 flex flex-row items-center",children:[s.jsx("span",{className:"text-md mr-2 text-foreground",children:"page"}),s.jsx(Sj,{type:"number",min:1,defaultValue:t,max:null==f?void 0:f.totalPages,onChange:e=>{const t=parseInt(e.currentTarget.value);(null==f?void 0:f.totalPages)&&t<=(null==f?void 0:f.totalPages)&&t>0&&i(t)},className:"w-20"}),s.jsxs("span",{className:"text-md text-foreground",children:[" /",null==f?void 0:f.totalPages," "]})]})]}),y&&s.jsxs("div",{className:"flex items-center gap-2 px-2 pt-2 border-border",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Active Filters:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>s.jsxs(cw,{variant:"outline",size:"sm",onClick:()=>b(e),children:[s.jsx(o,{className:"w-3 h-3 mr-1"}),e??"Has Not Subscribed"]},e??"null"))})]})]}),s.jsxs("div",{className:"border-t-4 border-border",children:[u.length>0&&s.jsxs("div",{className:"bg-blue-50 border-b border-border p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:[u.length," user",1!==u.length?"s":""," selected"]}),s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>h([]),children:"Clear Selection"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(GS,{selectedUsers:u,onUpdate:w})})]}),s.jsxs("div",{className:"grid grid-cols-10 py-4.5 px-4 md:px-6",children:[s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx(kj,{checked:!!(null==f?void 0:f.users)&&u.length===f.users.length,onCheckedChange:e=>{e&&(null==f?void 0:f.users)?h(f.users.map(e=>e.id)):h([])}})}),s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsx("p",{className:"font-medium",children:"Email / Username"})}),s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsx("p",{className:"font-medium",children:"Subscription"})}),s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx("p",{className:"font-medium",children:"Credits"})}),s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsx("p",{className:"font-medium",children:"Stripe ID"})}),s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx("p",{className:"font-medium",children:"Admin"})}),s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx("p",{className:"font-medium",children:"Actions"})})]})]}),g&&s.jsx(_S,{}),!!(null==f?void 0:f.users)&&(null==(e=null==f?void 0:f.users)?void 0:e.length)>0&&f.users.map(e=>{var t;return s.jsxs("div",{className:"grid grid-cols-10 gap-4 py-4.5 px-4 md:px-6 border-b border-border/50",children:[s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx(kj,{checked:u.includes(e.id),onCheckedChange:t=>{return s=e.id,void h(t?e=>[...e,s]:e=>e.filter(e=>e!==s));var s}})}),s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("p",{className:"text-sm text-foreground",children:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.username})]})}),s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(Dw,{variant:"active"===e.subscriptionStatus?"default":"secondary",children:e.subscriptionStatus||"Free"}),e.subscriptionStatus&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e.subscriptionPlan||"Unknown Plan"})]})}),s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(se,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:e.credits||0})]})}),s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[(null==(t=e.paymentProcessorUserId)?void 0:t.slice(0,20))||"N/A",e.paymentProcessorUserId&&e.paymentProcessorUserId.length>20&&"..."]})}),s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx($S,{...e})}),s.jsxs("div",{className:"col-span-1 flex items-center gap-2",children:[s.jsx(qS,{user:{id:e.id,email:e.email||void 0,username:e.username||void 0,credits:e.credits||0,subscriptionStatus:e.subscriptionStatus||void 0,subscriptionPlan:e.subscriptionPlan||void 0},onUpdate:w}),s.jsx(zS,{})]})]},e.id)})]})})},KS=({pageName:e})=>s.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-title-md2 font-semibold text-foreground",children:e}),s.jsx("nav",{children:s.jsxs("ul",{className:"flex items-center gap-1",children:[s.jsx("li",{children:s.jsx(Xi,{to:Yi.AdminRoute.to,children:"Dashboard"})}),s.jsx("li",{children:"/"}),s.jsx("li",{className:"font-medium",children:e})]})})]});let ZS,JS,eC,tC={data:""},sC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iC=/\/\*[^]*?\*\/|  +/g,rC=/\n+/g,aC=(e,t)=>{let s="",i="",r="";for(let a in e){let n=e[a];"@"==a[0]?"i"==a[1]?s=a+" "+n+";":i+="f"==a[1]?aC(n,a):a+"{"+aC(n,"k"==a[1]?"":t)+"}":"object"==typeof n?i+=aC(n,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=n&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=aC.p?aC.p(a,n):a+":"+n+";")}return s+(t&&r?t+"{"+r+"}":r)+i},nC={},oC=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+oC(e[s]);return t}return e};function lC(e){let t=this||{},s=e.call?e(t.p):e;return((e,t,s,i,r)=>{let a=oC(e),n=nC[a]||(nC[a]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(a));if(!nC[n]){let t=a!==e?e:(e=>{let t,s,i=[{}];for(;t=sC.exec(e.replace(iC,""));)t[4]?i.shift():t[3]?(s=t[3].replace(rC," ").trim(),i.unshift(i[0][s]=i[0][s]||{})):i[0][t[1]]=t[2].replace(rC," ").trim();return i[0]})(e);nC[n]=aC(r?{["@keyframes "+n]:t}:t,s?"":"."+n)}let o=s&&nC.g?nC.g:null;return s&&(nC.g=nC[n]),l=nC[n],c=t,d=i,(u=o)?c.data=c.data.replace(u,l):-1===c.data.indexOf(l)&&(c.data=d?l+c.data:c.data+l),n;var l,c,d,u})(s.unshift?s.raw?((e,t,s)=>e.reduce((e,i,r)=>{let a=t[r];if(a&&a.call){let e=a(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":aC(e,""):!1===e?"":e}return e+i+(null==a?"":a)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,(i=t.target,"object"==typeof window?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||tC),t.g,t.o,t.k);var i}lC.bind({g:1});let cC=lC.bind({k:1});function dC(e,t){let s=this||{};return function(){let t=arguments;return function i(r,a){let n=Object.assign({},r),o=n.className||i.className;s.p=Object.assign({theme:JS&&JS()},n),s.o=/ *go\d+/.test(o),n.className=lC.apply(s,t)+(o?" "+o:"");let l=e;return e[0]&&(l=n.as||e,delete n.as),eC&&l[0]&&eC(n),ZS(l,n)}}}var uC=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,hC=(()=>{let e=0;return()=>(++e).toString()})(),pC=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),mC=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:s}=t;return mC(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||void 0===i?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+r}))}}},fC=[],gC={toasts:[],pausedAt:void 0},xC=e=>{gC=mC(gC,e),fC.forEach(e=>{e(gC)})},bC=e=>(t,s)=>{let i=((e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(null==s?void 0:s.id)||hC()}))(t,e,s);return xC({type:2,toast:i}),i.id},vC=(e,t)=>bC("blank")(e,t);vC.error=bC("error"),vC.success=bC("success"),vC.loading=bC("loading"),vC.custom=bC("custom"),vC.dismiss=e=>{xC({type:3,toastId:e})},vC.remove=e=>xC({type:4,toastId:e}),vC.promise=(e,t,s)=>{let i=vC.loading(t.loading,{...s,...null==s?void 0:s.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=t.success?uC(t.success,e):void 0;return r?vC.success(r,{id:i,...s,...null==s?void 0:s.success}):vC.dismiss(i),e}).catch(e=>{let r=t.error?uC(t.error,e):void 0;r?vC.error(r,{id:i,...s,...null==s?void 0:s.error}):vC.dismiss(i)}),e};var yC,wC,jC,NC,kC=cC`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SC=cC`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CC=cC`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,AC=dC("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TC=cC`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EC=dC("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${TC} 1s linear infinite;
`,RC=cC`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,PC=cC`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IC=dC("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${PC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LC=dC("div")`
  position: absolute;
`,MC=dC("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OC=cC`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DC=dC("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_C=({toast:e})=>{let{icon:t,type:s,iconTheme:i}=e;return void 0!==t?"string"==typeof t?Ct.createElement(DC,null,t):t:"blank"===s?null:Ct.createElement(MC,null,Ct.createElement(EC,{...i}),"loading"!==s&&Ct.createElement(LC,null,"error"===s?Ct.createElement(AC,{...i}):Ct.createElement(IC,{...i})))},zC=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,FC=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,BC=dC("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HC=dC("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;Ct.memo(({toast:e,position:t,style:s,children:i})=>{let r=e.height?((e,t)=>{let s=e.includes("top")?1:-1,[i,r]=pC()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[zC(s),FC(s)];return{animation:t?`${cC(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cC(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},a=Ct.createElement(_C,{toast:e}),n=Ct.createElement(HC,{...e.ariaProps},uC(e.message,e));return Ct.createElement(BC,{className:e.className,style:{...r,...s,...e.style}},"function"==typeof i?i({icon:a,message:n}):Ct.createElement(Ct.Fragment,null,a,n))}),yC=Ct.createElement,aC.p=wC,ZS=yC,JS=jC,eC=NC,lC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var WC=vC;const XC=Ct.forwardRef(({className:e,...t},i)=>s.jsx("textarea",{className:Yh("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...t}));XC.displayName="Textarea";function YC({className:e,...t}){return s.jsx("div",{className:Yh("animate-pulse rounded-md bg-primary/10",e),...t})}function VC(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(null==e||e(i),!1===s||!i.defaultPrevented)return null==t?void 0:t(i)}}var UC="Popper",[qC,GC]=v(UC),[$C,QC]=qC(UC),KC=e=>{const{__scopePopper:t,children:i}=e,[r,a]=Ct.useState(null);return s.jsx($C,{scope:t,anchor:r,onAnchorChange:a,children:i})};KC.displayName=UC;var ZC="PopperAnchor",JC=Ct.forwardRef((e,t)=>{const{__scopePopper:i,virtualRef:r,...a}=e,n=QC(ZC,i),o=Ct.useRef(null),l=h(t,o),c=Ct.useRef(null);return Ct.useEffect(()=>{const e=c.current;c.current=(null==r?void 0:r.current)||o.current,e!==c.current&&n.onAnchorChange(c.current)}),r?null:s.jsx(m.div,{...a,ref:l})});JC.displayName=ZC;var eA="PopperContent",[tA,sA]=qC(eA),iA=Ct.forwardRef((e,t)=>{var i,r,a,n,o,l;const{__scopePopper:c,side:d="bottom",sideOffset:u=0,align:p="center",alignOffset:f=0,arrowPadding:x=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:w=0,sticky:j="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:S,...C}=e,A=QC(eA,c),[T,E]=Ct.useState(null),R=h(t,e=>E(e)),[P,I]=Ct.useState(null),L=mf(P),M=(null==L?void 0:L.width)??0,O=(null==L?void 0:L.height)??0,D=d+("center"!==p?"-"+p:""),_="number"==typeof w?w:{top:0,right:0,bottom:0,left:0,...w},z=Array.isArray(y)?y:[y],F=z.length>0,B={padding:_,boundary:z.filter(oA),altBoundary:F},{refs:H,floatingStyles:W,placement:X,isPositioned:Y,middlewareData:V}=sf({strategy:"fixed",placement:D,whileElementsMounted:(...e)=>Wm(...e,{animationFrame:"always"===k}),elements:{reference:A.anchor},middleware:[af({mainAxis:u+O,alignmentAxis:f}),v&&nf({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?of():void 0,...B}),v&&lf({...B}),cf({...B,apply:({elements:e,rects:t,availableWidth:s,availableHeight:i})=>{const{width:r,height:a}=t.reference,n=e.floating.style;n.setProperty("--radix-popper-available-width",`${s}px`),n.setProperty("--radix-popper-available-height",`${i}px`),n.setProperty("--radix-popper-anchor-width",`${r}px`),n.setProperty("--radix-popper-anchor-height",`${a}px`)}}),P&&uf({element:P,padding:x}),lA({arrowWidth:M,arrowHeight:O}),N&&df({strategy:"referenceHidden",...B})]}),[U,q]=cA(X),G=g(S);b(()=>{Y&&(null==G||G())},[Y,G]);const $=null==(i=V.arrow)?void 0:i.x,Q=null==(r=V.arrow)?void 0:r.y,K=0!==(null==(a=V.arrow)?void 0:a.centerOffset),[Z,J]=Ct.useState();return b(()=>{T&&J(window.getComputedStyle(T).zIndex)},[T]),s.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[null==(n=V.transformOrigin)?void 0:n.x,null==(o=V.transformOrigin)?void 0:o.y].join(" "),...(null==(l=V.hide)?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(tA,{scope:c,placedSide:U,onArrowChange:I,arrowX:$,arrowY:Q,shouldHideArrow:K,children:s.jsx(m.div,{"data-side":U,"data-align":q,...C,ref:R,style:{...C.style,animation:Y?void 0:"none"}})})})});iA.displayName=eA;var rA="PopperArrow",aA={top:"bottom",right:"left",bottom:"top",left:"right"},nA=Ct.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,a=sA(rA,i),n=aA[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(pf,{...r,ref:t,style:{...r.style,display:"block"}})})});function oA(e){return null!==e}nA.displayName=rA;var lA=e=>({name:"transformOrigin",options:e,fn(t){var s,i,r;const{placement:a,rects:n,middlewareData:o}=t,l=0!==(null==(s=o.arrow)?void 0:s.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,h]=cA(a),p={start:"0%",center:"50%",end:"100%"}[h],m=((null==(i=o.arrow)?void 0:i.x)??0)+c/2,f=((null==(r=o.arrow)?void 0:r.y)??0)+d/2;let g="",x="";return"bottom"===u?(g=l?p:`${m}px`,x=-d+"px"):"top"===u?(g=l?p:`${m}px`,x=`${n.floating.height+d}px`):"right"===u?(g=-d+"px",x=l?p:`${f}px`):"left"===u&&(g=`${n.floating.width+d}px`,x=l?p:`${f}px`),{data:{x:g,y:x}}}});function cA(e){const[t,s="center"]=e.split("-");return[t,s]}var dA=KC,uA=JC,hA=iA,pA=nA;var mA=e=>{const{present:t,children:s}=e,i=function(e){const[t,s]=Ct.useState(),i=Ct.useRef(null),r=Ct.useRef(e),a=Ct.useRef("none"),n=e?"mounted":"unmounted",[o,l]=function(e,t){return Ct.useReducer((e,s)=>t[e][s]??e,e)}(n,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Ct.useEffect(()=>{const e=fA(i.current);a.current="mounted"===o?e:"none"},[o]),b(()=>{const t=i.current,s=r.current;if(s!==e){const i=a.current,n=fA(t);if(e)l("MOUNT");else if("none"===n||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(s&&i!==n?"ANIMATION_OUT":"UNMOUNT")}r.current=e}},[e,l]),b(()=>{if(t){let e;const s=t.ownerDocument.defaultView??window,n=a=>{const n=fA(i.current).includes(CSS.escape(a.animationName));if(a.target===t&&n&&(l("ANIMATION_END"),!r.current)){const i=t.style.animationFillMode;t.style.animationFillMode="forwards",e=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=i)})}},o=e=>{e.target===t&&(a.current=fA(i.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",n),t.addEventListener("animationend",n),()=>{s.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",n),t.removeEventListener("animationend",n)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:Ct.useCallback(e=>{i.current=e?getComputedStyle(e):null,s(e)},[])}}(t),r="function"==typeof s?s({present:i.isPresent}):Ct.Children.only(s),a=h(i.ref,function(e){var t,s;let i=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=i&&"isReactWarning"in i&&i.isReactWarning;if(r)return e.ref;if(i=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=i&&"isReactWarning"in i&&i.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(r));return"function"==typeof s||i.isPresent?Ct.cloneElement(r,{ref:a}):null};function fA(e){return(null==e?void 0:e.animationName)||"none"}mA.displayName="Presence";var[gA,xA]=v("Tooltip",[GC]),bA=GC(),vA="TooltipProvider",yA=700,wA="tooltip.open",[jA,NA]=gA(vA),kA=e=>{const{__scopeTooltip:t,delayDuration:i=yA,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:n}=e,o=Ct.useRef(!0),l=Ct.useRef(!1),c=Ct.useRef(0);return Ct.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),s.jsx(jA,{scope:t,isOpenDelayedRef:o,delayDuration:i,onOpen:Ct.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:Ct.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:Ct.useCallback(e=>{l.current=e},[]),disableHoverableContent:a,children:n})};kA.displayName=vA;var SA="Tooltip",[CA,AA]=gA(SA),TA=e=>{const{__scopeTooltip:t,children:i,open:r,defaultOpen:a,onOpenChange:n,disableHoverableContent:o,delayDuration:l}=e,c=NA(SA,e.__scopeTooltip),d=bA(t),[u,h]=Ct.useState(null),p=w(),m=Ct.useRef(0),f=o??c.disableHoverableContent,g=l??c.delayDuration,x=Ct.useRef(!1),[b,v]=N({prop:r,defaultProp:a??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(wA))):c.onClose(),null==n||n(e)},caller:SA}),y=Ct.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),j=Ct.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,v(!0)},[v]),k=Ct.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),S=Ct.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,v(!0),m.current=0},g)},[g,v]);return Ct.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(dA,{...d,children:s.jsx(CA,{scope:t,contentId:p,open:b,stateAttribute:y,trigger:u,onTriggerChange:h,onTriggerEnter:Ct.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:Ct.useCallback(()=>{f?k():(window.clearTimeout(m.current),m.current=0)},[k,f]),onOpen:j,onClose:k,disableHoverableContent:f,children:i})})};TA.displayName=SA;var EA="TooltipTrigger",RA=Ct.forwardRef((e,t)=>{const{__scopeTooltip:i,...r}=e,a=AA(EA,i),n=NA(EA,i),o=bA(i),l=Ct.useRef(null),c=h(t,l,a.onTriggerChange),d=Ct.useRef(!1),u=Ct.useRef(!1),p=Ct.useCallback(()=>d.current=!1,[]);return Ct.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(uA,{asChild:!0,...o,children:s.jsx(m.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:VC(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||n.isPointerInTransitRef.current||(a.onTriggerEnter(),u.current=!0))}),onPointerLeave:VC(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:VC(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:VC(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:VC(e.onBlur,a.onClose),onClick:VC(e.onClick,a.onClose)})})});RA.displayName=EA;var PA="TooltipPortal",[IA,LA]=gA(PA,{forceMount:void 0}),MA=e=>{const{__scopeTooltip:t,forceMount:i,children:r,container:a}=e,n=AA(PA,t);return s.jsx(IA,{scope:t,forceMount:i,children:s.jsx(mA,{present:i||n.open,children:s.jsx(C,{asChild:!0,container:a,children:r})})})};MA.displayName=PA;var OA="TooltipContent",DA=Ct.forwardRef((e,t)=>{const i=LA(OA,e.__scopeTooltip),{forceMount:r=i.forceMount,side:a="top",...n}=e,o=AA(OA,e.__scopeTooltip);return s.jsx(mA,{present:r||o.open,children:o.disableHoverableContent?s.jsx(HA,{side:a,...n,ref:t}):s.jsx(_A,{side:a,...n,ref:t})})}),_A=Ct.forwardRef((e,t)=>{const i=AA(OA,e.__scopeTooltip),r=NA(OA,e.__scopeTooltip),a=Ct.useRef(null),n=h(t,a),[o,l]=Ct.useState(null),{trigger:c,onClose:d}=i,u=a.current,{onPointerInTransitChange:p}=r,m=Ct.useCallback(()=>{l(null),p(!1)},[p]),f=Ct.useCallback((e,t)=>{const s=e.currentTarget,i={x:e.clientX,y:e.clientY},r=function(e,t,s=5){const i=[];switch(t){case"top":i.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":i.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":i.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":i.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return i}(i,function(e,t){const s=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,i,r,a)){case a:return"left";case r:return"right";case s:return"top";case i:return"bottom";default:throw new Error("unreachable")}}(i,s.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const e=t[t.length-1],i=t[t.length-2];if(!((e.x-i.x)*(s.y-i.y)>=(e.y-i.y)*(s.x-i.x)))break;t.pop()}t.push(s)}t.pop();const s=[];for(let i=e.length-1;i>=0;i--){const t=e[i];for(;s.length>=2;){const e=s[s.length-1],i=s[s.length-2];if(!((e.x-i.x)*(t.y-i.y)>=(e.y-i.y)*(t.x-i.x)))break;s.pop()}s.push(t)}return s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}(t)}([...r,...function(e){const{top:t,right:s,bottom:i,left:r}=e;return[{x:r,y:t},{x:s,y:t},{x:s,y:i},{x:r,y:i}]}(t.getBoundingClientRect())]);l(a),p(!0)},[p]);return Ct.useEffect(()=>()=>m(),[m]),Ct.useEffect(()=>{if(c&&u){const e=e=>f(e,u),t=e=>f(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,f,m]),Ct.useEffect(()=>{if(o){const e=e=>{const t=e.target,s={x:e.clientX,y:e.clientY},i=(null==c?void 0:c.contains(t))||(null==u?void 0:u.contains(t)),r=!function(e,t){const{x:s,y:i}=e;let r=!1;for(let a=0,n=t.length-1;a<t.length;n=a++){const e=t[a],o=t[n],l=e.x,c=e.y,d=o.x,u=o.y;c>i!=u>i&&s<(d-l)*(i-c)/(u-c)+l&&(r=!r)}return r}(s,o);i?m():r&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,o,d,m]),s.jsx(HA,{...e,ref:n})}),[zA,FA]=gA(SA,{isInside:!1}),BA=Pe("TooltipContent"),HA=Ct.forwardRef((e,t)=>{const{__scopeTooltip:i,children:r,"aria-label":a,onEscapeKeyDown:n,onPointerDownOutside:o,...l}=e,c=AA(OA,i),d=bA(i),{onClose:u}=c;return Ct.useEffect(()=>(document.addEventListener(wA,u),()=>document.removeEventListener(wA,u)),[u]),Ct.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),s.jsx(Re,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:s.jsxs(hA,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(BA,{children:r}),s.jsx(zA,{scope:i,isInside:!0,children:s.jsx(tk,{id:c.contentId,role:"tooltip",children:a||r})})]})})});DA.displayName=OA;var WA="TooltipArrow";Ct.forwardRef((e,t)=>{const{__scopeTooltip:i,...r}=e,a=bA(i);return FA(WA,i).isInside?null:s.jsx(pA,{...a,...r,ref:t})}).displayName=WA;var XA=MA,YA=DA;const VA=kA,UA=TA,qA=RA,GA=Ct.forwardRef(({className:e,sideOffset:t=4,...i},r)=>s.jsx(XA,{children:s.jsx(YA,{ref:r,sideOffset:t,className:Yh("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...i})}));GA.displayName=YA.displayName;const $A=Ct.createContext(null);function QA(){const e=Ct.useContext($A);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const KA=Ct.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:i,className:r,style:a,children:n,...o},l)=>{const c=function(){const[e,t]=Ct.useState(!1);return Ct.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),e}(),[d,u]=Ct.useState(!1),[h,p]=Ct.useState(e),m=t??h,f=Ct.useCallback(e=>{const t="function"==typeof e?e(m):e;i?i(t):p(t),document.cookie=`sidebar_state=${t}; path=/; max-age=604800`},[i,m]),g=Ct.useCallback(()=>c?u(e=>!e):f(e=>!e),[c,f,u]);Ct.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),g())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[g]);const x=m?"expanded":"collapsed",b=Ct.useMemo(()=>({state:x,open:m,setOpen:f,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:g}),[x,m,f,c,d,u,g]);return s.jsx($A.Provider,{value:b,children:s.jsx(VA,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...a},className:Yh("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:n})})})});KA.displayName="SidebarProvider";const ZA=Ct.forwardRef(({side:e="left",variant:t="sidebar",collapsible:i="offcanvas",className:r,children:a,...n},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=QA();return"none"===i?s.jsx("div",{className:Yh("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...n,children:a}):l?s.jsx(Vh,{open:d,onOpenChange:u,...n,children:s.jsxs(Qh,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:[s.jsxs(Kh,{className:"sr-only",children:[s.jsx(Zh,{children:"Sidebar"}),s.jsx(Jh,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":"collapsed"===c?i:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:Yh("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===t||"inset"===t?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:Yh("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===t||"inset"===t?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...n,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});ZA.displayName="Sidebar";const JA=Ct.forwardRef(({className:e,onClick:t,...i},r)=>{const{toggleSidebar:a}=QA();return s.jsxs(cw,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Yh("h-7 w-7",e),onClick:e=>{null==t||t(e),a()},...i,children:[s.jsx(Ie,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});JA.displayName="SidebarTrigger";Ct.forwardRef(({className:e,...t},i)=>{const{toggleSidebar:r}=QA();return s.jsx("button",{ref:i,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Yh("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}).displayName="SidebarRail";const eT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("main",{ref:i,className:Yh("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));eT.displayName="SidebarInset";Ct.forwardRef(({className:e,...t},i)=>s.jsx(Sj,{ref:i,"data-sidebar":"input",className:Yh("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t})).displayName="SidebarInput";const tT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,"data-sidebar":"header",className:Yh("flex flex-col gap-2 p-2",e),...t}));tT.displayName="SidebarHeader";const sT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,"data-sidebar":"footer",className:Yh("flex flex-col gap-2 p-2",e),...t}));sT.displayName="SidebarFooter";Ct.forwardRef(({className:e,...t},i)=>s.jsx(Tw,{ref:i,"data-sidebar":"separator",className:Yh("mx-2 w-auto bg-sidebar-border",e),...t})).displayName="SidebarSeparator";const iT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,"data-sidebar":"content",className:Yh("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));iT.displayName="SidebarContent";const rT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,"data-sidebar":"group",className:Yh("relative flex w-full min-w-0 flex-col p-2",e),...t}));rT.displayName="SidebarGroup";const aT=Ct.forwardRef(({className:e,asChild:t=!1,...i},r)=>{const a=t?K:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:Yh("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...i})});aT.displayName="SidebarGroupLabel";Ct.forwardRef(({className:e,asChild:t=!1,...i},r)=>{const a=t?K:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:Yh("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...i})}).displayName="SidebarGroupAction";const nT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,"data-sidebar":"group-content",className:Yh("w-full text-sm",e),...t}));nT.displayName="SidebarGroupContent";const oT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("ul",{ref:i,"data-sidebar":"menu",className:Yh("flex w-full min-w-0 flex-col gap-1",e),...t}));oT.displayName="SidebarMenu";const lT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("li",{ref:i,"data-sidebar":"menu-item",className:Yh("group/menu-item relative",e),...t}));lT.displayName="SidebarMenuItem";const cT=Ku("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),dT=Ct.forwardRef(({asChild:e=!1,isActive:t=!1,variant:i="default",size:r="default",tooltip:a,className:n,...o},l)=>{const c=e?K:"button",{isMobile:d,state:u}=QA(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:Yh(cT({variant:i,size:r}),n),...o});return a?("string"==typeof a&&(a={children:a}),s.jsxs(UA,{children:[s.jsx(qA,{asChild:!0,children:h}),s.jsx(GA,{side:"right",align:"center",hidden:"collapsed"!==u||d,...a})]})):h});dT.displayName="SidebarMenuButton";const uT=Ct.forwardRef(({className:e,asChild:t=!1,showOnHover:i=!1,...r},a)=>{const n=t?K:"button";return s.jsx(n,{ref:a,"data-sidebar":"menu-action",className:Yh("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",i&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});uT.displayName="SidebarMenuAction";Ct.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,"data-sidebar":"menu-badge",className:Yh("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t})).displayName="SidebarMenuBadge";Ct.forwardRef(({className:e,showIcon:t=!1,...i},r)=>{const a=Ct.useMemo(()=>`${Math.floor(40*Math.random())+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:Yh("flex h-8 items-center gap-2 rounded-md px-2",e),...i,children:[t&&s.jsx(YC,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(YC,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})}).displayName="SidebarMenuSkeleton";Ct.forwardRef(({className:e,...t},i)=>s.jsx("ul",{ref:i,"data-sidebar":"menu-sub",className:Yh("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t})).displayName="SidebarMenuSub";Ct.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e})).displayName="SidebarMenuSubItem";Ct.forwardRef(({asChild:e=!1,size:t="md",isActive:i,className:r,...a},n)=>{const o=e?K:"a";return s.jsx(o,{ref:n,"data-sidebar":"menu-sub-button","data-size":t,"data-active":i,className:Yh("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===t&&"text-xs","md"===t&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})}).displayName="SidebarMenuSubButton";var hT=Wt();function pT(){return()=>{}}var mT="Avatar",[fT,gT]=v(mT),[xT,bT]=fT(mT),vT=Ct.forwardRef((e,t)=>{const{__scopeAvatar:i,...r}=e,[a,n]=Ct.useState("idle");return s.jsx(xT,{scope:i,imageLoadingStatus:a,onImageLoadingStatusChange:n,children:s.jsx(m.span,{...r,ref:t})})});vT.displayName=mT;var yT="AvatarImage",wT=Ct.forwardRef((e,t)=>{const{__scopeAvatar:i,src:r,onLoadingStatusChange:a=()=>{},...n}=e,o=bT(yT,i),l=function(e,{referrerPolicy:t,crossOrigin:s}){const i=hT.useSyncExternalStore(pT,()=>!0,()=>!1),r=Ct.useRef(null),a=i?(r.current||(r.current=new window.Image),r.current):null,[n,o]=Ct.useState(()=>kT(a,e));return b(()=>{o(kT(a,e))},[a,e]),b(()=>{const e=e=>()=>{o(e)};if(!a)return;const i=e("loaded"),r=e("error");return a.addEventListener("load",i),a.addEventListener("error",r),t&&(a.referrerPolicy=t),"string"==typeof s&&(a.crossOrigin=s),()=>{a.removeEventListener("load",i),a.removeEventListener("error",r)}},[a,s,t]),n}(r,n),c=g(e=>{a(e),o.onImageLoadingStatusChange(e)});return b(()=>{"idle"!==l&&c(l)},[l,c]),"loaded"===l?s.jsx(m.img,{...n,ref:t,src:r}):null});wT.displayName=yT;var jT="AvatarFallback",NT=Ct.forwardRef((e,t)=>{const{__scopeAvatar:i,delayMs:r,...a}=e,n=bT(jT,i),[o,l]=Ct.useState(void 0===r);return Ct.useEffect(()=>{if(void 0!==r){const e=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==n.imageLoadingStatus?s.jsx(m.span,{...a,ref:t}):null});function kT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}NT.displayName=jT;var ST=vT,CT=wT,AT=NT;const TT=Ct.forwardRef(({className:e,...t},i)=>s.jsx(ST,{ref:i,className:Yh("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));TT.displayName=ST.displayName;const ET=Ct.forwardRef(({className:e,...t},i)=>s.jsx(CT,{ref:i,className:Yh("aspect-square h-full w-full",e),...t}));ET.displayName=CT.displayName;const RT=Ct.forwardRef(({className:e,...t},i)=>s.jsx(AT,{ref:i,className:Yh("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));function PT({currentPath:e}){const{data:t}=Vu(),{data:i,isLoading:r}=Hu(Eu),a=()=>(null==t?void 0:t.email)?t.email.substring(0,2).toUpperCase():"U",n=()=>{const{state:e}=QA(),t="collapsed"===e;return r||!i?t?s.jsx("div",{className:"px-2 py-3 flex justify-center",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-8 w-8 bg-muted rounded-full"})})}):s.jsx("div",{className:"px-2 py-3",children:s.jsxs("div",{className:"animate-pulse space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-2 bg-muted rounded w-full"})]})}):t?s.jsx("div",{className:"px-2 py-3 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx(Le,{className:"h-8 w-8 text-yellow-500"}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Math.round((null==i?void 0:i.completionPercentage)||0)})]})}):s.jsxs("div",{className:"px-2 py-3 bg-sidebar-accent/50 rounded-lg mx-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground",children:"Learning Progress"}),s.jsx(Le,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-sidebar-foreground/70",children:[s.jsxs("span",{children:[(null==i?void 0:i.completedTopics)||0," of ",(null==i?void 0:i.totalTopics)||0," topics"]}),s.jsxs("span",{children:[Math.round((null==i?void 0:i.completionPercentage)||0),"%"]})]}),s.jsx(Zw,{value:(null==i?void 0:i.completionPercentage)||0,className:"h-2"}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-sidebar-foreground/70",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{className:"h-3 w-3"}),s.jsxs("span",{children:[Math.round(((null==i?void 0:i.totalTimeSpent)||0)/60),"h"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Z,{className:"h-3 w-3"}),s.jsxs("span",{children:[(null==i?void 0:i.topicsInProgress)||0," active"]})]})]})]})]})},o=()=>{const{state:t}=QA();return"collapsed"===t?null:r||!(null==i?void 0:i.recentActivity)?s.jsxs(rT,{children:[s.jsx(aT,{children:"Recent Topics"}),s.jsx(nT,{children:s.jsx(oT,{children:[1,2,3].map(e=>s.jsx(lT,{children:s.jsxs("div",{className:"animate-pulse flex items-center gap-2 p-2",children:[s.jsx("div",{className:"h-4 w-4 bg-muted rounded"}),s.jsx("div",{className:"h-4 bg-muted rounded flex-1"})]})},e))})})]}):s.jsxs(rT,{children:[s.jsxs(aT,{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4"}),"Recent Topics"]}),s.jsx(nT,{children:s.jsx(oT,{children:((null==i?void 0:i.recentActivity)||[]).slice(0,8).map(t=>{const i=e===`/learn/${t.topic.slug}`,r=t.completed?100:t.timeSpent>0?Math.min(t.timeSpent/30,80):0;return s.jsxs(lT,{children:[s.jsx(dT,{asChild:!0,isActive:i,tooltip:`${t.topic.title} - ${Math.round(r)}% complete`,children:s.jsxs(Xi,{to:`/learn/${t.topic.slug}`,children:[s.jsx("div",{className:Yh("w-2 h-2 rounded-full mr-2",t.completed?"bg-green-500":r>0?"bg-yellow-500":"bg-muted-foreground")}),s.jsx("span",{className:"flex-1 truncate",children:t.topic.title}),s.jsxs(Dw,{variant:"secondary",className:"text-xs",children:[Math.round(r),"%"]})]})}),s.jsx(uT,{showOnHover:!0,children:s.jsxs(Zx,{children:[s.jsx(Jx,{asChild:!0,children:s.jsx(cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:s.jsx(ye,{className:"h-3 w-3"})})}),s.jsxs(eb,{align:"start",children:[s.jsx(tb,{asChild:!0,children:s.jsxs(Xi,{to:`/learn/${t.topic.slug}`,children:[s.jsx(Z,{className:"h-4 w-4 mr-2"}),"Open Topic"]})}),s.jsx(sb,{}),s.jsx(tb,{children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last accessed: ",t.lastAccessed?new Date(t.lastAccessed).toLocaleDateString():"Never"]})})]})]})})]},t.topic.id)})})})]})},l=()=>{var e;const{state:i}=QA(),r="collapsed"===i,[n,o]=db(),l=()=>{"function"==typeof o&&o("light"===n?"dark":"light")};return r?s.jsx("div",{className:"flex justify-center p-2",children:s.jsxs(Zx,{children:[s.jsx(Jx,{asChild:!0,children:s.jsx(cw,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsxs(TT,{className:"h-8 w-8",children:[s.jsx(ET,{src:void 0}),s.jsx(RT,{className:"text-xs",children:a()})]})})}),s.jsxs(eb,{align:"end",children:[s.jsx(tb,{asChild:!0,children:s.jsxs(Xi,{to:Yi.AccountRoute.to,children:[s.jsx(M,{className:"h-4 w-4 mr-2"}),"Account Settings"]})}),s.jsx(tb,{onClick:l,children:"dark"===n?s.jsxs(s.Fragment,{children:[s.jsx(_,{className:"h-4 w-4 mr-2"}),"Light Mode"]}):s.jsxs(s.Fragment,{children:[s.jsx(z,{className:"h-4 w-4 mr-2"}),"Dark Mode"]})}),s.jsx(sb,{}),s.jsxs(tb,{onClick:()=>window.location.href="/api/auth/logout",children:[s.jsx(D,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})}):s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsxs(TT,{className:"h-8 w-8",children:[s.jsx(ET,{src:void 0}),s.jsx(RT,{className:"text-xs",children:a()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:(null==(e=null==t?void 0:t.email)?void 0:e.split("@")[0])||"User"}),s.jsx("p",{className:"text-xs text-sidebar-foreground/70 truncate",children:null==t?void 0:t.email})]}),s.jsxs(Zx,{children:[s.jsx(Jx,{asChild:!0,children:s.jsx(cw,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(ye,{className:"h-4 w-4"})})}),s.jsxs(eb,{align:"end",children:[s.jsx(tb,{asChild:!0,children:s.jsxs(Xi,{to:Yi.AccountRoute.to,children:[s.jsx(M,{className:"h-4 w-4 mr-2"}),"Account Settings"]})}),s.jsx(tb,{onClick:l,children:"dark"===n?s.jsxs(s.Fragment,{children:[s.jsx(_,{className:"h-4 w-4 mr-2"}),"Light Mode"]}):s.jsxs(s.Fragment,{children:[s.jsx(z,{className:"h-4 w-4 mr-2"}),"Dark Mode"]})}),s.jsx(sb,{}),s.jsxs(tb,{onClick:()=>window.location.href="/api/auth/logout",children:[s.jsx(D,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})},{state:c}=QA(),d="collapsed"===c;return s.jsxs(s.Fragment,{children:[s.jsxs(tT,{className:"border-b border-sidebar-border",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[s.jsx("img",{src:"/favicon.png",width:25}),!d&&s.jsx("span",{className:"font-bold text-lg text-primary",children:"BrainLens"})]}),s.jsx("div",{className:"px-2 pb-2",children:s.jsx(cw,{asChild:!0,className:"w-full",size:"sm",children:s.jsxs(Xi,{to:"/learn",children:[s.jsx(Se,{className:"h-4 w-4 flex-shrink-0"}),!d&&s.jsx("span",{className:"ml-2",children:"New Topic"})]})})}),s.jsx(n,{})]}),s.jsx(iT,{className:"gap-0",children:s.jsx(o,{})}),s.jsx(sT,{className:"border-t border-sidebar-border",children:s.jsx(l,{})})]})}function IT({currentPath:e}){return s.jsx(ZA,{variant:"inset",collapsible:"icon",children:s.jsx(PT,{currentPath:e})})}RT.displayName=AT.displayName;const LT=Ct.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));LT.displayName="Breadcrumb";const MT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("ol",{ref:i,className:Yh("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));MT.displayName="BreadcrumbList";const OT=Ct.forwardRef(({className:e,...t},i)=>s.jsx("li",{ref:i,className:Yh("inline-flex items-center gap-1.5",e),...t}));OT.displayName="BreadcrumbItem";const DT=Ct.forwardRef(({asChild:e,className:t,...i},r)=>{const a=e?K:"a";return s.jsx(a,{ref:r,className:Yh("transition-colors hover:text-foreground",t),...i})});DT.displayName="BreadcrumbLink";Ct.forwardRef(({className:e,...t},i)=>s.jsx("span",{ref:i,role:"link","aria-disabled":"true","aria-current":"page",className:Yh("font-normal text-foreground",e),...t})).displayName="BreadcrumbPage";const _T=["Machine Learning Fundamentals","Quantum Computing Basics","Sustainable Energy Technologies","Modern Web Development","Blockchain and Cryptocurrencies","Artificial Intelligence Ethics","Data Science with Python","Cloud Computing Architecture","Cybersecurity Fundamentals","Digital Marketing Strategy"];var zT="Tabs",[FT,BT]=v(zT,[Yf]),HT=Yf(),[WT,XT]=FT(zT),YT=Ct.forwardRef((e,t)=>{const{__scopeTabs:i,value:r,onValueChange:a,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=j(l),[h,p]=N({prop:r,onChange:a,defaultProp:n??"",caller:zT});return s.jsx(WT,{scope:i,baseId:w(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:c,children:s.jsx(m.div,{dir:u,"data-orientation":o,...d,ref:t})})});YT.displayName=zT;var VT="TabsList",UT=Ct.forwardRef((e,t)=>{const{__scopeTabs:i,loop:r=!0,...a}=e,n=XT(VT,i),o=HT(i);return s.jsx(Jf,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:r,children:s.jsx(m.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:t})})});UT.displayName=VT;var qT="TabsTrigger",GT=Ct.forwardRef((e,t)=>{const{__scopeTabs:i,value:r,disabled:a=!1,...n}=e,o=XT(qT,i),l=HT(i),c=KT(o.baseId,r),d=ZT(o.baseId,r),u=r===o.value;return s.jsx(eg,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(m.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...n,ref:t,onMouseDown:f(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:f(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:f(e.onFocus,()=>{const e="manual"!==o.activationMode;u||a||!e||o.onValueChange(r)})})})});GT.displayName=qT;var $T="TabsContent",QT=Ct.forwardRef((e,t)=>{const{__scopeTabs:i,value:r,forceMount:a,children:n,...o}=e,l=XT($T,i),c=KT(l.baseId,r),d=ZT(l.baseId,r),u=r===l.value,h=Ct.useRef(u);return Ct.useEffect(()=>{const e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),s.jsx(S,{present:a||u,children:({present:i})=>s.jsx(m.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!i,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:i&&n})})});function KT(e,t){return`${e}-trigger-${t}`}function ZT(e,t){return`${e}-content-${t}`}QT.displayName=$T;var JT=UT,eE=GT,tE=QT;const sE=YT,iE=Ct.forwardRef(({className:e,...t},i)=>s.jsx(JT,{ref:i,className:Yh("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));iE.displayName=JT.displayName;const rE=Ct.forwardRef(({className:e,...t},i)=>s.jsx(eE,{ref:i,className:Yh("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));rE.displayName=eE.displayName;const aE=Ct.forwardRef(({className:e,...t},i)=>s.jsx(tE,{ref:i,className:Yh("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));aE.displayName=tE.displayName;const nE=new class{constructor(){t(this,"tabId"),t(this,"sessionId"),t(this,"isLeader",!1),t(this,"activeTabs",new Map),t(this,"eventHandlers",new Map),t(this,"broadcastChannel",null),t(this,"sharedState",new Map),t(this,"userId",null),t(this,"HEARTBEAT_INTERVAL",5e3),t(this,"TAB_TIMEOUT",15e3),t(this,"STORAGE_PREFIX","brainlens_tab_"),t(this,"heartbeatInterval",null),t(this,"cleanupInterval",null),this.tabId=this.generateTabId(),this.sessionId=this.getSessionId(),this.initialize()}initialize(){"BroadcastChannel"in window&&(this.broadcastChannel=new BroadcastChannel("brainlens-tabs"),this.broadcastChannel.addEventListener("message",this.handleBroadcastMessage.bind(this))),window.addEventListener("storage",this.handleStorageMessage.bind(this)),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("focus",()=>this.updateTabState({isActive:!0})),window.addEventListener("blur",()=>this.updateTabState({isActive:!1})),window.addEventListener("beforeunload",this.cleanup.bind(this)),this.registerTab(),this.startHeartbeat(),this.startCleanupTask(),this.electLeader()}on(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,[]),this.eventHandlers.get(e).push(t),()=>{const s=this.eventHandlers.get(e);if(s){const e=s.indexOf(t);e>-1&&s.splice(e,1)}}}async sendMessage(e,t,s="broadcast",i=!1){const r={id:this.generateMessageId(),type:e,source:this.tabId,target:s,data:t,timestamp:new Date,requiresResponse:i};return this.broadcastChannel&&this.broadcastChannel.postMessage(r),this.sendViaStorage(r),i?this.waitForResponse(r.id):null}async broadcastStateUpdate(e,t,s,i){this.sharedState.set(e,t);const r={id:this.generateMessageId(),source:this.tabId,data:{key:e,value:t,userId:s,topicId:i}};await this.sendMessage("state_update",r.data)}getSharedState(e){return this.sharedState.get(e)}setUserId(e){this.userId=e,this.updateTabState({userId:e})}setCurrentTopic(e){this.updateTabState({currentTopic:e}),this.broadcastStateUpdate("currentTopic",e,this.userId||void 0)}setCurrentTab(e){this.updateTabState({currentTab:e}),this.broadcastStateUpdate("currentTab",e,this.userId||void 0)}getActiveTabsCount(){return Array.from(this.activeTabs.values()).filter(e=>e.isActive).length}getActiveTabs(){return Array.from(this.activeTabs.values()).filter(e=>e.isActive)}isTabLeader(){return this.isLeader}async syncData(e,t){const s={id:this.generateMessageId(),source:this.tabId,data:{keys:e,userId:t}};await this.sendMessage("sync_request",s.data,"broadcast",!0)}async executeGlobalAction(e,t,s){const i={id:this.generateMessageId(),source:this.tabId,data:{action:e,payload:t,userId:s}};await this.sendMessage("action",i.data)}generateTabId(){return`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}generateMessageId(){return`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getSessionId(){let e=sessionStorage.getItem("brainlens_session_id");return e||(e=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("brainlens_session_id",e)),e}registerTab(){const e={tabId:this.tabId,isActive:!document.hidden,lastActivity:new Date,currentTopic:null,currentTab:null,userId:this.userId,sessionId:this.sessionId};this.activeTabs.set(this.tabId,e),this.saveTabState(e),this.loadExistingTabs()}updateTabState(e){const t=this.activeTabs.get(this.tabId);if(!t)return;const s={...t,...e,lastActivity:new Date};this.activeTabs.set(this.tabId,s),this.saveTabState(s)}saveTabState(e){localStorage.setItem(`${this.STORAGE_PREFIX}${this.tabId}`,JSON.stringify({...e,lastActivity:e.lastActivity.toISOString()}))}loadExistingTabs(){for(let t=0;t<localStorage.length;t++){const s=localStorage.key(t);if(null==s?void 0:s.startsWith(this.STORAGE_PREFIX))try{const e=JSON.parse(localStorage.getItem(s)),t={...e,lastActivity:new Date(e.lastActivity)};Date.now()-t.lastActivity.getTime()<this.TAB_TIMEOUT?this.activeTabs.set(t.tabId,t):localStorage.removeItem(s)}catch(e){localStorage.removeItem(s)}}}handleBroadcastMessage(e){const t=e.data;t.source!==this.tabId&&(t.target&&"broadcast"!==t.target&&t.target!==this.tabId||this.processMessage(t))}handleStorageMessage(e){if(e.key){if(e.key.startsWith(this.STORAGE_PREFIX)){const s=e.key.replace(this.STORAGE_PREFIX,"");if(e.newValue)try{const t=JSON.parse(e.newValue),i={...t,lastActivity:new Date(t.lastActivity)};this.activeTabs.set(s,i)}catch(t){}else this.activeTabs.delete(s);return void this.electLeader()}if("brainlens_cross_tab_message"===e.key&&e.newValue)try{const t=JSON.parse(e.newValue);if(t.source===this.tabId)return;this.processMessage(t)}catch(t){}}}sendViaStorage(e){localStorage.setItem("brainlens_cross_tab_message",JSON.stringify(e)),setTimeout(()=>{localStorage.getItem("brainlens_cross_tab_message")===JSON.stringify(e)&&localStorage.removeItem("brainlens_cross_tab_message")},100)}async processMessage(e){if(this.activeTabs.has(e.source)){const t=this.activeTabs.get(e.source);t.lastActivity=new Date,this.activeTabs.set(e.source,t)}switch(e.type){case"state_update":this.handleStateUpdate(e);break;case"action":this.handleAction(e);break;case"sync_request":this.handleSyncRequest(e)}const t=this.eventHandlers.get(e.type)||[];await Promise.all(t.map(t=>t(e)))}handleStateUpdate(e){const{key:t,value:s,userId:i,topicId:r}=e.data;i&&i!==this.userId||this.sharedState.set(t,s)}handleAction(e){const{action:t,payload:s,userId:i}=e.data;i&&i!==this.userId||this.emitEvent("global_action",{action:t,payload:s})}handleSyncRequest(e){const{keys:t,userId:s}=e.data;if(this.isLeader&&(!s||s===this.userId)){const s={};t.forEach(e=>{this.sharedState.has(e)&&(s[e]=this.sharedState.get(e))}),this.sendMessage("sync_response",s,e.source)}}async waitForResponse(e,t=5e3){return new Promise(s=>{const i=this.on("sync_response",t=>{var r;"sync_response"===t.type&&(null==(r=t.data)?void 0:r.originalMessageId)===e&&(i(),s(t))});setTimeout(()=>{i(),s(null)},t)})}electLeader(){const e=Array.from(this.activeTabs.values()).filter(e=>Date.now()-e.lastActivity.getTime()<this.TAB_TIMEOUT).sort((e,t)=>e.lastActivity.getTime()-t.lastActivity.getTime()),t=this.isLeader;this.isLeader=e.length>0&&e[0].tabId===this.tabId,this.isLeader&&!t?this.emitEvent("leader_elected",{tabId:this.tabId}):!this.isLeader&&t&&this.emitEvent("leader_lost",{tabId:this.tabId})}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.updateTabState({isActive:!document.hidden})},this.HEARTBEAT_INTERVAL)}startCleanupTask(){this.cleanupInterval=setInterval(()=>{this.cleanupInactiveTabs(),this.electLeader()},this.TAB_TIMEOUT)}cleanupInactiveTabs(){const e=Date.now(),t=[];this.activeTabs.forEach((s,i)=>{e-s.lastActivity.getTime()>this.TAB_TIMEOUT&&t.push(i)}),t.forEach(e=>{this.activeTabs.delete(e),localStorage.removeItem(`${this.STORAGE_PREFIX}${e}`)}),t.length}handleVisibilityChange(){this.updateTabState({isActive:!document.hidden})}emitEvent(e,t){(this.eventHandlers.get(e)||[]).forEach(s=>{try{s({id:this.generateMessageId(),type:e,source:this.tabId,data:t,timestamp:new Date})}catch(i){}})}cleanup(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.cleanupInterval&&clearInterval(this.cleanupInterval),localStorage.removeItem(`${this.STORAGE_PREFIX}${this.tabId}`),this.broadcastChannel&&this.broadcastChannel.close()}};const oE=new class{constructor(){t(this,"state",new Map),t(this,"subscriptions",new Map),t(this,"subscriptionCounter",0),t(this,"SYNC_KEYS",["currentTopic","currentTab","selectedTopicId","sidebarCollapsed","userPreferences","bookmarks","progress","recentTopics","chatThreads","searchHistory"]),this.initialize()}initialize(){nE.on("state_update",this.handleCrossTabUpdate.bind(this)),nE.on("sync_request",this.handleSyncRequest.bind(this)),nE.on("global_action",this.handleGlobalAction.bind(this)),nE.on("leader_elected",this.handleLeaderElected.bind(this))}setState(e,t,s){var i,r;const a=null==(i=this.state.get(e))?void 0:i.value,{userId:n,topicId:o,broadcast:l=!0,local:c=!1}=s||{},d={lastUpdated:new Date,updatedBy:nE.tabId,version:((null==(r=this.state.get(e))?void 0:r.metadata.version)||0)+1,userId:n,topicId:o};this.state.set(e,{value:t,metadata:d}),this.notifySubscribers(e,t,a),!c&&l&&this.SYNC_KEYS.includes(e)&&nE.broadcastStateUpdate(e,t,n,o)}getState(e){var t;return null==(t=this.state.get(e))?void 0:t.value}getStateWithMetadata(e){const t=this.state.get(e);return t?{value:t.value,metadata:t.metadata}:void 0}subscribe(e,t){const s="sub_"+ ++this.subscriptionCounter,i={id:s,key:e,callback:t};return this.subscriptions.has(e)||this.subscriptions.set(e,[]),this.subscriptions.get(e).push(i),()=>{const t=this.subscriptions.get(e);if(t){const e=t.findIndex(e=>e.id===s);e>-1&&t.splice(e,1)}}}subscribeToKeys(e,t){const s=e.map(e=>this.subscribe(e,(s,i)=>{t({[e]:s})}));return()=>{s.forEach(e=>e())}}batchUpdate(e,t){const{userId:s,topicId:i,broadcast:r=!0}=t||{};Object.entries(e).forEach(([e,t])=>{this.setState(e,t,{userId:s,topicId:i,broadcast:!1})}),r&&Object.entries(e).forEach(([e,t])=>{this.SYNC_KEYS.includes(e)&&nE.broadcastStateUpdate(e,t,s,i)})}clearState(e){var t;const s=null==(t=this.state.get(e))?void 0:t.value;this.state.delete(e),this.notifySubscribers(e,void 0,s),this.SYNC_KEYS.includes(e)&&nE.broadcastStateUpdate(e,void 0)}clearAllState(e){Array.from(this.state.keys()).filter(t=>{var s;return!e||(null==(s=this.state.get(t))?void 0:s.metadata.userId)===e}).forEach(e=>{var t;const s=null==(t=this.state.get(e))?void 0:t.value;this.state.delete(e),this.notifySubscribers(e,void 0,s)}),nE.executeGlobalAction("clear_state",{userId:e})}async syncFromOtherTabs(e){const t=e||this.SYNC_KEYS;await nE.syncData(t)}getAllState(){const e={};return this.state.forEach((t,s)=>{e[s]=t.value}),e}getUserState(e){const t={};return this.state.forEach((s,i)=>{s.metadata.userId&&s.metadata.userId!==e||(t[i]=s.value)}),t}getTopicState(e){const t={};return this.state.forEach((s,i)=>{s.metadata.topicId===e&&(t[i]=s.value)}),t}hasState(e){return this.state.has(e)}getStateSize(){return this.state.size}getMemoryUsage(){let e=0;return this.state.forEach(t=>{try{e+=2*JSON.stringify(t).length}catch(s){}}),e}createReactiveState(e,t){return{get:()=>this.getState(e)??t,set:(t,s)=>this.setState(e,t,s),subscribe:t=>this.subscribe(e,t),clear:()=>this.clearState(e)}}handleCrossTabUpdate(e){var t,s;const{data:i}=e,{key:r,value:a,userId:n,topicId:o}=i;if(n&&n!==this.getCurrentUserId())return;const l=null==(t=this.state.get(r))?void 0:t.value,c={lastUpdated:new Date,updatedBy:e.source,version:((null==(s=this.state.get(r))?void 0:s.metadata.version)||0)+1,userId:n,topicId:o};this.state.set(r,{value:a,metadata:c}),this.notifySubscribers(r,a,l)}handleSyncRequest(e){const{data:t}=e,{keys:s,userId:i}=t;if(!nE.isTabLeader())return;const r={};s.forEach(e=>{const t=this.state.get(e);!t||i&&t.metadata.userId&&t.metadata.userId!==i||(r[e]={value:t.value,metadata:t.metadata})}),nE.sendMessage("sync_response",{originalMessageId:e.id,syncData:r},e.source)}handleGlobalAction(e){const{data:t}=e,{action:s,payload:i}=t;switch(s){case"clear_state":i.userId&&this.clearAllState(i.userId);break;case"refresh_state":this.syncFromOtherTabs();break;case"reset_state":this.state.clear(),this.subscriptions.forEach((e,t)=>{e.forEach(e=>{try{e.callback(void 0,void 0)}catch(t){}})})}}handleLeaderElected(){}notifySubscribers(e,t,s){const i=this.subscriptions.get(e);i&&i.forEach(e=>{try{e.callback(t,s)}catch(i){}})}getCurrentUserId(){return null}toggle(e,t){const s=!(this.getState(e)??!1);return this.setState(e,s,t),s}increment(e,t=1,s){const i=(this.getState(e)??0)+t;return this.setState(e,i,s),i}addToArray(e,t,s){const{unique:i=!1,maxLength:r,...a}=s||{};let n=[...this.getState(e)??[]];return i&&n.some(e=>JSON.stringify(e)===JSON.stringify(t))||(n.push(t),r&&n.length>r&&(n=n.slice(-r)),this.setState(e,n,a)),n}removeFromArray(e,t,s){const i=(this.getState(e)??[]).filter(e=>!t(e));return this.setState(e,i,s),i}updateObject(e,t,s){const i={...this.getState(e)??{},...t};return this.setState(e,i,s),i}};function lE(e,t,s){const{userId:i,topicId:r,syncOnMount:a=!0}=s||{},[n,o]=Ct.useState(()=>oE.getState(e)??t),l=Ct.useRef(null);Ct.useEffect(()=>(l.current=oE.subscribe(e,e=>{o(e)}),a&&oE.syncFromOtherTabs([e]),()=>{l.current&&l.current()}),[e,a]);const c=Ct.useCallback(t=>{oE.setState(e,t,{userId:i,topicId:r})},[e,i,r]),d=Ct.useCallback(()=>{oE.clearState(e)},[e]),u=Ct.useCallback(()=>oE.toggle(e,{userId:i,topicId:r}),[e,i,r]);return[n,c,{clear:d,..."boolean"==typeof n?{toggle:u}:{}}]}const cE=Ct.createContext(void 0);function dE(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"REFRESH":return{...e,error:null};default:return e}}function uE({children:e}){var t;const{slug:i}=Ot(),[r,a]=Ct.useReducer(dE,{topic:null,progressSummary:null,userProgress:null,isLoading:!0,error:null}),n=function(e={}){const{defaultTab:t="learn",enableUrlSync:s=!0}=e,[i,r]=Ct.useState(t),[a,n]=Ct.useState(new Set([t]));return Ct.useEffect(()=>{if(!s)return;const e=(()=>{const e=window.location.hash.replace("#","");return["learn","explore","ask","mindmap","quiz","sources"].includes(e)?e:t})();r(e),n(t=>new Set([...Array.from(t),e]))},[t,s]),Ct.useEffect(()=>{if(!s)return;const e=()=>{const e=window.location.hash.replace("#","");if(["learn","explore","ask","mindmap","quiz","sources"].includes(e)){const t=e;r(t),n(e=>new Set([...Array.from(e),t]))}};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[s]),{activeTab:i,setActiveTab:Ct.useCallback(e=>{if(r(e),n(t=>new Set([...Array.from(t),e])),s){const t=`${window.location.pathname}${window.location.search}#${e}`;window.history.replaceState(null,"",t)}},[s]),isTabLoaded:Ct.useCallback(e=>a.has(e),[a]),loadTab:Ct.useCallback(e=>{n(t=>new Set([...Array.from(t),e]))},[]),loadedTabs:a}}({defaultTab:"explore",enableUrlSync:!0}),[o,l]=lE("selectedTopicId",null),[c,d]=lE("sidebarCollapsed",!1),[u,{update:h}]=function(e,t={}){const{userId:s,topicId:i,syncOnMount:r=!0}={},[a,n]=lE(e,t,{userId:s,topicId:i,syncOnMount:r});return[a||t,{update:Ct.useCallback(t=>{oE.updateObject(e,t,{userId:s,topicId:i})},[e,s,i]),set:Ct.useCallback(t=>{oE.setState(e,t,{userId:s,topicId:i})},[e,s,i]),clear:Ct.useCallback(()=>{oE.clearState(e)},[e])}]}("userPreferences",{theme:"light",fontSize:"medium",autoSave:!0,notifications:!0}),[,p]=lE("currentTopic"),[,m]=lE("currentTab"),{data:f,isLoading:g,error:x,refetch:b}=Hu(Au,{slug:i||""},{enabled:!!i,refetchOnMount:!0,refetchOnWindowFocus:!1,cacheTime:0,staleTime:0}),{data:v,isLoading:y,error:w,refetch:j}=Hu(Ru,{topicId:(null==f?void 0:f.id)||""},{enabled:!!(null==f?void 0:f.id)}),{data:N,isLoading:k,error:S,refetch:C}=Hu(Iu,{topicId:(null==f?void 0:f.id)||""},{enabled:!!(null==f?void 0:f.id),refetchInterval:5e3});Ct.useEffect(()=>{a({type:"REFRESH"}),a({type:"SET_LOADING",payload:!0}),l(null)},[i,l]),Ct.useEffect(()=>{a({type:"SET_LOADING",payload:g||y})},[g,y]),Ct.useEffect(()=>{const e=x||w||S;a({type:"SET_ERROR",payload:e?e.message:null})},[x,w,S]);const A=()=>{a({type:"REFRESH"}),b(),j(),C()};Ct.useEffect(()=>{(null==f?void 0:f.slug)&&p(f.slug)},[null==f?void 0:f.slug,p]),Ct.useEffect(()=>{m(n.activeTab)},[n.activeTab,m]),Ct.useEffect(()=>{(null==f?void 0:f.id)&&o!==f.id&&(l(f.id),"explore"!==n.activeTab&&n.setActiveTab("explore"))},[null==f?void 0:f.id,o,l,n]),Ct.useEffect(()=>{if(i&&(null==f?void 0:f.slug)===i&&"explore"!==n.activeTab){n.loadedTabs.size>1||n.setActiveTab("explore")}},[i,null==f?void 0:f.slug,n]);const T=N,E=(null==T?void 0:T.isActive)||(null==(t=null==T?void 0:T.realTimeProgress)?void 0:t.isActive)||!1,R=Ct.useMemo(()=>({topic:f||null,progressSummary:v||null,userProgress:(null==f?void 0:f.userProgress)||null,isLoading:r.isLoading||!1,error:r.error||null,researchStatus:N,enhancedResearchStats:T,isResearchLoading:k||!1,isResearching:E,activeTab:n.activeTab,setActiveTab:n.setActiveTab,isTabLoaded:n.isTabLoaded,loadTab:n.loadTab,loadedTabs:n.loadedTabs,selectedTopicId:o??null,setSelectedTopicId:l,sidebarCollapsed:c??!1,setSidebarCollapsed:d,userPreferences:u,updateUserPreferences:h,refreshTopic:A}),[f,v,r.isLoading,r.error,N,T,k,E,o,l,c,d,u,h,n.activeTab,n.setActiveTab,n.isTabLoaded,n.loadTab,n.loadedTabs,A]);return s.jsx(cE.Provider,{value:R,children:e})}function hE(){const e=Ct.useContext(cE);if(void 0===e)throw new Error("useTopicContext must be used within a TopicProvider");return e}const pE={timeSpentInSession:0,lastActiveTab:"learn",bookmarkedSections:[],sidebarCollapsed:!1,preferredLayout:"comfortable",searchHistory:[],recentlyViewed:[]};const mE=[{id:"explore",label:"Explore",color:"bg-primary",icon:s.jsx(Oe,{className:"w-4 h-4"}),description:"AI-powered deep topic exploration"},{id:"learn",label:"Learn",color:"bg-success",icon:s.jsx(De,{className:"w-4 h-4"}),description:"Guided learning experience"},{id:"ask",label:"Ask",color:"bg-blue-500",icon:s.jsx(J,{className:"w-4 h-4"}),description:"Chat with AI assistant"},{id:"mindmap",label:"MindMap",color:"bg-amber-500",icon:s.jsx(ee,{className:"w-4 h-4"}),description:"Visual knowledge map"},{id:"quiz",label:"Quiz",color:"bg-destructive",icon:s.jsx(_e,{className:"w-4 h-4"}),description:"Test your knowledge"},{id:"sources",label:"Sources",color:"bg-blue-600",icon:s.jsx(Z,{className:"w-4 h-4"}),description:"View all research sources"}];function fE({className:e}){const{activeTab:t,isTabLoaded:i,loadedTabs:r}=hE();return function(){const{topic:e,activeTab:t}=hE(),[s,i]=Ct.useState(pE),[r]=Ct.useState(Date.now()),a=e?`topic-state-${e.slug}`:null;Ct.useEffect(()=>{if(a)try{const e=localStorage.getItem(a);if(e){const t=JSON.parse(e);i(e=>({...e,...t}))}}catch(e){}},[a]),Ct.useEffect(()=>{if(a)try{localStorage.setItem(a,JSON.stringify(s))}catch(e){}},[a,s]),Ct.useEffect(()=>{const e=setInterval(()=>{i(e=>({...e,timeSpentInSession:Math.floor((Date.now()-r)/1e3),lastActiveTab:t}))},1e3);return()=>clearInterval(e)},[t,r]);const n=Ct.useCallback(e=>{i(t=>({...t,...e}))},[]),o=Ct.useCallback(e=>{i(t=>({...t,bookmarkedSections:[...new Set([...t.bookmarkedSections,e])]}))},[]),l=Ct.useCallback(e=>{i(t=>({...t,bookmarkedSections:t.bookmarkedSections.filter(t=>t!==e)}))},[]),c=Ct.useCallback(e=>{i(t=>{const s=t.bookmarkedSections.includes(e);return{...t,bookmarkedSections:s?t.bookmarkedSections.filter(t=>t!==e):[...t.bookmarkedSections,e]}})},[]),d=Ct.useCallback(e=>{i(t=>({...t,...e}))},[]),u=Ct.useCallback(e=>{i(t=>({...t,searchHistory:[e,...t.searchHistory.filter(t=>t!==e)].slice(0,10)}))},[]),h=Ct.useCallback(e=>{i(t=>({...t,recentlyViewed:[e,...t.recentlyViewed.filter(t=>t!==e)].slice(0,20)}))},[]),p=Ct.useCallback(()=>{i(e=>({...e,searchHistory:[],recentlyViewed:[]}))},[]),m=Ct.useCallback(()=>{i(pE),a&&localStorage.removeItem(a)},[a]);s.timeSpentInSession,s.bookmarkedSections.length,s.searchHistory.length}(),s.jsx(iE,{className:`grid w-full grid-cols-5 lg:w-auto lg:inline-flex ${e}`,children:mE.filter(e=>"learn"!==e.id).map(e=>{const a=t===e.id;i(e.id);const n=r.has(e.id);return s.jsxs(rE,{value:e.id,className:"flex items-center space-x-2 relative group",title:e.description,children:[s.jsx("div",{className:"transition-all duration-200 "+(a?"text-foreground":n?"text-foreground opacity-80":"text-muted-foreground"),children:e.icon}),s.jsx("span",{className:"transition-all duration-200 "+(a?"font-medium":n?"font-normal":"opacity-75"),children:e.label}),s.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:[e.description,s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-popover"})]})]},e.id)})})}var gE="Radio",[xE,bE]=v(gE),[vE,yE]=xE(gE),wE=Ct.forwardRef((e,t)=>{const{__scopeRadio:i,name:r,checked:a=!1,required:n,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[p,g]=Ct.useState(null),x=h(t,e=>g(e)),b=Ct.useRef(!1),v=!p||(d||!!p.closest("form"));return s.jsxs(vE,{scope:i,checked:a,disabled:o,children:[s.jsx(m.button,{type:"button",role:"radio","aria-checked":a,"data-state":SE(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:x,onClick:f(e.onClick,e=>{a||null==c||c(),v&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),v&&s.jsx(kE,{control:p,bubbles:!b.current,name:r,value:l,checked:a,required:n,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});wE.displayName=gE;var jE="RadioIndicator",NE=Ct.forwardRef((e,t)=>{const{__scopeRadio:i,forceMount:r,...a}=e,n=yE(jE,i);return s.jsx(S,{present:r||n.checked,children:s.jsx(m.span,{"data-state":SE(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})})});NE.displayName=jE;var kE=Ct.forwardRef(({__scopeRadio:e,control:t,checked:i,bubbles:r=!0,...a},n)=>{const o=Ct.useRef(null),l=h(o,n),c=oj(i),d=mf(t);return Ct.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==i&&s){const t=new Event("click",{bubbles:r});s.call(e,i),e.dispatchEvent(t)}},[c,i,r]),s.jsx(m.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function SE(e){return e?"checked":"unchecked"}kE.displayName="RadioBubbleInput";var CE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],AE="RadioGroup",[TE,EE]=v(AE,[Yf,bE]),RE=Yf(),PE=bE(),[IE,LE]=TE(AE),ME=Ct.forwardRef((e,t)=>{const{__scopeRadioGroup:i,name:r,defaultValue:a,value:n,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...p}=e,f=RE(i),g=j(d),[x,b]=N({prop:n,defaultProp:a??null,onChange:h,caller:AE});return s.jsx(IE,{scope:i,name:r,required:o,disabled:l,value:x,onValueChange:b,children:s.jsx(Jf,{asChild:!0,...f,orientation:c,dir:g,loop:u,children:s.jsx(m.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:t})})})});ME.displayName=AE;var OE="RadioGroupItem",DE=Ct.forwardRef((e,t)=>{const{__scopeRadioGroup:i,disabled:r,...a}=e,n=LE(OE,i),o=n.disabled||r,l=RE(i),c=PE(i),d=Ct.useRef(null),u=h(t,d),p=n.value===a.value,m=Ct.useRef(!1);return Ct.useEffect(()=>{const e=e=>{CE.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),s.jsx(eg,{asChild:!0,...l,focusable:!o,active:p,children:s.jsx(wE,{disabled:o,required:n.required,checked:p,...c,...a,name:n.name,ref:u,onCheck:()=>n.onValueChange(a.value),onKeyDown:f(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:f(a.onFocus,()=>{var e;m.current&&(null==(e=d.current)||e.click())})})})});DE.displayName=OE;var _E=Ct.forwardRef((e,t)=>{const{__scopeRadioGroup:i,...r}=e,a=PE(i);return s.jsx(NE,{...a,...r,ref:t})});_E.displayName="RadioGroupIndicator";var zE=ME,FE=DE,BE=_E;const HE=Ct.forwardRef(({className:e,...t},i)=>s.jsx(zE,{className:Yh("grid gap-2",e),...t,ref:i}));HE.displayName=zE.displayName;const WE=Ct.forwardRef(({className:e,...t},i)=>s.jsx(FE,{ref:i,className:Yh("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(BE,{className:"flex items-center justify-center",children:s.jsx(I,{className:"h-2.5 w-2.5 fill-current text-current"})})}));function XE({title:e,content:t,position:i="top",trigger:r,className:a=""}){const[n,l]=Ct.useState(!1),c=s.jsx(cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",onClick:()=>l(!n),children:s.jsx(_e,{className:"h-4 w-4"})});return s.jsxs("div",{className:`relative inline-block ${a}`,children:[s.jsx("div",{onClick:()=>l(!n),children:r||c}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 md:hidden",onClick:()=>l(!1)}),s.jsx(Vy,{className:`absolute z-50 w-80 max-w-sm shadow-lg ${{top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"}[i]}`,children:s.jsxs($y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:e}),s.jsx(cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 -mt-1 -mr-1",onClick:()=>l(!1),children:s.jsx(o,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t})]})})]})]})}WE.displayName=FE.displayName;const YE={knowledgeAssessment:{title:"Knowledge Assessment",content:"This quick assessment helps us understand your current knowledge level and learning preferences to create a personalized learning experience tailored just for you."},learningPaths:{title:"Learning Paths",content:"Based on your assessment, we recommend different learning approaches. Choose the one that matches your preferred learning style and available time."},streamingContent:{title:"Streaming Content",content:"Content is generated in real-time by our AI. You'll see it appear progressively as our system researches and structures the information for optimal learning."},conceptExpansion:{title:"Concept Expansion",content:"Click on highlighted concepts to get detailed explanations, examples, and related information without losing your place in the main content."},topicTree:{title:"Topic Tree",content:"Navigate through the hierarchical structure of your topic. Green indicators show completed sections, while gray indicates unexplored areas."},vectorSearch:{title:"AI-Powered Search",content:"Our AI understands the context of your questions and searches through all researched content to provide relevant, accurate answers."},mindMapNavigation:{title:"Mind Map Navigation",content:"Use mouse wheel to zoom, click and drag to pan. Different colors represent completion status, and node sizes indicate content depth."},adaptiveQuiz:{title:"Adaptive Quizzing",content:"Questions are generated based on what you've studied and adapt in difficulty based on your performance. This ensures optimal challenge level."},progressTracking:{title:"Progress Tracking",content:"Your learning progress is automatically tracked, including time spent, completion status, and areas of strength or improvement."},bookmarking:{title:"Bookmarking",content:"Save interesting sections or important concepts for quick access later. All bookmarks are synced across your devices."}};function VE({type:e,position:t="top",className:i}){const r=YE[e];return s.jsx(XE,{title:r.title,content:r.content,position:t,className:i})}const UE=[{id:"beginner",label:"Complete Beginner",description:"I have no prior knowledge of this topic",value:1},{id:"novice",label:"Novice",description:"I have heard of this topic but know very little",value:2},{id:"intermediate",label:"Some Knowledge",description:"I have basic understanding and some experience",value:3},{id:"advanced",label:"Good Understanding",description:"I have solid knowledge and practical experience",value:4},{id:"expert",label:"Expert Level",description:"I have deep expertise and extensive experience",value:5}],qE=[{id:"visual",label:"Visual Learner",description:"I learn best with diagrams, charts, and images",icon:"👁️"},{id:"textual",label:"Text-based",description:"I prefer detailed written explanations and articles",icon:"📝"},{id:"interactive",label:"Interactive",description:"I learn through hands-on examples and practice",icon:"🎯"},{id:"video",label:"Video Content",description:"I prefer educational videos and tutorials",icon:"🎥"},{id:"conversational",label:"Conversational",description:"I learn best through Q&A and discussions",icon:"💬"}];function GE({onComplete:e,isLoading:t=!1}){const{topic:i}=hE(),[r,a]=Ct.useState(1),[n,o]=Ct.useState(""),[l,c]=Ct.useState([]),[d,u]=Ct.useState(""),[h,p]=Ct.useState(""),[m,f]=Ct.useState(""),g=r/4*100,x=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},b=()=>{switch(r){case 1:return""!==n;case 2:return l.length>0;case 3:return""!==d&&""!==h;case 4:return""!==m;default:return!1}};return i?s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-3"}),"Knowledge Assessment",s.jsx(VE,{type:"knowledgeAssessment",className:"ml-2"})]}),s.jsxs(Gy,{children:["Help us personalize your learning experience for ",s.jsx("strong",{children:i.title})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-2",children:[s.jsxs("span",{children:["Step ",r," of ",4]}),s.jsxs("span",{children:[Math.round(g),"% complete"]})]}),s.jsx(Zw,{value:g,className:"h-2"})]})]}),s.jsxs($y,{className:"space-y-6",children:[1===r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"What's your current knowledge level?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This helps us determine the right starting point and difficulty level for your learning journey."})]}),s.jsx(HE,{value:n,onValueChange:o,children:UE.map(e=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[s.jsx(WE,{value:e.id,id:e.id,className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(cb,{htmlFor:e.id,className:"font-medium cursor-pointer",children:e.label}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]},e.id))})]}),2===r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"How do you prefer to learn?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select all learning styles that work best for you. We'll prioritize content in these formats."})]}),s.jsx("div",{className:"grid gap-3",children:qE.map(e=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg cursor-pointer transition-colors "+(l.includes(e.id)?"border-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>x(e.id),children:[s.jsx(kj,{checked:l.includes(e.id),onChange:()=>x(e.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-lg",children:e.icon}),s.jsx(cb,{className:"font-medium cursor-pointer",children:e.label})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]},e.id))})]}),3===r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Content Preferences"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tell us about your preferred learning approach and content depth."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(cb,{className:"text-base font-medium",children:"Difficulty Preference"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"How challenging should the content be?"}),s.jsxs(HE,{value:d,onValueChange:u,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"gentle",id:"gentle"}),s.jsx(cb,{htmlFor:"gentle",children:"Gentle introduction - Start with basics and build up slowly"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"moderate",id:"moderate"}),s.jsx(cb,{htmlFor:"moderate",children:"Moderate pace - Balance between basics and advanced concepts"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"challenging",id:"challenging"}),s.jsx(cb,{htmlFor:"challenging",children:"Challenging - Jump into complex topics quickly"})]})]})]}),s.jsxs("div",{children:[s.jsx(cb,{className:"text-base font-medium",children:"Content Depth"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"How detailed should the explanations be?"}),s.jsxs(HE,{value:h,onValueChange:p,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"overview",id:"overview"}),s.jsx(cb,{htmlFor:"overview",children:"High-level overview - Key concepts and main ideas"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"detailed",id:"detailed"}),s.jsx(cb,{htmlFor:"detailed",children:"Detailed explanations - Thorough coverage with examples"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"comprehensive",id:"comprehensive"}),s.jsx(cb,{htmlFor:"comprehensive",children:"Comprehensive - In-depth analysis with technical details"})]})]})]})]})]}),4===r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Learning Pace"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"How quickly do you prefer to move through the material?"})]}),s.jsxs(HE,{value:m,onValueChange:f,children:[s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(WE,{value:"slow",id:"slow",className:"mt-1"}),s.jsxs("div",{children:[s.jsx(cb,{htmlFor:"slow",className:"font-medium cursor-pointer",children:"Take it slow"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"I prefer to spend more time on each concept and really understand it before moving on"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(WE,{value:"moderate",id:"moderate-pace",className:"mt-1"}),s.jsxs("div",{children:[s.jsx(cb,{htmlFor:"moderate-pace",className:"font-medium cursor-pointer",children:"Moderate pace"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"I like a balanced approach - not too fast, not too slow"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(WE,{value:"fast",id:"fast",className:"mt-1"}),s.jsxs("div",{children:[s.jsx(cb,{htmlFor:"fast",className:"font-medium cursor-pointer",children:"Fast-paced"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"I can absorb information quickly and prefer to cover more ground"})]})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsx(cw,{variant:"outline",onClick:()=>{r>1&&a(e=>e-1)},disabled:1===r||t,children:"Back"}),r<4?s.jsx(cw,{onClick:()=>{r<4&&a(e=>e+1)},disabled:!b()||t,children:"Next"}):s.jsx(cw,{onClick:()=>{var t;const s=(null==(t=UE.find(e=>e.id===n))?void 0:t.value)||1;let i="basics";s>=4?i="advanced":s>=3&&(i="intermediate");e({knowledgeLevel:s,learningStyles:l,startingPoint:i,preferences:{difficultyPreference:d,contentDepth:h,pacePreference:m}})},disabled:!b()||t,children:t?"Saving...":"Complete Assessment"})]})]})]}):null}function $E({assessment:e,onStartLearning:t,isLoading:i=!1}){const{topic:r}=hE();if(!r)return null;const a=[{id:"fundamentals",title:"Start with Fundamentals",description:"Begin with core concepts and build a solid foundation",estimatedTime:"2-3 hours",difficulty:"beginner",topics:["Basic definitions and terminology","Core principles and concepts","Historical context and evolution","Why this topic matters"],recommended:e.knowledgeLevel<=2},{id:"practical",title:"Practical Applications Focus",description:"Jump into real-world examples and use cases",estimatedTime:"1-2 hours",difficulty:"intermediate",topics:["Common use cases and applications","Industry examples and case studies","Best practices and methodologies","Tools and technologies"],recommended:3===e.knowledgeLevel&&e.learningStyles.includes("interactive")},{id:"comprehensive",title:"Comprehensive Deep Dive",description:"Explore advanced concepts and technical details",estimatedTime:"3-4 hours",difficulty:"advanced",topics:["Advanced theoretical concepts","Technical implementation details","Research and latest developments","Expert insights and analysis"],recommended:e.knowledgeLevel>=4},{id:"visual",title:"Visual Learning Path",description:"Learn through diagrams, charts, and visual representations",estimatedTime:"2-3 hours",difficulty:e.knowledgeLevel>=3?"intermediate":"beginner",topics:["Concept diagrams and flowcharts","Visual models and frameworks","Infographics and data visualizations","Interactive demonstrations"],recommended:e.learningStyles.includes("visual")},{id:"conversational",title:"Q&A Driven Learning",description:"Learn through guided questions and interactive discussions",estimatedTime:"1-2 hours",difficulty:"intermediate",topics:["Common questions and misconceptions","Interactive Q&A sessions","Problem-solving scenarios","Discussion-based exploration"],recommended:e.learningStyles.includes("conversational")}].sort((e,t)=>e.recommended&&!t.recommended?-1:!e.recommended&&t.recommended?1:0),n=a.find(e=>e.recommended),o=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center",children:[s.jsx(W,{className:"w-5 h-5 text-green-500 mr-2"}),"Assessment Complete"]}),s.jsx(Gy,{children:"Based on your responses, here's what we learned about your learning preferences"})]}),s.jsx($y,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Knowledge Level"}),s.jsx("div",{className:"font-medium",children:(l=e.knowledgeLevel,l<=2?"Beginner":l<=3?"Intermediate":"Advanced")})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Learning Styles"}),s.jsxs("div",{className:"font-medium",children:[e.learningStyles.length," selected"]})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Preferred Pace"}),s.jsx("div",{className:"font-medium capitalize",children:e.preferences.pacePreference})]})]})})]}),n&&s.jsxs(Vy,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Uy,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qy,{className:"flex items-center",children:[s.jsx(Ee,{className:"w-5 h-5 text-primary mr-2"}),"Recommended for You"]}),s.jsx(Dw,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Best Match"})]}),s.jsx(Gy,{children:"This learning path is tailored to your knowledge level and preferences"})]}),s.jsx($y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:n.title}),s.jsx("p",{className:"text-muted-foreground",children:n.description})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ie,{className:"w-4 h-4 mr-1"}),n.estimatedTime]}),s.jsx(Dw,{className:o(n.difficulty),children:n.difficulty})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[s.jsx(Z,{className:"w-4 h-4 mr-1"}),"What you'll learn:"]}),s.jsx("ul",{className:"space-y-1",children:n.topics.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2 mr-2 flex-shrink-0"}),e]},t))})]}),s.jsx(cw,{onClick:()=>t(n),disabled:i,className:"w-full",children:i?"Starting...":"Start This Path"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Other Learning Paths"}),s.jsx("div",{className:"grid gap-4",children:a.filter(e=>!e.recommended).map(e=>s.jsx(Vy,{className:"hover:shadow-md transition-shadow",children:s.jsxs($y,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),s.jsx(Dw,{className:o(e.difficulty),children:e.difficulty})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(ie,{className:"w-4 h-4 mr-1"}),e.estimatedTime]}),s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>t(e),disabled:i,children:"Choose This Path"})]})]})},e.id))})]})]});var l}const QE=({text:e,speed:t=50,isActive:i=!0,onComplete:r,className:a=""})=>{const[n,o]=Ct.useState(""),[l,c]=Ct.useState(0),[d,u]=Ct.useState(!1),h=Ct.useRef(null),p=Ct.useCallback(()=>{!i||l>=e.length||(u(!0),h.current=setInterval(()=>{c(t=>{const s=t+1;return s>=e.length?(u(!1),null==r||r(),e.length):s})},t))},[e,t,i,l,r]),m=Ct.useCallback(()=>{h.current&&(clearInterval(h.current),h.current=null),u(!1)},[]);return Ct.useEffect(()=>{o(e.slice(0,l))},[e,l]),Ct.useEffect(()=>(i&&e&&l<e.length?p():m(),()=>m()),[e,i,p,m,l]),Ct.useEffect(()=>{c(0),o("")},[e]),s.jsxs("div",{className:a,children:[n,d&&s.jsx("span",{className:"animate-pulse text-blue-500 ml-1",children:"|"})]})},KE=({lines:e=3})=>s.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((e,t)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse",style:{width:40*Math.random()+60+"%"}}),s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse",style:{width:30*Math.random()+70+"%"}})]},t))}),ZE=({agent:e,isActive:t})=>s.jsxs(Dw,{variant:"secondary",className:`${(e=>{switch(e.toLowerCase()){case"general":return"bg-blue-100 text-blue-800";case"academic":return"bg-green-100 text-green-800";case"computational":return"bg-purple-100 text-purple-800";case"video":return"bg-red-100 text-red-800";case"community":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}})(e)} ${t?"animate-pulse":""}`,children:[(e=>{switch(e.toLowerCase()){case"general":default:return s.jsx(Oe,{className:"w-3 h-3"});case"academic":return s.jsx(Z,{className:"w-3 h-3"});case"computational":return s.jsx(ee,{className:"w-3 h-3"});case"video":return s.jsx(Fe,{className:"w-3 h-3"});case"community":return s.jsx(ae,{className:"w-3 h-3"})}})(e),s.jsx("span",{className:"ml-1 capitalize",children:e}),t&&s.jsx(ne,{className:"w-3 h-3 ml-1 animate-spin"})]}),JE=({topic:e,assessment:t,selectedPath:i,onProgressUpdate:r,onConceptExpand:a,content:n="",isStreaming:o=!1,isComplete:l=!1,error:c,title:d,subtitle:u,agent:h,progress:p=0,estimatedTime:m,onRetry:f,onPause:g,onResume:x,className:b="",showTypewriter:v=!0,typewriterSpeed:y=30,showProgress:w=!0,showAgent:j=!0})=>{const[N,k]=Ct.useState(!1),S=()=>{null==f||f()};return s.jsxs(Vy,{className:`${b} transition-all duration-300`,children:[s.jsxs(Uy,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(qy,{className:"text-lg font-semibold text-gray-900",children:d||e.title}),(u||e.summary)&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u||e.summary})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[j&&h&&s.jsx(ZE,{agent:h,isActive:o&&!N}),o&&!c&&s.jsx("div",{className:"flex items-center gap-1",children:N?s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>{k(!1),null==x||x()},className:"h-8 w-8 p-0",children:s.jsx(Fe,{className:"w-4 h-4"})}):s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>{k(!0),null==g||g()},className:"h-8 w-8 p-0",children:s.jsx(ze,{className:"w-4 h-4"})})}),c&&f&&s.jsx(cw,{variant:"ghost",size:"sm",onClick:S,className:"h-8 w-8 p-0",children:s.jsx(Be,{className:"w-4 h-4"})})]})]}),w&&(o||l)&&s.jsxs("div",{className:"space-y-2 mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:l?"Complete":o?"Generating...":"Ready"}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[m&&!l&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{className:"w-3 h-3"}),s.jsx("span",{children:(e=>{if(e<60)return`${e}s`;return`${Math.floor(e/60)}m ${e%60}s`})(m)})]}),s.jsxs("span",{children:[Math.round(p),"%"]})]})]}),s.jsx(Zw,{value:p,className:"h-2"})]})]}),s.jsxs($y,{children:[c?s.jsxs(ej,{variant:"destructive",children:[s.jsx(Y,{className:"h-4 w-4"}),s.jsxs(tj,{children:[c,f&&s.jsx(cw,{variant:"link",className:"p-0 h-auto ml-2 text-red-600",onClick:S,children:"Try again"})]})]}):n?s.jsx("div",{className:"prose prose-sm max-w-none",children:v&&o&&!N?s.jsx(QE,{text:n,speed:y,isActive:!N,onComplete:()=>{},className:"whitespace-pre-wrap"}):s.jsx("div",{className:"whitespace-pre-wrap",children:n})}):o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ne,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Generating content..."})]}),s.jsx(KE,{lines:4})]}):s.jsxs("div",{className:"text-gray-500 text-center py-8",children:[s.jsx(Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsxs("p",{children:['Learning content for "',e.title,'" will be generated based on your ',(null==i?void 0:i.name)||"selected"," learning path"]}),s.jsxs("div",{className:"mt-4 text-sm",children:[s.jsxs("p",{children:["Assessment level: ",(null==t?void 0:t.level)||"Not assessed"]}),i&&s.jsxs("p",{children:["Learning approach: ",i.name]})]})]}),l&&s.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-200",children:[s.jsx(He,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Content generation complete"})]})]})]})};var eR=Gt({error:Gt({message:$t(),type:$t().nullish(),param:ls().nullish(),code:cs([$t(),Jt()]).nullish()})}),tR=ds({errorSchema:eR,errorToMessage:e=>e.error.message});function sR({id:e,model:t,created:s}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=s?new Date(1e3*s):void 0}}function iR(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var rR=Gt({logitBias:hs(ps(),Jt()).optional(),logprobs:cs([os(),Jt()]).optional(),parallelToolCalls:os().optional(),user:$t().optional(),reasoningEffort:ns(["minimal","low","medium","high"]).optional(),maxCompletionTokens:Jt().optional(),store:os().optional(),metadata:hs($t().max(64),$t().max(512)).optional(),prediction:hs($t(),ls()).optional(),structuredOutputs:os().optional(),serviceTier:ns(["auto","flex","priority"]).optional(),strictJsonSchema:os().optional(),textVerbosity:ns(["low","medium","high"]).optional()}),aR=Gt({key:$t(),type:ns(["eq","ne","gt","gte","lt","lte"]),value:cs([$t(),Jt(),os()])}),nR=Gt({type:ns(["and","or"]),filters:Qt(cs([aR,us(()=>nR)]))}),oR=cs([aR,nR]),lR=Gt({vectorStoreIds:Qt($t()).optional(),maxNumResults:Jt().optional(),ranking:Gt({ranker:ns(["auto","default-2024-08-21"]).optional()}).optional(),filters:oR.optional()}),cR=ms({id:"openai.file_search",name:"file_search",inputSchema:Gt({query:$t()})}),dR=Gt({searchContextSize:ns(["low","medium","high"]).optional(),userLocation:Gt({type:Zt("approximate"),country:$t().optional(),city:$t().optional(),region:$t().optional(),timezone:$t().optional()}).optional()}),uR=ms({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Gt({})});var hR=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:s,topP:i,topK:r,frequencyPenalty:a,presencePenalty:n,stopSequences:o,responseFormat:l,seed:c,tools:d,toolChoice:u,providerOptions:h}){var p,m,f,g;const x=[],b=null!=(p=await Vt({provider:"openai",providerOptions:h,schema:rR}))?p:{},v=null==(m=b.structuredOutputs)||m;null!=r&&x.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==l?void 0:l.type)||null==l.schema||v||x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:y,warnings:w}=function({prompt:e,systemMessageMode:t="system"}){const s=[],i=[];for(const{role:r,content:a}of e)switch(r){case"system":switch(t){case"system":s.push({role:"system",content:a});break;case"developer":s.push({role:"developer",content:a});break;case"remove":i.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error(`Unsupported system message mode: ${t}`)}break;case"user":if(1===a.length&&"text"===a[0].type){s.push({role:"user",content:a[0].text});break}s.push({role:"user",content:a.map((e,t)=>{var s,i,r;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${t};base64,${is(e.data)}`,detail:null==(i=null==(s=e.providerOptions)?void 0:s.openai)?void 0:i.imageDetail}}}if(!e.mediaType.startsWith("audio/")){if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new rs({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"==typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(r=e.filename)?r:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${is(e.data)}`}}}throw new rs({functionality:`file part media type ${e.mediaType}`})}if(e.data instanceof URL)throw new rs({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:is(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:is(e.data),format:"mp3"}};default:throw new rs({functionality:`audio content parts with media type ${e.mediaType}`})}}})});break;case"assistant":{let e="";const t=[];for(const s of a)switch(s.type){case"text":e+=s.text;break;case"tool-call":t.push({id:s.toolCallId,type:"function",function:{name:s.toolName,arguments:JSON.stringify(s.input)}})}s.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(const e of a){const t=e.output;let i;switch(t.type){case"text":case"error-text":i=t.value;break;case"content":case"json":case"error-json":i=JSON.stringify(t.value)}s.push({role:"tool",tool_call_id:e.toolCallId,content:i})}break;default:throw new Error(`Unsupported role: ${r}`)}return{messages:s,warnings:i}}({prompt:e,systemMessageMode:xR(this.modelId)});x.push(...w);const j=null!=(f=b.strictJsonSchema)&&f,N={model:this.modelId,logit_bias:b.logitBias,logprobs:!0===b.logprobs||"number"==typeof b.logprobs||void 0,top_logprobs:"number"==typeof b.logprobs?b.logprobs:"boolean"==typeof b.logprobs&&b.logprobs?0:void 0,user:b.user,parallel_tool_calls:b.parallelToolCalls,max_tokens:t,temperature:s,top_p:i,frequency_penalty:a,presence_penalty:n,response_format:"json"===(null==l?void 0:l.type)?v&&null!=l.schema?{type:"json_schema",json_schema:{schema:l.schema,strict:j,name:null!=(g=l.name)?g:"response",description:l.description}}:{type:"json_object"}:void 0,stop:o,seed:c,verbosity:b.textVerbosity,max_completion_tokens:b.maxCompletionTokens,store:b.store,metadata:b.metadata,prediction:b.prediction,reasoning_effort:b.reasoningEffort,service_tier:b.serviceTier,messages:y};var k;gR(this.modelId)?(null!=N.temperature&&(N.temperature=void 0,x.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=N.top_p&&(N.top_p=void 0,x.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=N.frequency_penalty&&(N.frequency_penalty=void 0,x.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=N.presence_penalty&&(N.presence_penalty=void 0,x.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=N.logit_bias&&(N.logit_bias=void 0,x.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=N.logprobs&&(N.logprobs=void 0,x.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=N.top_logprobs&&(N.top_logprobs=void 0,x.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=N.max_tokens&&(null==N.max_completion_tokens&&(N.max_completion_tokens=N.max_tokens),N.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=N.temperature&&(N.temperature=void 0,x.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==b.serviceTier||((k=this.modelId).startsWith("o3")||k.startsWith("o4-mini")||k.startsWith("gpt-5"))||(x.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),N.service_tier=void 0),"priority"!==b.serviceTier||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(x.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),N.service_tier=void 0);const{tools:S,toolChoice:C,toolWarnings:A}=function({tools:e,toolChoice:t,structuredOutputs:s,strictJsonSchema:i}){const r=[];if(null==(e=(null==e?void 0:e.length)?e:void 0))return{tools:void 0,toolChoice:void 0,toolWarnings:r};const a=[];for(const o of e)switch(o.type){case"function":a.push({type:"function",function:{name:o.name,description:o.description,parameters:o.inputSchema,strict:s?i:void 0}});break;case"provider-defined":switch(o.id){case"openai.file_search":{const e=lR.parse(o.args);a.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker}:void 0,filters:e.filters});break}case"openai.web_search_preview":{const e=dR.parse(o.args);a.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}default:r.push({type:"unsupported-tool",tool:o})}break;default:r.push({type:"unsupported-tool",tool:o})}if(null==t)return{tools:a,toolChoice:void 0,toolWarnings:r};const n=t.type;switch(n){case"auto":case"none":case"required":return{tools:a,toolChoice:n,toolWarnings:r};case"tool":return{tools:a,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:r};default:throw new rs({functionality:`tool choice type: ${n}`})}}({tools:d,toolChoice:u,structuredOutputs:v,strictJsonSchema:j});return{args:{...N,tools:S,tool_choice:C},warnings:[...x,...A]}}async doGenerate(e){var t,s,i,r,a,n,o,l,c,d,u,h,p,m;const{args:f,warnings:g}=await this.getArgs(e),{responseHeaders:x,value:b,rawValue:v}=await Ut({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:f,failedResponseHandler:tR,successfulResponseHandler:qt(mR),abortSignal:e.abortSignal,fetch:this.config.fetch}),y=b.choices[0],w=[],j=y.message.content;null!=j&&j.length>0&&w.push({type:"text",text:j});for(const C of null!=(t=y.message.tool_calls)?t:[])w.push({type:"tool-call",toolCallId:null!=(s=C.id)?s:ss(),toolName:C.function.name,input:C.function.arguments});for(const C of null!=(i=y.message.annotations)?i:[])w.push({type:"source",sourceType:"url",id:ss(),url:C.url,title:C.title});const N=null==(r=b.usage)?void 0:r.completion_tokens_details,k=null==(a=b.usage)?void 0:a.prompt_tokens_details,S={openai:{}};return null!=(null==N?void 0:N.accepted_prediction_tokens)&&(S.openai.acceptedPredictionTokens=null==N?void 0:N.accepted_prediction_tokens),null!=(null==N?void 0:N.rejected_prediction_tokens)&&(S.openai.rejectedPredictionTokens=null==N?void 0:N.rejected_prediction_tokens),null!=(null==(n=y.logprobs)?void 0:n.content)&&(S.openai.logprobs=y.logprobs.content),{content:w,finishReason:iR(y.finish_reason),usage:{inputTokens:null!=(l=null==(o=b.usage)?void 0:o.prompt_tokens)?l:void 0,outputTokens:null!=(d=null==(c=b.usage)?void 0:c.completion_tokens)?d:void 0,totalTokens:null!=(h=null==(u=b.usage)?void 0:u.total_tokens)?h:void 0,reasoningTokens:null!=(p=null==N?void 0:N.reasoning_tokens)?p:void 0,cachedInputTokens:null!=(m=null==k?void 0:k.cached_tokens)?m:void 0},request:{body:f},response:{...sR(b),headers:x,body:v},warnings:g,providerMetadata:S}}async doStream(e){const{args:t,warnings:s}=await this.getArgs(e),i={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:r,value:a}=await Ut({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:i,failedResponseHandler:tR,successfulResponseHandler:as(fR),abortSignal:e.abortSignal,fetch:this.config.fetch}),n=[];let o="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0,d=!1;const u={openai:{}};return{stream:a.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:s})},transform(t,s){var i,r,a,h,p,m,f,g,x,b,v,y,w,j,N,k,S,C,A,T,E,R,P,I;if(e.includeRawChunks&&s.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return o="error",void s.enqueue({type:"error",error:t.error});const L=t.value;if("error"in L)return o="error",void s.enqueue({type:"error",error:L.error});c&&(c=!1,s.enqueue({type:"response-metadata",...sR(L)})),null!=L.usage&&(l.inputTokens=null!=(i=L.usage.prompt_tokens)?i:void 0,l.outputTokens=null!=(r=L.usage.completion_tokens)?r:void 0,l.totalTokens=null!=(a=L.usage.total_tokens)?a:void 0,l.reasoningTokens=null!=(p=null==(h=L.usage.completion_tokens_details)?void 0:h.reasoning_tokens)?p:void 0,l.cachedInputTokens=null!=(f=null==(m=L.usage.prompt_tokens_details)?void 0:m.cached_tokens)?f:void 0,null!=(null==(g=L.usage.completion_tokens_details)?void 0:g.accepted_prediction_tokens)&&(u.openai.acceptedPredictionTokens=null==(x=L.usage.completion_tokens_details)?void 0:x.accepted_prediction_tokens),null!=(null==(b=L.usage.completion_tokens_details)?void 0:b.rejected_prediction_tokens)&&(u.openai.rejectedPredictionTokens=null==(v=L.usage.completion_tokens_details)?void 0:v.rejected_prediction_tokens));const M=L.choices[0];if(null!=(null==M?void 0:M.finish_reason)&&(o=iR(M.finish_reason)),null!=(null==(y=null==M?void 0:M.logprobs)?void 0:y.content)&&(u.openai.logprobs=M.logprobs.content),null==(null==M?void 0:M.delta))return;const O=M.delta;if(null!=O.content&&(d||(s.enqueue({type:"text-start",id:"0"}),d=!0),s.enqueue({type:"text-delta",id:"0",delta:O.content})),null!=O.tool_calls)for(const e of O.tool_calls){const t=e.index;if(null==n[t]){if("function"!==e.type)throw new fs({data:e,message:"Expected 'function' type."});if(null==e.id)throw new fs({data:e,message:"Expected 'id' to be a string."});if(null==(null==(w=e.function)?void 0:w.name))throw new fs({data:e,message:"Expected 'function.name' to be a string."});s.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),n[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(j=e.function.arguments)?j:""},hasFinished:!1};const i=n[t];null!=(null==(N=i.function)?void 0:N.name)&&null!=(null==(k=i.function)?void 0:k.arguments)&&(i.function.arguments.length>0&&s.enqueue({type:"tool-input-delta",id:i.id,delta:i.function.arguments}),gs(i.function.arguments)&&(s.enqueue({type:"tool-input-end",id:i.id}),s.enqueue({type:"tool-call",toolCallId:null!=(S=i.id)?S:ss(),toolName:i.function.name,input:i.function.arguments}),i.hasFinished=!0));continue}const i=n[t];i.hasFinished||(null!=(null==(C=e.function)?void 0:C.arguments)&&(i.function.arguments+=null!=(T=null==(A=e.function)?void 0:A.arguments)?T:""),s.enqueue({type:"tool-input-delta",id:i.id,delta:null!=(E=e.function.arguments)?E:""}),null!=(null==(R=i.function)?void 0:R.name)&&null!=(null==(P=i.function)?void 0:P.arguments)&&gs(i.function.arguments)&&(s.enqueue({type:"tool-input-end",id:i.id}),s.enqueue({type:"tool-call",toolCallId:null!=(I=i.id)?I:ss(),toolName:i.function.name,input:i.function.arguments}),i.hasFinished=!0))}if(null!=O.annotations)for(const e of O.annotations)s.enqueue({type:"source",sourceType:"url",id:ss(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:o,usage:l,...null!=u?{providerMetadata:u}:{}})}})),request:{body:i},response:{headers:r}}}},pR=Gt({prompt_tokens:Jt().nullish(),completion_tokens:Jt().nullish(),total_tokens:Jt().nullish(),prompt_tokens_details:Gt({cached_tokens:Jt().nullish()}).nullish(),completion_tokens_details:Gt({reasoning_tokens:Jt().nullish(),accepted_prediction_tokens:Jt().nullish(),rejected_prediction_tokens:Jt().nullish()}).nullish()}).nullish(),mR=Gt({id:$t().nullish(),created:Jt().nullish(),model:$t().nullish(),choices:Qt(Gt({message:Gt({role:Zt("assistant").nullish(),content:$t().nullish(),tool_calls:Qt(Gt({id:$t().nullish(),type:Zt("function"),function:Gt({name:$t(),arguments:$t()})})).nullish(),annotations:Qt(Gt({type:Zt("url_citation"),start_index:Jt(),end_index:Jt(),url:$t(),title:$t()})).nullish()}),index:Jt(),logprobs:Gt({content:Qt(Gt({token:$t(),logprob:Jt(),top_logprobs:Qt(Gt({token:$t(),logprob:Jt()}))})).nullish()}).nullish(),finish_reason:$t().nullish()})),usage:pR}),fR=cs([Gt({id:$t().nullish(),created:Jt().nullish(),model:$t().nullish(),choices:Qt(Gt({delta:Gt({role:ns(["assistant"]).nullish(),content:$t().nullish(),tool_calls:Qt(Gt({index:Jt(),id:$t().nullish(),type:Zt("function").nullish(),function:Gt({name:$t().nullish(),arguments:$t().nullish()})})).nullish(),annotations:Qt(Gt({type:Zt("url_citation"),start_index:Jt(),end_index:Jt(),url:$t(),title:$t()})).nullish()}).nullish(),logprobs:Gt({content:Qt(Gt({token:$t(),logprob:Jt(),top_logprobs:Qt(Gt({token:$t(),logprob:Jt()}))})).nullish()}).nullish(),finish_reason:$t().nullish(),index:Jt()})),usage:pR}),eR]);function gR(e){return e.startsWith("o")||e.startsWith("gpt-5")}function xR(e){var t,s;return gR(e)?null!=(s=null==(t=bR[e])?void 0:t.systemMessageMode)?s:"developer":"system"}var bR={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function vR({id:e,model:t,created:s}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=s?new Date(1e3*s):void 0}}function yR(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var wR=Gt({echo:os().optional(),logitBias:hs($t(),Jt()).optional(),suffix:$t().optional(),user:$t().optional(),logprobs:cs([os(),Jt()]).optional()}),jR=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:s,topP:i,topK:r,frequencyPenalty:a,presencePenalty:n,stopSequences:o,responseFormat:l,tools:c,toolChoice:d,seed:u,providerOptions:h}){const p=[],m={...await Vt({provider:"openai",providerOptions:h,schema:wR}),...await Vt({provider:this.providerOptionsName,providerOptions:h,schema:wR})};null!=r&&p.push({type:"unsupported-setting",setting:"topK"}),(null==c?void 0:c.length)&&p.push({type:"unsupported-setting",setting:"tools"}),null!=d&&p.push({type:"unsupported-setting",setting:"toolChoice"}),null!=l&&"text"!==l.type&&p.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:f,stopSequences:g}=function({prompt:e,user:t="user",assistant:s="assistant"}){let i="";"system"===e[0].role&&(i+=`${e[0].content}\n\n`,e=e.slice(1));for(const{role:r,content:a}of e)switch(r){case"system":throw new ws({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":i+=`${t}:\n${a.map(e=>{if("text"===e.type)return e.text}).filter(Boolean).join("")}\n\n`;break;case"assistant":i+=`${s}:\n${a.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new rs({functionality:"tool-call messages"})}}).join("")}\n\n`;break;case"tool":throw new rs({functionality:"tool messages"});default:throw new Error(`Unsupported role: ${r}`)}return i+=`${s}:\n`,{prompt:i,stopSequences:[`\n${t}:`]}}({prompt:e}),x=[...null!=g?g:[],...null!=o?o:[]];return{args:{model:this.modelId,echo:m.echo,logit_bias:m.logitBias,logprobs:!0===(null==m?void 0:m.logprobs)?0:!1===(null==m?void 0:m.logprobs)||null==m?void 0:m.logprobs,suffix:m.suffix,user:m.user,max_tokens:t,temperature:s,top_p:i,frequency_penalty:a,presence_penalty:n,seed:u,prompt:f,stop:x.length>0?x:void 0},warnings:p}}async doGenerate(e){var t,s,i;const{args:r,warnings:a}=await this.getArgs(e),{responseHeaders:n,value:o,rawValue:l}=await Ut({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:r,failedResponseHandler:tR,successfulResponseHandler:qt(kR),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=o.choices[0],d={openai:{}};return null!=c.logprobs&&(d.openai.logprobs=c.logprobs),{content:[{type:"text",text:c.text}],usage:{inputTokens:null==(t=o.usage)?void 0:t.prompt_tokens,outputTokens:null==(s=o.usage)?void 0:s.completion_tokens,totalTokens:null==(i=o.usage)?void 0:i.total_tokens},finishReason:yR(c.finish_reason),request:{body:r},response:{...vR(o),headers:n,body:l},providerMetadata:d,warnings:a}}async doStream(e){const{args:t,warnings:s}=await this.getArgs(e),i={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:r,value:a}=await Ut({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:i,failedResponseHandler:tR,successfulResponseHandler:as(SR),abortSignal:e.abortSignal,fetch:this.config.fetch});let n="unknown";const o={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0;return{stream:a.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:s})},transform(t,s){if(e.includeRawChunks&&s.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return n="error",void s.enqueue({type:"error",error:t.error});const i=t.value;if("error"in i)return n="error",void s.enqueue({type:"error",error:i.error});c&&(c=!1,s.enqueue({type:"response-metadata",...vR(i)}),s.enqueue({type:"text-start",id:"0"})),null!=i.usage&&(l.inputTokens=i.usage.prompt_tokens,l.outputTokens=i.usage.completion_tokens,l.totalTokens=i.usage.total_tokens);const r=i.choices[0];null!=(null==r?void 0:r.finish_reason)&&(n=yR(r.finish_reason)),null!=(null==r?void 0:r.logprobs)&&(o.openai.logprobs=r.logprobs),null!=(null==r?void 0:r.text)&&r.text.length>0&&s.enqueue({type:"text-delta",id:"0",delta:r.text})},flush(e){c||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:n,providerMetadata:o,usage:l})}})),request:{body:i},response:{headers:r}}}},NR=Gt({prompt_tokens:Jt(),completion_tokens:Jt(),total_tokens:Jt()}),kR=Gt({id:$t().nullish(),created:Jt().nullish(),model:$t().nullish(),choices:Qt(Gt({text:$t(),finish_reason:$t(),logprobs:Gt({tokens:Qt($t()),token_logprobs:Qt(Jt()),top_logprobs:Qt(hs($t(),Jt())).nullish()}).nullish()})),usage:NR.nullish()}),SR=cs([Gt({id:$t().nullish(),created:Jt().nullish(),model:$t().nullish(),choices:Qt(Gt({text:$t(),finish_reason:$t().nullish(),index:Jt(),logprobs:Gt({tokens:Qt($t()),token_logprobs:Qt(Jt()),top_logprobs:Qt(hs($t(),Jt())).nullish()}).nullish()})),usage:NR.nullish()}),eR]),CR=Gt({dimensions:Jt().optional(),user:$t().optional()}),AR=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:s,providerOptions:i}){var r;if(e.length>this.maxEmbeddingsPerCall)throw new xs({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const a=null!=(r=await Vt({provider:"openai",providerOptions:i,schema:CR}))?r:{},{responseHeaders:n,value:o,rawValue:l}=await Ut({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:es(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:a.dimensions,user:a.user},failedResponseHandler:tR,successfulResponseHandler:qt(TR),abortSignal:s,fetch:this.config.fetch});return{embeddings:o.data.map(e=>e.embedding),usage:o.usage?{tokens:o.usage.prompt_tokens}:void 0,response:{headers:n,body:l}}}},TR=Gt({data:Qt(Gt({embedding:Qt(Jt())})),usage:Gt({prompt_tokens:Jt()}).nullish()}),ER={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},RR=new Set(["gpt-image-1"]),PR=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=ER[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:s,aspectRatio:i,seed:r,providerOptions:a,headers:n,abortSignal:o}){var l,c,d,u;const h=[];null!=i&&h.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=r&&h.push({type:"unsupported-setting",setting:"seed"});const p=null!=(d=null==(c=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:c.call(l))?d:new Date,{value:m,responseHeaders:f}=await Ut({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:es(this.config.headers(),n),body:{model:this.modelId,prompt:e,n:t,size:s,...null!=(u=a.openai)?u:{},...RR.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:tR,successfulResponseHandler:qt(IR),abortSignal:o,fetch:this.config.fetch});return{images:m.data.map(e=>e.b64_json),warnings:h,response:{timestamp:p,modelId:this.modelId,headers:f},providerMetadata:{openai:{images:m.data.map(e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null)}}}}},IR=Gt({data:Qt(Gt({b64_json:$t(),revised_prompt:$t().optional()}))}),LR=Gt({container:cs([$t(),Gt({fileIds:Qt($t()).optional()})]).optional()}),MR={codeInterpreter:ms({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:Gt({})}),fileSearch:cR,webSearchPreview:uR};var OR=Gt({itemId:$t().nullish(),reasoningEncryptedContent:$t().nullish()});function DR({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}var _R=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:s,topP:i,topK:r,presencePenalty:a,frequencyPenalty:n,seed:o,prompt:l,providerOptions:c,tools:d,toolChoice:u,responseFormat:h}){var p,m;const f=[],g=function(e){if(e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1};return{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}(this.modelId);null!=r&&f.push({type:"unsupported-setting",setting:"topK"}),null!=o&&f.push({type:"unsupported-setting",setting:"seed"}),null!=a&&f.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=n&&f.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&f.push({type:"unsupported-setting",setting:"stopSequences"});const{messages:x,warnings:b}=await async function({prompt:e,systemMessageMode:t}){var s,i,r,a,n,o;const l=[],c=[];for(const{role:d,content:u}of e)switch(d){case"system":switch(t){case"system":l.push({role:"system",content:u});break;case"developer":l.push({role:"developer",content:u});break;case"remove":c.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error(`Unsupported system message mode: ${t}`)}break;case"user":l.push({role:"user",content:u.map((e,t)=>{var s,i,r;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"input_image",...e.data instanceof URL?{image_url:e.data.toString()}:"string"==typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{image_url:`data:${t};base64,${is(e.data)}`},detail:null==(i=null==(s=e.providerOptions)?void 0:s.openai)?void 0:i.imageDetail}}if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new rs({functionality:"PDF file parts with URLs"});return{type:"input_file",..."string"==typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(r=e.filename)?r:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${is(e.data)}`}}}throw new rs({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{const e={};for(const t of u)switch(t.type){case"text":l.push({role:"assistant",content:[{type:"output_text",text:t.text}],id:null!=(r=null==(i=null==(s=t.providerOptions)?void 0:s.openai)?void 0:i.itemId)?r:void 0});break;case"tool-call":if(t.providerExecuted)break;l.push({type:"function_call",call_id:t.toolCallId,name:t.toolName,arguments:JSON.stringify(t.input),id:null!=(o=null==(n=null==(a=t.providerOptions)?void 0:a.openai)?void 0:n.itemId)?o:void 0});break;case"tool-result":c.push({type:"other",message:"tool result parts in assistant messages are not supported for OpenAI responses"});break;case"reasoning":{const s=await Vt({provider:"openai",providerOptions:t.providerOptions,schema:OR}),i=null==s?void 0:s.itemId;if(null!=i){const r=e[i],a=[];t.text.length>0?a.push({type:"summary_text",text:t.text}):void 0!==r&&c.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(t)}.`}),void 0===r?(e[i]={type:"reasoning",id:i,encrypted_content:null==s?void 0:s.reasoningEncryptedContent,summary:a},l.push(e[i])):r.summary.push(...a)}else c.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(t)}.`});break}}break}case"tool":for(const e of u){const t=e.output;let s;switch(t.type){case"text":case"error-text":s=t.value;break;case"content":case"json":case"error-json":s=JSON.stringify(t.value)}l.push({type:"function_call_output",call_id:e.toolCallId,output:s})}break;default:throw new Error(`Unsupported role: ${d}`)}return{messages:l,warnings:c}}({prompt:l,systemMessageMode:g.systemMessageMode});f.push(...b);const v=await Vt({provider:"openai",providerOptions:c,schema:YR}),y=null!=(p=null==v?void 0:v.strictJsonSchema)&&p,w={model:this.modelId,input:x,temperature:t,top_p:i,max_output_tokens:e,...("json"===(null==h?void 0:h.type)||(null==v?void 0:v.textVerbosity))&&{text:{..."json"===(null==h?void 0:h.type)&&{format:null!=h.schema?{type:"json_schema",strict:y,name:null!=(m=h.name)?m:"response",description:h.description,schema:h.schema}:{type:"json_object"}},...(null==v?void 0:v.textVerbosity)&&{verbosity:v.textVerbosity}}},metadata:null==v?void 0:v.metadata,parallel_tool_calls:null==v?void 0:v.parallelToolCalls,previous_response_id:null==v?void 0:v.previousResponseId,store:null==v?void 0:v.store,user:null==v?void 0:v.user,instructions:null==v?void 0:v.instructions,service_tier:null==v?void 0:v.serviceTier,include:null==v?void 0:v.include,...g.isReasoningModel&&(null!=(null==v?void 0:v.reasoningEffort)||null!=(null==v?void 0:v.reasoningSummary))&&{reasoning:{...null!=(null==v?void 0:v.reasoningEffort)&&{effort:v.reasoningEffort},...null!=(null==v?void 0:v.reasoningSummary)&&{summary:v.reasoningSummary}}},...g.requiredAutoTruncation&&{truncation:"auto"}};var j;g.isReasoningModel?(null!=w.temperature&&(w.temperature=void 0,f.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=w.top_p&&(w.top_p=void 0,f.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(null!=(null==v?void 0:v.reasoningEffort)&&f.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),null!=(null==v?void 0:v.reasoningSummary)&&f.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),"flex"!==(null==v?void 0:v.serviceTier)||((j=this.modelId).startsWith("o3")||j.startsWith("o4-mini")||j.startsWith("gpt-5"))||(f.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete w.service_tier),"priority"!==(null==v?void 0:v.serviceTier)||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(f.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete w.service_tier);const{tools:N,toolChoice:k,toolWarnings:S}=function({tools:e,toolChoice:t,strictJsonSchema:s}){const i=[];if(null==(e=(null==e?void 0:e.length)?e:void 0))return{tools:void 0,toolChoice:void 0,toolWarnings:i};const r=[];for(const n of e)switch(n.type){case"function":r.push({type:"function",name:n.name,description:n.description,parameters:n.inputSchema,strict:s});break;case"provider-defined":switch(n.id){case"openai.file_search":{const e=lR.parse(n.args);r.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker}:void 0,filters:e.filters});break}case"openai.web_search_preview":{const e=dR.parse(n.args);r.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{const e=LR.parse(n.args);r.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"==typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}default:i.push({type:"unsupported-tool",tool:n})}break;default:i.push({type:"unsupported-tool",tool:n})}if(null==t)return{tools:r,toolChoice:void 0,toolWarnings:i};const a=t.type;switch(a){case"auto":case"none":case"required":return{tools:r,toolChoice:a,toolWarnings:i};case"tool":return{tools:r,toolChoice:"code_interpreter"===t.toolName||"file_search"===t.toolName||"web_search_preview"===t.toolName?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:i};default:throw new rs({functionality:`tool choice type: ${a}`})}}({tools:d,toolChoice:u,strictJsonSchema:y});return{args:{...w,tools:N,tool_choice:k},warnings:[...f,...S]}}async doGenerate(e){var t,s,i,r,a,n,o,l,c;const{args:d,warnings:u}=await this.getArgs(e),h=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:p,value:m,rawValue:f}=await Ut({url:h,headers:es(this.config.headers(),e.headers),body:d,failedResponseHandler:tR,successfulResponseHandler:qt(Gt({id:$t(),created_at:Jt(),error:Gt({code:$t(),message:$t()}).nullish(),model:$t(),output:Qt(Kt("type",[Gt({type:Zt("message"),role:Zt("assistant"),id:$t(),content:Qt(Gt({type:Zt("output_text"),text:$t(),annotations:Qt(Gt({type:Zt("url_citation"),start_index:Jt(),end_index:Jt(),url:$t(),title:$t()}))}))}),Gt({type:Zt("function_call"),call_id:$t(),name:$t(),arguments:$t(),id:$t()}),Gt({type:Zt("web_search_call"),id:$t(),status:$t().optional()}),Gt({type:Zt("computer_call"),id:$t(),status:$t().optional()}),Gt({type:Zt("file_search_call"),id:$t(),status:$t().optional()}),Gt({type:Zt("reasoning"),id:$t(),encrypted_content:$t().nullish(),summary:Qt(Gt({type:Zt("summary_text"),text:$t()}))})])),incomplete_details:Gt({reason:$t()}).nullable(),usage:zR})),abortSignal:e.abortSignal,fetch:this.config.fetch});if(m.error)throw new ts({message:m.error.message,url:h,requestBodyValues:d,statusCode:400,responseHeaders:p,responseBody:f,isRetryable:!1});const g=[];for(const x of m.output)switch(x.type){case"reasoning":0===x.summary.length&&x.summary.push({type:"summary_text",text:""});for(const e of x.summary)g.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:x.id,reasoningEncryptedContent:null!=(t=x.encrypted_content)?t:null}}});break;case"message":for(const e of x.content){g.push({type:"text",text:e.text,providerMetadata:{openai:{itemId:x.id}}});for(const t of e.annotations)g.push({type:"source",sourceType:"url",id:null!=(r=null==(i=(s=this.config).generateId)?void 0:i.call(s))?r:ss(),url:t.url,title:t.title})}break;case"function_call":g.push({type:"tool-call",toolCallId:x.call_id,toolName:x.name,input:x.arguments,providerMetadata:{openai:{itemId:x.id}}});break;case"web_search_call":g.push({type:"tool-call",toolCallId:x.id,toolName:"web_search_preview",input:"",providerExecuted:!0}),g.push({type:"tool-result",toolCallId:x.id,toolName:"web_search_preview",result:{status:x.status||"completed"},providerExecuted:!0});break;case"computer_call":g.push({type:"tool-call",toolCallId:x.id,toolName:"computer_use",input:"",providerExecuted:!0}),g.push({type:"tool-result",toolCallId:x.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:x.status||"completed"},providerExecuted:!0});break;case"file_search_call":g.push({type:"tool-call",toolCallId:x.id,toolName:"file_search",input:"",providerExecuted:!0}),g.push({type:"tool-result",toolCallId:x.id,toolName:"file_search",result:{type:"file_search_tool_result",status:x.status||"completed"},providerExecuted:!0})}return{content:g,finishReason:DR({finishReason:null==(a=m.incomplete_details)?void 0:a.reason,hasToolCalls:g.some(e=>"tool-call"===e.type)}),usage:{inputTokens:m.usage.input_tokens,outputTokens:m.usage.output_tokens,totalTokens:m.usage.input_tokens+m.usage.output_tokens,reasoningTokens:null!=(o=null==(n=m.usage.output_tokens_details)?void 0:n.reasoning_tokens)?o:void 0,cachedInputTokens:null!=(c=null==(l=m.usage.input_tokens_details)?void 0:l.cached_tokens)?c:void 0},request:{body:d},response:{id:m.id,timestamp:new Date(1e3*m.created_at),modelId:m.model,headers:p,body:f},providerMetadata:{openai:{responseId:m.id}},warnings:u}}async doStream(e){const{args:t,warnings:s}=await this.getArgs(e),{responseHeaders:i,value:r}=await Ut({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:tR,successfulResponseHandler:as(HR),abortSignal:e.abortSignal,fetch:this.config.fetch}),a=this;let n="unknown";const o={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let l=null;const c={};let d=!1;const u={};return{stream:r.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:s})},transform(t,s){var i,r,h,p,m,f,g,x,b,v,y,w,j;if(e.includeRawChunks&&s.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return n="error",void s.enqueue({type:"error",error:t.error});const N=t.value;if(XR(N))"function_call"===N.item.type?(c[N.output_index]={toolName:N.item.name,toolCallId:N.item.call_id},s.enqueue({type:"tool-input-start",id:N.item.call_id,toolName:N.item.name})):"web_search_call"===N.item.type?(c[N.output_index]={toolName:"web_search_preview",toolCallId:N.item.id},s.enqueue({type:"tool-input-start",id:N.item.id,toolName:"web_search_preview"})):"computer_call"===N.item.type?(c[N.output_index]={toolName:"computer_use",toolCallId:N.item.id},s.enqueue({type:"tool-input-start",id:N.item.id,toolName:"computer_use"})):"message"===N.item.type?s.enqueue({type:"text-start",id:N.item.id,providerMetadata:{openai:{itemId:N.item.id}}}):function(e){return XR(e)&&"reasoning"===e.item.type}(N)&&(u[N.item.id]={encryptedContent:N.item.encrypted_content,summaryParts:[0]},s.enqueue({type:"reasoning-start",id:`${N.item.id}:0`,providerMetadata:{openai:{itemId:N.item.id,reasoningEncryptedContent:null!=(i=N.item.encrypted_content)?i:null}}}));else if(WR(N)){if("function_call"===N.item.type)c[N.output_index]=void 0,d=!0,s.enqueue({type:"tool-input-end",id:N.item.call_id}),s.enqueue({type:"tool-call",toolCallId:N.item.call_id,toolName:N.item.name,input:N.item.arguments,providerMetadata:{openai:{itemId:N.item.id}}});else if("web_search_call"===N.item.type)c[N.output_index]=void 0,d=!0,s.enqueue({type:"tool-input-end",id:N.item.id}),s.enqueue({type:"tool-call",toolCallId:N.item.id,toolName:"web_search_preview",input:"",providerExecuted:!0}),s.enqueue({type:"tool-result",toolCallId:N.item.id,toolName:"web_search_preview",result:{type:"web_search_tool_result",status:N.item.status||"completed"},providerExecuted:!0});else if("computer_call"===N.item.type)c[N.output_index]=void 0,d=!0,s.enqueue({type:"tool-input-end",id:N.item.id}),s.enqueue({type:"tool-call",toolCallId:N.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),s.enqueue({type:"tool-result",toolCallId:N.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:N.item.status||"completed"},providerExecuted:!0});else if("message"===N.item.type)s.enqueue({type:"text-end",id:N.item.id});else if(function(e){return WR(e)&&"reasoning"===e.item.type}(N)){const e=u[N.item.id];for(const t of e.summaryParts)s.enqueue({type:"reasoning-end",id:`${N.item.id}:${t}`,providerMetadata:{openai:{itemId:N.item.id,reasoningEncryptedContent:null!=(r=N.item.encrypted_content)?r:null}}});delete u[N.item.id]}}else if(function(e){return"response.function_call_arguments.delta"===e.type}(N)){const e=c[N.output_index];null!=e&&s.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:N.delta})}else!function(e){return"response.created"===e.type}(N)?!function(e){return"response.output_text.delta"===e.type}(N)?!function(e){return"response.reasoning_summary_part.added"===e.type}(N)?!function(e){return"response.reasoning_summary_text.delta"===e.type}(N)?!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(N)?!function(e){return"response.output_text.annotation.added"===e.type}(N)?function(e){return"error"===e.type}(N)&&s.enqueue({type:"error",error:N}):s.enqueue({type:"source",sourceType:"url",id:null!=(j=null==(w=(y=a.config).generateId)?void 0:w.call(y))?j:ss(),url:N.annotation.url,title:N.annotation.title}):(n=DR({finishReason:null==(f=N.response.incomplete_details)?void 0:f.reason,hasToolCalls:d}),o.inputTokens=N.response.usage.input_tokens,o.outputTokens=N.response.usage.output_tokens,o.totalTokens=N.response.usage.input_tokens+N.response.usage.output_tokens,o.reasoningTokens=null!=(x=null==(g=N.response.usage.output_tokens_details)?void 0:g.reasoning_tokens)?x:void 0,o.cachedInputTokens=null!=(v=null==(b=N.response.usage.input_tokens_details)?void 0:b.cached_tokens)?v:void 0):s.enqueue({type:"reasoning-delta",id:`${N.item_id}:${N.summary_index}`,delta:N.delta,providerMetadata:{openai:{itemId:N.item_id}}}):N.summary_index>0&&(null==(h=u[N.item_id])||h.summaryParts.push(N.summary_index),s.enqueue({type:"reasoning-start",id:`${N.item_id}:${N.summary_index}`,providerMetadata:{openai:{itemId:N.item_id,reasoningEncryptedContent:null!=(m=null==(p=u[N.item_id])?void 0:p.encryptedContent)?m:null}}})):s.enqueue({type:"text-delta",id:N.item_id,delta:N.delta}):(l=N.response.id,s.enqueue({type:"response-metadata",id:N.response.id,timestamp:new Date(1e3*N.response.created_at),modelId:N.response.model}))},flush(e){e.enqueue({type:"finish",finishReason:n,usage:o,providerMetadata:{openai:{responseId:l}}})}})),request:{body:t},response:{headers:i}}}},zR=Gt({input_tokens:Jt(),input_tokens_details:Gt({cached_tokens:Jt().nullish()}).nullish(),output_tokens:Jt(),output_tokens_details:Gt({reasoning_tokens:Jt().nullish()}).nullish()}),FR=Gt({type:Zt("response.output_text.delta"),item_id:$t(),delta:$t()}),BR=Gt({type:Zt("error"),code:$t(),message:$t(),param:$t().nullish(),sequence_number:Jt()}),HR=cs([FR,Gt({type:ns(["response.completed","response.incomplete"]),response:Gt({incomplete_details:Gt({reason:$t()}).nullish(),usage:zR})}),Gt({type:Zt("response.created"),response:Gt({id:$t(),created_at:Jt(),model:$t()})}),Gt({type:Zt("response.output_item.added"),output_index:Jt(),item:Kt("type",[Gt({type:Zt("message"),id:$t()}),Gt({type:Zt("reasoning"),id:$t(),encrypted_content:$t().nullish()}),Gt({type:Zt("function_call"),id:$t(),call_id:$t(),name:$t(),arguments:$t()}),Gt({type:Zt("web_search_call"),id:$t(),status:$t()}),Gt({type:Zt("computer_call"),id:$t(),status:$t()}),Gt({type:Zt("file_search_call"),id:$t(),status:$t()})])}),Gt({type:Zt("response.output_item.done"),output_index:Jt(),item:Kt("type",[Gt({type:Zt("message"),id:$t()}),Gt({type:Zt("reasoning"),id:$t(),encrypted_content:$t().nullish()}),Gt({type:Zt("function_call"),id:$t(),call_id:$t(),name:$t(),arguments:$t(),status:Zt("completed")}),Gt({type:Zt("web_search_call"),id:$t(),status:Zt("completed")}),Gt({type:Zt("computer_call"),id:$t(),status:Zt("completed")}),Gt({type:Zt("file_search_call"),id:$t(),status:Zt("completed")})])}),Gt({type:Zt("response.function_call_arguments.delta"),item_id:$t(),output_index:Jt(),delta:$t()}),Gt({type:Zt("response.output_text.annotation.added"),annotation:Gt({type:Zt("url_citation"),url:$t(),title:$t()})}),Gt({type:Zt("response.reasoning_summary_part.added"),item_id:$t(),summary_index:Jt()}),Gt({type:Zt("response.reasoning_summary_text.delta"),item_id:$t(),summary_index:Jt(),delta:$t()}),BR,Gt({type:$t()}).loose()]);function WR(e){return"response.output_item.done"===e.type}function XR(e){return"response.output_item.added"===e.type}var YR=Gt({metadata:ls().nullish(),parallelToolCalls:os().nullish(),previousResponseId:$t().nullish(),store:os().nullish(),user:$t().nullish(),reasoningEffort:$t().nullish(),strictJsonSchema:os().nullish(),instructions:$t().nullish(),reasoningSummary:$t().nullish(),serviceTier:ns(["auto","flex","priority"]).nullish(),include:Qt(ns(["reasoning.encrypted_content","file_search_call.results"])).nullish(),textVerbosity:ns(["low","medium","high"]).nullish()}),VR=Gt({instructions:$t().nullish(),speed:Jt().min(.25).max(4).default(1).nullish()}),UR=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:s="mp3",speed:i,instructions:r,language:a,providerOptions:n}){const o=[],l=await Vt({provider:"openai",providerOptions:n,schema:VR}),c={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:i,instructions:r};if(s&&(["mp3","opus","aac","flac","wav","pcm"].includes(s)?c.response_format=s:o.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${s}. Using mp3 instead.`})),l){const e={};for(const t in e){const s=e[t];void 0!==s&&(c[t]=s)}}return a&&o.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${a}" was ignored.`}),{requestBody:c,warnings:o}}async doGenerate(e){var t,s,i;const r=null!=(i=null==(s=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:s.call(t))?i:new Date,{requestBody:a,warnings:n}=await this.getArgs(e),{value:o,responseHeaders:l,rawValue:c}=await Ut({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:a,failedResponseHandler:tR,successfulResponseHandler:ys(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:o,warnings:n,request:{body:JSON.stringify(a)},response:{timestamp:r,modelId:this.modelId,headers:l,body:c}}}},qR=Gt({include:Qt($t()).optional(),language:$t().optional(),prompt:$t().optional(),temperature:Jt().min(0).max(1).default(0).optional(),timestampGranularities:Qt(ns(["word","segment"])).default(["segment"]).optional()}),GR={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},$R=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:s}){const i=await Vt({provider:"openai",providerOptions:s,schema:qR}),r=new FormData,a=e instanceof Uint8Array?new Blob([e]):new Blob([bs(e)]);if(r.append("model",this.modelId),r.append("file",new File([a],"audio",{type:t})),i){const e={include:i.include,language:i.language,prompt:i.prompt,temperature:i.temperature,timestamp_granularities:i.timestampGranularities};for(const[t,s]of Object.entries(e))null!=s&&r.append(t,String(s))}return{formData:r,warnings:[]}}async doGenerate(e){var t,s,i,r,a,n;const o=null!=(i=null==(s=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:s.call(t))?i:new Date,{formData:l,warnings:c}=await this.getArgs(e),{value:d,responseHeaders:u,rawValue:h}=await vs({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),formData:l,failedResponseHandler:tR,successfulResponseHandler:qt(QR),abortSignal:e.abortSignal,fetch:this.config.fetch}),p=null!=d.language&&d.language in GR?GR[d.language]:void 0;return{text:d.text,segments:null!=(a=null==(r=d.words)?void 0:r.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?a:[],language:p,durationInSeconds:null!=(n=d.duration)?n:void 0,warnings:c,response:{timestamp:o,modelId:this.modelId,headers:u,body:h}}}},QR=Gt({text:$t(),language:$t().nullish(),duration:Jt().nullish(),words:Qt(Gt({word:$t(),start:Jt(),end:Jt()})).nullish()});var KR=function(e={}){var t,s;const i=null!=(t=Xt(e.baseURL))?t:"https://api.openai.com/v1",r=null!=(s=e.name)?s:"openai",a=()=>({Authorization:`Bearer ${Yt({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),n=t=>new AR(t,{provider:`${r}.embedding`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),o=t=>new PR(t,{provider:`${r}.image`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),l=t=>new $R(t,{provider:`${r}.transcription`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),c=t=>new UR(t,{provider:`${r}.speech`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),d=e=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return u(e)},u=t=>new _R(t,{provider:`${r}.responses`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),h=function(e){return d(e)};return h.languageModel=d,h.chat=t=>new hR(t,{provider:`${r}.chat`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),h.completion=t=>new jR(t,{provider:`${r}.completion`,url:({path:e})=>`${i}${e}`,headers:a,fetch:e.fetch}),h.responses=u,h.embedding=n,h.textEmbedding=n,h.textEmbeddingModel=n,h.image=o,h.imageModel=o,h.transcription=l,h.transcriptionModel=l,h.speech=c,h.speechModel=c,h.tools=MR,h}();const ZR=new class{constructor(){t(this,"model",KR("gpt-5-mini")),t(this,"conceptCache",new Map),t(this,"conceptMaps",new Map)}async explainConcept(e,t,s,i={}){const r=this.generateCacheKey(e,t.id,s,i);if(this.conceptCache.has(r))return this.conceptCache.get(r);const a=await this.generateConceptExplanation(e,t,s,i);return this.conceptCache.set(r,a),a}async explainConceptInContext(e,t,s,i){const r=this.buildContextualExplanationPrompt(e,t,s,i),a=await js({model:this.model,prompt:r,temperature:.6});return this.parseExplanationResponse(a.text,e,i.knowledgeLevel)}async buildConceptMap(e,t=[],s){if(this.conceptMaps.has(e.id))return this.conceptMaps.get(e.id);const i=await this.extractTopicConcepts(e,t),r=await this.buildConceptNodes(i,e),a=this.generateLearningPaths(r),n=this.identifyCriticalPath(r),o={topicId:e.id,concepts:r,learningPaths:a,criticalPath:n,userProgress:{}};return this.conceptMaps.set(e.id,o),o}async getRelatedConcepts(e,t,s=["builds_on","similar_to","applies_to"]){const i=`Identify concepts related to "${e}" in the context of ${t.title}.\n\nFind concepts that are:\n${s.map(e=>`- ${e.replace(/_/g," ")}`).join("\n")}\n\nFor each related concept, provide:\n1. Name of the concept\n2. Relationship type\n3. Brief description of the relationship\n4. Importance level (high/medium/low)\n\nFormat as JSON array of objects with properties: name, relationship, description, importance.`,r=await js({model:this.model,prompt:i,temperature:.5});try{const e=JSON.parse(r.text);return Array.isArray(e)?e:[]}catch(a){return this.generateFallbackRelatedConcepts(e)}}async checkPrerequisites(e,t,s=[]){const i=`Analyze the prerequisites needed to understand "${e}" in ${t.title}.\n\nUser's known concepts: ${s.join(", ")||"None specified"}\n\nIdentify:\n1. Essential prerequisites (concepts that MUST be understood first)\n2. Helpful background (concepts that would help but aren't strictly required)\n3. Which prerequisites the user might be missing\n4. Recommendations for filling gaps\n\nFormat as JSON:\n{\n  "essential_prerequisites": ["concept1", "concept2"],\n  "helpful_background": ["concept3", "concept4"],\n  "assessment": "ready|needs_prerequisites|needs_background",\n  "recommendations": ["action1", "action2"]\n}`,r=await js({model:this.model,prompt:i,temperature:.4});try{const e=JSON.parse(r.text),t=[...e.essential_prerequisites,...e.helpful_background],i=t.filter(e=>!s.some(t=>t.toLowerCase().includes(e.toLowerCase())));return{prerequisites:t,missing:i,readyToLearn:"ready"===e.assessment,recommendations:e.recommendations||[]}}catch(a){return{prerequisites:[],missing:[],readyToLearn:!0,recommendations:[`Review fundamental concepts before learning ${e}`]}}}async generateProgressiveExplanations(e,t,s=["basic","intermediate","advanced"]){const i={};for(const r of s){const s={knowledgeLevel:"basic"===r?1:"intermediate"===r?3:5,learningStyles:["textual"],startingPoint:"basics",preferences:{difficultyPreference:"moderate",contentDepth:"detailed",pacePreference:"moderate"}};i[r]=await this.explainConcept(e,t,s,{userLevel:r,preferredDepth:"detailed"})}return i}async generateConceptExplanation(e,t,s,i){const r={userLevel:this.mapKnowledgeLevel(s.knowledgeLevel),learningStyle:s.learningStyles,previousKnowledge:[],preferredDepth:i.preferredDepth||"detailed",includeExamples:i.includeExamples??!0,includeAnalogies:i.includeAnalogies??s.learningStyles.includes("conversational"),includeVisuals:i.includeVisuals??s.learningStyles.includes("visual")},a=this.buildExplanationPrompt(e,t,r),n=await js({model:this.model,prompt:a,temperature:.7});return this.parseExplanationResponse(n.text,e,s.knowledgeLevel)}buildExplanationPrompt(e,t,s){const i=s.learningStyle.map(e=>{switch(e){case"visual":return"Include descriptions of diagrams, visual metaphors, and spatial relationships";case"conversational":return"Use a friendly, conversational tone with rhetorical questions";case"interactive":return'Include thought exercises and "try this" suggestions';default:return"Provide clear, structured written explanations"}}).join(". ");return`You are an expert educator explaining the concept "${e}" in the context of ${t.title}.\n\nUser Profile:\n- Knowledge Level: ${s.userLevel}\n- Learning Styles: ${s.learningStyle.join(", ")}\n- Preferred Depth: ${s.preferredDepth}\n\nInstructions:\n- ${{beginner:"Use simple language, avoid jargon, include step-by-step explanations",intermediate:"Use moderate technical language, provide context, include practical applications",advanced:"Use technical precision, focus on nuances, include advanced applications"}[s.userLevel]}\n- ${i}\n- Provide a ${s.preferredDepth} explanation\n\nCreate a comprehensive explanation that includes:\n\n1. DEFINITION: Clear, precise definition\n2. SIMPLE_EXPLANATION: Explain in simple terms anyone can understand\n3. DETAILED_EXPLANATION: ${"comprehensive"===s.preferredDepth?"Thorough":"Moderate"} technical depth\n4. EXAMPLES: ${s.includeExamples?"3-5 concrete examples":"Brief example if essential"}\n5. ANALOGIES: ${s.includeAnalogies?"Helpful analogies and metaphors":"Skip unless crucial for understanding"}\n6. VISUAL_DESCRIPTIONS: ${s.includeVisuals?"Describe visual representations":"Skip visual elements"}\n7. MISCONCEPTIONS: Common mistakes or misunderstandings\n8. RELATED_CONCEPTS: Connected concepts with relationship types\n9. APPLICATIONS: Real-world uses and applications\n10. TAGS: Relevant tags for categorization\n\nFormat as JSON with these exact property names (lowercase with underscores).`}buildContextualExplanationPrompt(e,t,s,i){const r=this.mapKnowledgeLevel(i.knowledgeLevel);return`Explain the concept "${e}" as it appears in this content about ${s.title}.\n\nSurrounding Content:\n${t.slice(0,1e3)}...\n\nUser Level: ${r}\nLearning Styles: ${i.learningStyles.join(", ")}\n\nProvide a contextual explanation that:\n1. Defines the concept as used in this specific context\n2. Explains how it relates to the surrounding discussion\n3. Clarifies any specific meaning or application mentioned\n4. Adapts to the user's knowledge level and learning preferences\n\nKeep the explanation focused on how this concept functions within this particular context.`}async extractTopicConcepts(e,t){const s=`Extract the key concepts that should be understood to master "${e.title}".\n\nTopic Description: ${e.summary||e.description||""}\n\nResearch Context:\n${t.slice(0,5).map(e=>{var t;return e.title||(null==(t=e.content)?void 0:t.slice(0,200))}).join("\n")}\n\nList 15-25 important concepts, from basic to advanced, that form the conceptual foundation of this topic.\nInclude both fundamental concepts and advanced applications.\n\nFormat as a JSON array of concept names.`,i=await js({model:this.model,prompt:s,temperature:.5});try{const e=JSON.parse(i.text);return Array.isArray(e)?e:[]}catch(r){return this.generateFallbackConcepts(e.title)}}async buildConceptNodes(e,t){const s=[];for(let i=0;i<e.length;i++){const r=e[i],a=Math.floor(i/Math.ceil(e.length/4))+1,n=await this.generateQuickDefinition(r,t),o=e.slice(0,i).filter((e,t)=>Math.random()<.3).slice(-2),l=e.slice(i+1).filter((e,t)=>Math.random()<.2).slice(0,3);s.push({id:`concept_${i+1}`,name:r,definition:n,level:a,connections:[],mastery:0,prerequisites:o.map((t,s)=>`concept_${e.indexOf(e[s])+1}`),unlocks:l.map((t,s)=>`concept_${e.indexOf(e[s+i+1])+1}`)})}return this.buildConceptConnections(s),s}async generateQuickDefinition(e,t){const s=`Provide a brief, clear definition of "${e}" in the context of ${t.title}.\nKeep it to 1-2 sentences, focusing on the essential meaning.`;return(await js({model:this.model,prompt:s,temperature:.3})).text.trim()}buildConceptConnections(e){for(let t=0;t<e.length;t++){const s=e[t];for(const e of s.prerequisites)s.connections.push({targetConceptId:e,relationship:"prerequisite",strength:.8,description:"Required background knowledge"});for(const e of s.unlocks)s.connections.push({targetConceptId:e,relationship:"builds_on",strength:.7,description:"Enables understanding of this concept"});const i=e.filter(e=>Math.abs(e.level-s.level)<=1&&e.id!==s.id);for(const e of i.slice(0,2))s.connections.push({targetConceptId:e.id,relationship:"similar_to",strength:.5,description:"Related concept at similar level"})}}generateLearningPaths(e){const t=[],s=this.generatePrimaryPath(e);t.push(s);const i=this.generatePracticalPath(e),r=this.generateTheoreticalPath(e);return t.push(i),t.push(r),t}generatePrimaryPath(e){return e.sort((e,t)=>e.level!==t.level?e.level-t.level:e.prerequisites.length-t.prerequisites.length).map(e=>e.id)}generatePracticalPath(e){return e.filter(e=>e.name.toLowerCase().includes("application")||e.name.toLowerCase().includes("use")||e.name.toLowerCase().includes("practice")).map(e=>e.id)}generateTheoreticalPath(e){return e.filter(e=>e.name.toLowerCase().includes("theory")||e.name.toLowerCase().includes("principle")||e.name.toLowerCase().includes("foundation")).map(e=>e.id)}identifyCriticalPath(e){return e.filter(e=>e.unlocks.length>2||0===e.prerequisites.length).sort((e,t)=>t.unlocks.length+t.connections.length-(e.unlocks.length+e.connections.length)).slice(0,Math.ceil(e.length/3)).map(e=>e.id)}parseExplanationResponse(e,t,s){var i;try{const r=JSON.parse(e);return{concept:t,definition:r.definition||`Definition of ${t}`,simpleExplanation:r.simple_explanation||r.simple||`Simple explanation of ${t}`,detailedExplanation:r.detailed_explanation||r.detailed||`Detailed explanation of ${t}`,examples:Array.isArray(r.examples)?r.examples:[`Example of ${t}`],analogies:Array.isArray(r.analogies)?r.analogies:[`Analogy for ${t}`],visualDescriptions:Array.isArray(r.visual_descriptions)?r.visual_descriptions:[],commonMisconceptions:Array.isArray(r.misconceptions)?r.misconceptions:[],relatedConcepts:Array.isArray(r.related_concepts)?r.related_concepts:[],applications:Array.isArray(r.applications)?r.applications:[],difficulty:s<=2?"basic":s<=3?"intermediate":"advanced",estimatedReadTime:Math.ceil(((null==(i=r.detailed_explanation)?void 0:i.length)||500)/200),tags:Array.isArray(r.tags)?r.tags:[t.toLowerCase()]}}catch(r){return this.generateFallbackExplanation(t,s)}}generateFallbackExplanation(e,t){return{concept:e,definition:`${e} is an important concept in this field of study.`,simpleExplanation:`${e} refers to a key idea or principle that helps us understand the topic better.`,detailedExplanation:`${e} is a fundamental concept that plays a significant role in understanding this subject matter. It involves various aspects and applications that contribute to the overall comprehension of the topic.`,examples:[`Basic example of ${e}`,`Practical application of ${e}`],analogies:[`Think of ${e} like a building block in construction`],visualDescriptions:[`Imagine ${e} as a diagram showing relationships`],commonMisconceptions:[`A common mistake is confusing ${e} with similar terms`],relatedConcepts:[{name:"Related concept",relationship:"similar_to",description:"A concept that shares similarities",importance:"medium"}],applications:[`${e} is used in practical applications`],difficulty:t<=2?"basic":t<=3?"intermediate":"advanced",estimatedReadTime:2,tags:[e.toLowerCase(),"concept","explanation"]}}generateFallbackRelatedConcepts(e){return[{name:`Advanced ${e}`,relationship:"builds_on",description:"More advanced aspects of this concept",importance:"medium"},{name:`${e} Applications`,relationship:"applies_to",description:"Practical applications and uses",importance:"high"}]}generateFallbackConcepts(e){return[`Introduction to ${e}`,"Basic principles","Core concepts","Practical applications","Advanced topics","Best practices","Common challenges","Future developments"]}mapKnowledgeLevel(e){return e<=2?"beginner":e<=3?"intermediate":"advanced"}generateCacheKey(e,t,s,i){return`${e}_${t}_${s.knowledgeLevel}_${JSON.stringify(i)}`}};const JR=new class{constructor(){t(this,"conceptMaps",new Map),t(this,"masteryTracking",new Map),t(this,"learningSequences",new Map)}async initializeNetwork(e,t=[],s={}){let i=this.conceptMaps.get(e.id);return i||(i=await ZR.buildConceptMap(e,t),this.conceptMaps.set(e.id,i)),Object.keys(s).length>0&&(i.userProgress=s,this.updateMasteryTracking(e.id,s)),await this.generateLearningSequences(e.id,i),i}findNextConcepts(e,t,s=3){const i=this.conceptMaps.get(e);if(!i)throw new Error(`Concept map not found for topic ${e}`);const r=this.identifyLearningCandidates(i,t),a=this.scoreConceptCandidates(r,t,i),n=a.slice(0,s),o=a.slice(s,s+3),l={};return n.forEach(e=>{l[e.id]=this.generateRecommendationRationale(e,t,i)}),{recommendations:n,rationale:l,alternatives:o}}analyzeKnowledgeGaps(e,t,s=[]){const i=this.conceptMaps.get(e);if(!i)throw new Error(`Concept map not found for topic ${e}`);const r=[],a=s.length>0?s:i.criticalPath;for(const o of a){const e=i.concepts.find(e=>e.id===o);if(!e)continue;const s=t[o]||0,a=this.findPrerequisiteGaps(e,t,i);s<.3?r.push({conceptId:o,conceptName:e.name,gapType:"no_exposure",severity:e.unlocks.length>2?"critical":"important",prerequisites:a,recommendations:[`Start with basic introduction to ${e.name}`,"Focus on fundamental understanding before advancing"],estimatedTimeToFill:this.estimateTimeToLearn(e,0,.7)}):s<.6&&r.push({conceptId:o,conceptName:e.name,gapType:"weak_understanding",severity:"important",prerequisites:a,recommendations:[`Review and strengthen understanding of ${e.name}`,"Practice with additional examples and exercises"],estimatedTimeToFill:this.estimateTimeToLearn(e,s,.8)});for(const t of a){const s=i.concepts.find(e=>e.id===t);s&&r.push({conceptId:t,conceptName:s.name,gapType:"missing_prerequisite",severity:"critical",prerequisites:[],recommendations:[`Master ${s.name} before proceeding to ${e.name}`,"This is essential background knowledge"],estimatedTimeToFill:this.estimateTimeToLearn(s,0,.7)})}}const n=this.deduplicateGaps(r).sort((e,t)=>{const s={critical:3,important:2,minor:1};return s[t.severity]-s[e.severity]});return{gaps:n,criticalPath:this.generateCriticalLearningPath(n,i),recommendations:this.generateGapRecommendations(n)}}async generateLearningSequences(e,t){if(this.learningSequences.has(e))return this.learningSequences.get(e);const s=[];return s.push(this.generateFoundationFirstSequence(t)),s.push(this.generateApplicationDrivenSequence(t)),s.push(this.generateSpiralSequence(t)),s.push(this.generateMasteryBasedSequence(t)),this.learningSequences.set(e,s),s}updateConceptMastery(e,t,s,i,r=[],a=[]){let n=this.masteryTracking.get(e);n||(n={},this.masteryTracking.set(e,n));let o=n[t];o||(o={conceptId:t,conceptName:t,currentLevel:0,targetLevel:.8,timeSpent:0,assessmentScores:[],lastAccessed:new Date,strengthAreas:[],improvementAreas:[],nextSteps:[]}),o.assessmentScores.push(s),o.timeSpent+=i,o.lastAccessed=new Date,o.strengthAreas=[...new Set([...o.strengthAreas,...r])],o.improvementAreas=[...new Set([...o.improvementAreas,...a])];const l=o.assessmentScores.slice(-3),c=[.5,.3,.2];let d=0,u=0;return l.reverse().forEach((e,t)=>{const s=c[t]||.1;d+=e*s,u+=s}),o.currentLevel=d/u,o.nextSteps=this.generateNextSteps(o,e),n[t]=o,o}findRelatedConcepts(e,t,s={maxDepth:2,relationshipTypes:["similar_to","builds_on","applies_to"],includeWeakConnections:!1}){const i=this.conceptMaps.get(e);if(!i)throw new Error(`Concept map not found for topic ${e}`);const r=i.concepts.find(e=>e.id===t);if(!r)throw new Error(`Concept ${t} not found`);const a=new Set,n=[],o=[],l={};return this.traverseConceptNetwork(r,i,s,0,[t],a,n,o,l),{related:n,path:o,relationships:l}}optimizeConceptOrdering(e,t,s){const i=this.conceptMaps.get(e);if(!i)throw new Error(`Concept map not found for topic ${e}`);const r=this.buildDependencyGraph(t,i),a=this.topologicalSort(r),n=this.optimizeForLearning(a,s,i);return{optimizedOrder:n,reasoning:this.explainOrdering(n,i,s),alternatives:[this.generateDifficultyBasedOrder(t,i),this.generateInterestBasedOrder(t,i),a]}}identifyLearningCandidates(e,t){return e.concepts.filter(e=>{var s;if(null==(s=t.avoidConcepts)?void 0:s.includes(e.id))return!1;if((t.userMastery[e.id]||0)>.9)return!1;return e.prerequisites.every(e=>(t.userMastery[e]||0)>=.6)})}scoreConceptCandidates(e,t,s){return e.map(e=>{let i=0;i+=30*this.calculatePrerequisiteReadiness(e,t.userMastery);i+=25*(e.unlocks.length/Math.max(1,s.concepts.length/10));const r=t.userMastery[e.id]||0;i+=20*this.calculateDifficultyFit(e,r,t.preferredDifficulty);if(i+=15*this.calculateGoalAlignment(e,t.learningGoals),t.timeAvailable){i+=10*this.calculateTimeFit(e,t.timeAvailable)}return{...e,score:i}}).sort((e,t)=>t.score-e.score)}calculatePrerequisiteReadiness(e,t){if(0===e.prerequisites.length)return 1;const s=e.prerequisites.map(e=>t[e]||0);return s.reduce((e,t)=>e+t,0)/s.length}calculateDifficultyFit(e,t,s){const i=e.level/4;if(!s)return.5;switch(s){case"easier":return Math.max(0,1-Math.abs(i-(t-.2)));case"same":return Math.max(0,1-Math.abs(i-t));case"harder":return Math.max(0,1-Math.abs(i-(t+.2)));default:return.5}}calculateGoalAlignment(e,t){if(0===t.length)return.5;const s=e.name.toLowerCase(),i=t.reduce((e,t)=>{const i=t.toLowerCase().split(" ");return e+i.filter(e=>s.includes(e)).length/i.length},0)/t.length;return Math.min(1,i)}calculateTimeFit(e,t){const s=this.estimateConceptTime(e);return s<=t?1:s<=1.5*t?.5:0}estimateConceptTime(e){return 30*(1+.5*(e.level-1))*(1+.1*e.connections.length)}generateRecommendationRationale(e,t,s){const i=[],r=this.calculatePrerequisiteReadiness(e,t.userMastery);r>.8?i.push("All prerequisites are well understood"):r>.6&&i.push("Prerequisites are adequately prepared"),e.unlocks.length>2&&i.push(`Will unlock ${e.unlocks.length} additional concepts`);this.calculateGoalAlignment(e,t.learningGoals)>.5&&i.push("Aligns with your stated learning goals");const a=t.userMastery[e.id]||0;return a>0&&a<.6?i.push("You have some familiarity - good time to strengthen understanding"):0===a&&i.push("Fresh concept that builds on your current knowledge"),i.join(". ")||"Good next step in your learning journey"}findPrerequisiteGaps(e,t,s){return e.prerequisites.filter(e=>(t[e]||0)<.6)}estimateTimeToLearn(e,t,s){const i=this.estimateConceptTime(e),r=s-t;return Math.round(i*r*2)}deduplicateGaps(e){const t=new Set;return e.filter(e=>!t.has(e.conceptId)&&(t.add(e.conceptId),!0))}generateCriticalLearningPath(e,t){const s=e.filter(e=>"critical"===e.severity);return this.orderByPrerequisites(s,t).map(e=>e.conceptId)}orderByPrerequisites(e,t){const s=[],i=[...e];for(;i.length>0;){const e=i.filter(e=>e.prerequisites.every(e=>s.some(t=>t.conceptId===e)));0===e.length?s.push(i.shift()):(s.push(...e),e.forEach(e=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)}))}return s}generateGapRecommendations(e){const t=[],s=e.filter(e=>"critical"===e.severity).length,i=e.filter(e=>"important"===e.severity).length;s>0&&t.push(`Address ${s} critical knowledge gaps first`),i>0&&t.push(`Work on ${i} important areas for better understanding`);const r=e.reduce((e,t)=>e+t.estimatedTimeToFill,0);return t.push(`Estimated time to fill gaps: ${Math.round(r/60)} hours`),t}updateMasteryTracking(e,t){let s=this.masteryTracking.get(e);s||(s={},this.masteryTracking.set(e,s)),Object.entries(t).forEach(([e,t])=>{s[e]?s[e].currentLevel=t:s[e]={conceptId:e,conceptName:e,currentLevel:t,targetLevel:.8,timeSpent:0,assessmentScores:[t],lastAccessed:new Date,strengthAreas:[],improvementAreas:[],nextSteps:[]}})}generateNextSteps(e,t){const s=[];return e.currentLevel<.3?(s.push("Review fundamental concepts"),s.push("Practice with basic examples")):e.currentLevel<.6?(s.push("Work on practical applications"),s.push("Take practice assessments")):e.currentLevel<.8?(s.push("Explore advanced applications"),s.push("Connect to related concepts")):(s.push("Apply knowledge to new domains"),s.push("Help others learn this concept")),s}traverseConceptNetwork(e,t,s,i,r,a,n,o,l){if(!(i>=s.maxDepth||a.has(e.id))){a.add(e.id);for(const c of e.connections){if(!s.relationshipTypes.includes(c.relationship))continue;if(!s.includeWeakConnections&&c.strength<.5)continue;const e=t.concepts.find(e=>e.id===c.targetConceptId);e&&(n.push(e),o.push([...r,e.id]),l[e.id]=c.description,this.traverseConceptNetwork(e,t,s,i+1,[...r,e.id],a,n,o,l))}}}generateFoundationFirstSequence(e){const t=e.concepts.sort((e,t)=>e.level!==t.level?e.level-t.level:e.prerequisites.length-t.prerequisites.length).map(e=>e.id);return{id:"foundation_first",name:"Foundation First",description:"Start with fundamental concepts and build systematically",concepts:t,estimatedTime:45*t.length,difficulty:"beginner",prerequisites:[],learningObjectives:["Build strong conceptual foundation","Ensure no knowledge gaps"],rationale:"Ensures solid understanding of basics before advancing"}}generateApplicationDrivenSequence(e){const t=e.concepts.filter(e=>e.name.toLowerCase().includes("application")||e.name.toLowerCase().includes("practice")||e.unlocks.length>2).sort((e,t)=>t.unlocks.length-e.unlocks.length).map(e=>e.id);return{id:"application_driven",name:"Application Driven",description:"Focus on practical applications and real-world uses",concepts:t,estimatedTime:50*t.length,difficulty:"intermediate",prerequisites:["basic_understanding"],learningObjectives:["Apply knowledge practically","See real-world relevance"],rationale:"Motivates learning through immediate practical value"}}generateSpiralSequence(e){const t=e.criticalPath,s=[];return s.push(...t.map(e=>`${e}_basic`)),s.push(...t.map(e=>`${e}_intermediate`)),s.push(...t.map(e=>`${e}_advanced`)),{id:"spiral_learning",name:"Spiral Learning",description:"Revisit concepts at increasing levels of complexity",concepts:s,estimatedTime:30*s.length,difficulty:"intermediate",prerequisites:[],learningObjectives:["Deepen understanding gradually","Make connections between concepts"],rationale:"Builds understanding through repetition and increasing complexity"}}generateMasteryBasedSequence(e){const t=this.chunkConcepts(e.concepts,3).flat().map(e=>e.id);return{id:"mastery_based",name:"Mastery Based",description:"Master small groups of concepts before moving forward",concepts:t,estimatedTime:60*t.length,difficulty:"advanced",prerequisites:["intermediate_understanding"],learningObjectives:["Achieve deep mastery","Ensure retention"],rationale:"Ensures thorough understanding before progression"}}chunkConcepts(e,t){const s=[];for(let i=0;i<e.length;i+=t)s.push(e.slice(i,i+t));return s}buildDependencyGraph(e,t){const s={};return e.forEach(i=>{const r=t.concepts.find(e=>e.id===i);r&&(s[i]=r.prerequisites.filter(t=>e.includes(t)))}),s}topologicalSort(e){const t=new Set,s=[],i=r=>{if(t.has(r))return;t.add(r);(e[r]||[]).forEach(e=>i(e)),s.push(r)};return Object.keys(e).forEach(e=>i(e)),s}optimizeForLearning(e,t,s){return e.sort((e,s)=>{const i=t[e]||0,r=t[s]||0;return(r>0&&r<.6?1:0)-(i>0&&i<.6?1:0)})}explainOrdering(e,t,s){return e.map((e,i)=>{const r=t.concepts.find(t=>t.id===e),a=s[e]||0;return 0===i?`Starting with ${null==r?void 0:r.name} as it has strong foundations`:a>.3?`Building on your existing knowledge of ${null==r?void 0:r.name}`:`${null==r?void 0:r.name} builds logically on previous concepts`})}generateDifficultyBasedOrder(e,t){return e.sort((e,s)=>{const i=t.concepts.find(t=>t.id===e),r=t.concepts.find(e=>e.id===s);return((null==i?void 0:i.level)||0)-((null==r?void 0:r.level)||0)})}generateInterestBasedOrder(e,t){return e.sort((e,s)=>{const i=t.concepts.find(t=>t.id===e),r=t.concepts.find(e=>e.id===s);return((null==r?void 0:r.connections.length)||0)-((null==i?void 0:i.connections.length)||0)})}};function eP({concept:e,topicTitle:t,onClose:i,onNavigateToSubtopic:r,surroundingContent:a,userAssessment:n}){var l,c;const{topic:d}=hE(),{data:u}=Vu(),[h,p]=Ct.useState({explanation:null,relatedConcepts:[],recommendations:[],prerequisites:null,isLoading:!0,error:null,activeTab:"explanation"});Ct.useEffect(()=>{(async()=>{if(d){p(e=>({...e,isLoading:!0,error:null}));try{const s=n||{knowledgeLevel:3,learningStyles:["textual"],startingPoint:"intermediate",preferences:{difficultyPreference:"moderate",contentDepth:"detailed",pacePreference:"moderate"}},i=a?await ZR.explainConceptInContext(e,a,d,s):await ZR.explainConcept(e,d,s),r=await ZR.getRelatedConcepts(e,d),o=["basic concepts","fundamental principles"],l=await ZR.checkPrerequisites(e,d,o);let c=[];try{await JR.initializeNetwork(d);const t={currentConcept:e,userMastery:{[e]:.5},learningGoals:["understand concepts","practical application"],timeAvailable:60,preferredDifficulty:"same"},s=JR.findNextConcepts(d.id,t,3);c=s.recommendations}catch(t){}p(e=>({...e,explanation:i,relatedConcepts:r,recommendations:c,prerequisites:l,isLoading:!1}))}catch(t){p(e=>({...e,error:"Failed to load concept explanation",isLoading:!1}))}}})()},[e,t,d,a,n]);const m=e=>{p(t=>({...t,activeTab:e}))},f=e=>{null==r||r(e)};return h.isLoading?s.jsxs(Vy,{className:"border-primary/20 bg-primary/5",children:[s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qy,{className:"flex items-center",children:[s.jsx(ee,{className:"w-5 h-5 text-primary mr-2 animate-pulse"}),"Analyzing concept: ",e]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:i,children:s.jsx(o,{className:"w-4 h-4"})})]})}),s.jsx($y,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),s.jsx("div",{className:"h-20 bg-muted rounded"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-16"}),s.jsx("div",{className:"h-8 bg-muted rounded w-20"}),s.jsx("div",{className:"h-8 bg-muted rounded w-18"})]})]})})})]}):h.error?s.jsxs(Vy,{className:"border-red-200 bg-red-50",children:[s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qy,{className:"flex items-center text-red-800",children:[s.jsx(Y,{className:"w-5 h-5 mr-2"}),"Failed to load concept"]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:i,children:s.jsx(o,{className:"w-4 h-4"})})]})}),s.jsxs($y,{children:[s.jsx(ej,{children:s.jsx(tj,{children:h.error})}),s.jsx("div",{className:"mt-4",children:s.jsx(cw,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})})]})]}):h.explanation?s.jsxs(Vy,{className:"border-primary/20 bg-primary/5 max-w-4xl",children:[s.jsxs(Uy,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(qy,{className:"flex items-center",children:[s.jsx(ee,{className:"w-5 h-5 text-primary mr-2"}),e]}),s.jsxs(Gy,{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{children:"AI-powered explanation"}),s.jsx(Dw,{className:(e=>{switch(e){case"beginner":return"bg-green-100 text-green-800 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(h.explanation.difficulty),children:h.explanation.difficulty}),h.explanation.estimatedReadTime&&s.jsxs(Dw,{variant:"outline",className:"flex items-center",children:[s.jsx(ie,{className:"w-3 h-3 mr-1"}),h.explanation.estimatedReadTime," min read"]})]})]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:i,children:s.jsx(o,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex space-x-1 mt-4",children:[s.jsx(cw,{variant:"explanation"===h.activeTab?"default":"ghost",size:"sm",onClick:()=>m("explanation"),children:"Explanation"}),s.jsx(cw,{variant:"examples"===h.activeTab?"default":"ghost",size:"sm",onClick:()=>m("examples"),children:"Examples"}),s.jsxs(cw,{variant:"related"===h.activeTab?"default":"ghost",size:"sm",onClick:()=>m("related"),children:["Related (",h.relatedConcepts.length,")"]}),h.prerequisites&&h.prerequisites.prerequisites.length>0&&s.jsxs(cw,{variant:"prerequisites"===h.activeTab?"default":"ghost",size:"sm",onClick:()=>m("prerequisites"),className:(null==(l=h.prerequisites)?void 0:l.readyToLearn)?"":"text-amber-600",children:["Prerequisites",!(null==(c=h.prerequisites)?void 0:c.readyToLearn)&&s.jsx(Y,{className:"w-3 h-3 ml-1"})]})]})]}),s.jsxs($y,{className:"space-y-6",children:["explanation"===h.activeTab&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Definition"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:h.explanation.definition})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Simple Explanation"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:h.explanation.simpleExplanation})]}),h.explanation.detailedExplanation!==h.explanation.simpleExplanation&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Detailed Explanation"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:h.explanation.detailedExplanation})]}),h.explanation.visualDescriptions.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Visual Understanding"}),s.jsx("ul",{className:"space-y-2",children:h.explanation.visualDescriptions.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-2 mr-2 flex-shrink-0"}),e]},t))})]}),h.explanation.commonMisconceptions.length>0&&s.jsxs(ej,{children:[s.jsx(Y,{className:"h-4 w-4"}),s.jsxs(tj,{children:[s.jsx("div",{className:"font-medium mb-1",children:"Common Misconceptions:"}),s.jsx("ul",{className:"space-y-1",children:h.explanation.commonMisconceptions.map((e,t)=>s.jsxs("li",{className:"text-sm",children:["• ",e]},t))})]})]})]}),"examples"===h.activeTab&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[s.jsx(Z,{className:"w-4 h-4 mr-2"}),"Examples and Applications"]}),s.jsxs("div",{className:"space-y-4",children:[h.explanation.examples.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Examples:"}),s.jsx("ul",{className:"space-y-2",children:h.explanation.examples.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mt-2 mr-2 flex-shrink-0"}),e]},t))})]}),h.explanation.analogies.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Analogies:"}),s.jsx("ul",{className:"space-y-2",children:h.explanation.analogies.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 mr-2 flex-shrink-0"}),e]},t))})]}),h.explanation.applications.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Real-world Applications:"}),s.jsx("ul",{className:"space-y-2",children:h.explanation.applications.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 mt-2 mr-2 flex-shrink-0"}),e]},t))})]})]})]})}),"related"===h.activeTab&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Related Concepts"}),s.jsx("div",{className:"space-y-3",children:h.relatedConcepts.length>0?h.relatedConcepts.map((e,t)=>s.jsx(Vy,{className:"p-3 cursor-pointer hover:bg-muted/50",onClick:()=>f(e.name),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:e.name}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.description}),s.jsx(Dw,{variant:"outline",className:"mt-2 text-xs",children:e.relationship.replace(/_/g," ")})]}),s.jsx(X,{className:"w-4 h-4 text-muted-foreground"})]})},t)):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No related concepts found."})}),h.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Recommended Next Steps:"}),s.jsx("div",{className:"space-y-2",children:h.recommendations.map((e,t)=>s.jsxs(cw,{variant:"ghost",size:"sm",className:"w-full justify-between text-left h-auto p-3",onClick:()=>f(e.name),children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:e.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Based on your learning progress"})]}),s.jsx(X,{className:"w-4 h-4"})]},t))})]})]}),"prerequisites"===h.activeTab&&h.prerequisites&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:["Prerequisites",!h.prerequisites.readyToLearn&&s.jsx(Y,{className:"w-4 h-4 ml-2 text-amber-500"})]}),h.prerequisites.readyToLearn?s.jsx(ej,{className:"border-green-200 bg-green-50",children:s.jsx(tj,{children:"✅ You have the necessary background to understand this concept!"})}):s.jsx(ej,{className:"border-amber-200 bg-amber-50",children:s.jsxs(tj,{children:[s.jsx("div",{className:"font-medium mb-2",children:"Missing Prerequisites:"}),s.jsx("ul",{className:"space-y-1",children:h.prerequisites.missing.map((e,t)=>s.jsxs("li",{className:"text-sm",children:["• ",e]},t))})]})}),h.prerequisites.prerequisites.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"All Prerequisites:"}),s.jsx("ul",{className:"space-y-1",children:h.prerequisites.prerequisites.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-2 mr-2 flex-shrink-0"}),e]},t))})]}),h.prerequisites.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Recommendations:"}),s.jsx("ul",{className:"space-y-1",children:h.prerequisites.recommendations.map((e,t)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 mt-2 mr-2 flex-shrink-0"}),e]},t))})]})]})}),s.jsxs("div",{className:"flex space-x-2 pt-4 border-t",children:[s.jsx(cw,{variant:"outline",size:"sm",onClick:i,children:"Close"}),s.jsx(cw,{size:"sm",onClick:()=>null==r?void 0:r(e),children:"Learn More About This"}),"related"===h.activeTab&&h.relatedConcepts.length>0&&s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>f(h.relatedConcepts[0].name),children:"Explore Related"})]})]})]}):null}function tP(){const{topic:e,isLoading:t,userProgress:i,refreshTopic:r}=hE(),{data:a}=Vu(),[n,o]=Ct.useState("assessment"),[l,c]=Ct.useState(null),[d,u]=Ct.useState(null),[h,p]=Ct.useState(!1),[m,f]=Ct.useState(null),[g,x]=Ct.useState(0);Ct.useEffect(()=>{if((null==i?void 0:i.preferences)&&Object.keys(i.preferences).length>0){o("learning");const e=i.preferences;e.assessment&&c(e.assessment),e.selectedPath&&u(e.selectedPath)}},[i]);const b=async t=>{if(e&&a){p(!0);try{const s={assessment:t,completedAt:(new Date).toISOString(),knowledgeLevel:t.knowledgeLevel,learningStyles:t.learningStyles,startingPoint:t.startingPoint,...t.preferences};await au({topicId:e.id,preferences:s}),c(t),o("recommendation"),r()}catch(s){}finally{p(!1)}}},v=async t=>{if(e&&a&&l){p(!0);try{let s=t;const a={...(null==i?void 0:i.preferences)||{},selectedPath:s,pathStartedAt:(new Date).toISOString()};await au({topicId:e.id,preferences:a}),u(s),o("learning"),r()}catch(s){}finally{p(!1)}}},y=()=>{f(null)};return t?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),s.jsx("div",{className:"h-32 bg-muted rounded"})]})}):e?"assessment"===n?s.jsx("div",{className:"space-y-6",children:s.jsx(GE,{onComplete:b,isLoading:h})}):"recommendation"===n&&l?s.jsx("div",{className:"space-y-6",children:s.jsx($E,{assessment:l,onStartLearning:v,isLoading:h})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(qy,{className:"flex items-center font-platform",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-success mr-3"}),"Your Learning Journey"]}),s.jsx(Gy,{children:d?`Following: ${d.title}`:"Personalized learning experience"})]}),s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>{o("assessment"),c(null),u(null),f(null),x(0)},children:"Retake Assessment"})]})}),s.jsx($y,{children:s.jsxs("div",{className:"space-y-4",children:[l&&s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(Dw,{variant:"secondary",className:"font-platform",children:["Level: ",l.knowledgeLevel<=2?"Beginner":l.knowledgeLevel<=3?"Intermediate":"Advanced"]}),s.jsxs(Dw,{variant:"outline",className:"font-platform",children:["Styles: ",l.learningStyles.join(", ")]}),s.jsxs(Dw,{variant:"outline",className:"font-platform",children:["Pace: ",l.preferences.pacePreference]})]}),g>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm font-platform",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round(g),"%"]})]}),s.jsx(Zw,{value:g,className:"h-2"})]})]})})]}),d&&s.jsx("div",{className:"lesson-content",children:s.jsx(JE,{topic:{id:e.id,title:e.title,summary:e.summary||void 0},assessment:l,selectedPath:d,onProgressUpdate:async t=>{if(x(t),e&&t>0)try{const s=Math.floor(.5*t);await au({topicId:e.id,timeSpent:s,completed:t>=100})}catch(s){}},onConceptExpand:e=>{f(e)}})}),s.jsx(FS,{open:!!m,onOpenChange:()=>y(),children:s.jsx(XS,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:m&&s.jsx(eP,{concept:m,topicTitle:e.title,onClose:y,onNavigateToSubtopic:e=>{}})})})]}):s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Topic not found"})})})}function sP({topic:e,path:t,level:i,isSelected:r,isExpanded:a,selectedTopicPath:n,expandedNodes:o,onToggleExpand:l,onSelect:c,onGenerateSubtopics:d,isGenerating:u,searchQuery:h}){var p,m,f;const g=e.children&&e.children.length>0,x=g||i<3&&d,b=(null==(p=e.userProgress)?void 0:p.completed)||!1,v=e.userProgress&&e.userProgress.timeSpent>0,y=(null==(m=e.userProgress)?void 0:m.bookmarks)&&e.userProgress.bookmarks.length>0,w=(e,t)=>{if(!t)return e;const i=new RegExp(`(${t})`,"gi");return e.split(i).map((e,t)=>i.test(e)?s.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:e},t):e)};return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`\n          flex items-center gap-2 p-2 rounded-lg border-l-2 cursor-pointer transition-all\n          ${b?"border-l-green-500 bg-green-50 dark:bg-green-950":v?"border-l-blue-500 bg-blue-50 dark:bg-blue-950":"border-l-muted bg-background"}\n          ${r?"ring-2 ring-primary ring-offset-2":"hover:bg-muted/50"}\n        `,style:{marginLeft:20*i+"px"},onClick:()=>c(e,t),children:[x&&s.jsx(cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:t=>{t.stopPropagation(),g?l(e.id):d&&!u&&d(e.id)},disabled:u,children:g?a?s.jsx(O,{className:"w-4 h-4"}):s.jsx(R,{className:"w-4 h-4"}):s.jsx(R,{className:"w-4 h-4 opacity-50"})}),s.jsx("div",{className:"flex-shrink-0",children:b?s.jsx(W,{className:"w-4 h-4 text-green-500"}):v?s.jsx(ie,{className:"w-4 h-4 text-blue-500"}):s.jsx(Z,{className:"w-4 h-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm truncate",children:w(e.title,h||"")}),e.summary&&s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:w(e.summary,h||"")})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[y&&s.jsx(We,{className:"w-3 h-3 text-yellow-500"}),(null==(f=e.userProgress)?void 0:f.timeSpent)&&e.userProgress.timeSpent>0&&s.jsxs(Dw,{variant:"secondary",className:"text-xs",children:[Math.round(e.userProgress.timeSpent/60),"m"]}),g&&s.jsx(Dw,{variant:"outline",className:"text-xs",children:e.children.length})]})]}),g&&a&&s.jsx("div",{className:"space-y-1",children:e.children.map(e=>{const r=[...t,e.id],a=n.length>0&&n[n.length-1]===e.id&&n.slice(0,-1).join("/")===t.join("/");return s.jsx(sP,{topic:e,path:r,level:i+1,isSelected:a,isExpanded:o.has(e.id),selectedTopicPath:n,expandedNodes:o,onToggleExpand:l,onSelect:c,onGenerateSubtopics:d,isGenerating:u,searchQuery:h},e.id)})}),!g&&i<3&&d&&a&&s.jsx("div",{style:{marginLeft:20*(i+1)+"px"},children:s.jsx(cw,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:()=>d(e.id),disabled:u,children:u?"Generating...":"Generate Subtopics"})})]})}function iP({topics:e,selectedTopicPath:t,onTopicSelect:i,onGenerateSubtopics:r,expandedNodes:a,onToggleExpand:n,isGenerating:o=!1,searchQuery:l="",onSearchChange:c,compact:d=!1}){const[u,h]=Ct.useState(l),p=Ct.useMemo(()=>{if(!l)return e;const t=l.toLowerCase().split(" ").filter(e=>e.length>0),s=e=>e.reduce((e,i)=>{var r,a,o;const l=[i.title,i.summary||"",i.description||"",...(null==(r=i.metadata)?void 0:r.tags)||[]].join(" ").toLowerCase(),c=t.every(e=>l.includes(e)),d=(null==(o=null==(a=i.metadata)?void 0:a.contentSections)?void 0:o.some(e=>t.some(t=>e.toLowerCase().includes(t))))||!1,u=s(i.children||[]);return(c||d||u.length>0)&&(e.push({...i,children:u}),(u.length>0||d)&&n(i.id)),e},[]);return s(e)},[e,l]),m=n,f=(()=>{const t=e=>e.reduce((e,s)=>{var i;const r=t(s.children||[]);return{total:e.total+1+r.total,completed:e.completed+((null==(i=s.userProgress)?void 0:i.completed)?1:0)+r.completed,inProgress:e.inProgress+(s.userProgress&&s.userProgress.timeSpent>0&&!s.userProgress.completed?1:0)+r.inProgress}},{total:0,completed:0,inProgress:0});return t(e)})();return d?s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"space-y-1 overflow-y-auto",style:{maxHeight:"calc(100vh - 300px)"},children:p.length>0?p.map(e=>{const n=[e.id],c=t.length>0&&t[0]===e.id&&1===t.length;return s.jsx(sP,{topic:e,path:n,level:0,isSelected:c,isExpanded:a.has(e.id),selectedTopicPath:t,expandedNodes:a,onToggleExpand:m,onSelect:i,onGenerateSubtopics:r,isGenerating:o,searchQuery:l},e.id)}):l?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Oe,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-xs",children:"No matches found"})]}):s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Z,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-xs",children:"No topics available"})]})})}):s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsxs(qy,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{className:"w-5 h-5"}),"Topic Structure"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Dw,{variant:"secondary",children:[f.completed,"/",f.total," completed"]}),f.inProgress>0&&s.jsxs(Dw,{variant:"outline",children:[f.inProgress," in progress"]})]})]})}),s.jsxs($y,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Sj,{placeholder:"Search topics...",value:u,onChange:e=>{return t=e.target.value,h(t),void(null==c||c(t));var t},className:"pl-10"})]}),s.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:p.length>0?p.map(e=>{const n=[e.id],c=t.length>0&&t[0]===e.id&&1===t.length;return s.jsx(sP,{topic:e,path:n,level:0,isSelected:c,isExpanded:a.has(e.id),selectedTopicPath:t,expandedNodes:a,onToggleExpand:m,onSelect:i,onGenerateSubtopics:r,isGenerating:o,searchQuery:l},e.id)}):u?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Oe,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsxs("p",{children:['No topics found matching "',u,'"']})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No topics available"})]})}),e.length>0&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>{const t=e=>{e.forEach(e=>{a.has(e.id)||n(e.id),t(e.children||[])})};t(e)},children:"Expand All"}),s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>{a.forEach(e=>{n(e)})},children:"Collapse All"})]})]})]})}function rP({topics:e,selectedTopicId:t,selectedTopicPath:i,onTopicSelect:r,onGenerateSubtopics:a,isGenerating:n=!1,searchQuery:o="",onSearchChange:l,compact:c=!1,autoExpandSelected:d=!0,persistExpansion:u=!0}){const h=Tt.useMemo(()=>{if(i)return i;if(t){const s=(e,t,i=[])=>{for(const r of e){const e=[...i,r.id];if(r.id===t)return e;if(r.children&&r.children.length>0){const i=s(r.children,t,e);if(i)return i}}return null};return s(e,t)||[]}return[]},[i,t,e]),{expandedNodes:p,onToggleExpand:m,ensurePathExpanded:f}=function({topics:e,selectedTopicPath:t=[],autoExpandSelected:s=!0,persistExpansion:i=!0}){const[r,a]=Ct.useState(new Set),n=Ct.useCallback(e=>{a(t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},[]),o=Ct.useCallback(e=>{0!==e.length&&a(t=>{const s=new Set(t);for(let i=0;i<e.length-1;i++)s.add(e[i]);return s})},[]),l=Ct.useCallback(e=>{0!==e.length&&a(t=>{const s=new Set(t);let i=!1;for(let r=0;r<e.length-1;r++)s.has(e[r])||(s.add(e[r]),i=!0);return i?s:t})},[]),c=Ct.useCallback(()=>{const t=new Set,s=e=>{e.forEach(e=>{t.add(e.id),e.children&&e.children.length>0&&s(e.children)})};s(e),a(t)},[e]),d=Ct.useCallback(()=>{a(new Set)},[]);return Ct.useEffect(()=>{s&&t.length>0&&l(t)},[t,s,l]),Ct.useEffect(()=>{t.length>1&&l(t)},[t,l]),{expandedNodes:r,onToggleExpand:n,expandPath:o,expandAll:c,collapseAll:d,ensurePathExpanded:l}}({topics:e,selectedTopicPath:h,autoExpandSelected:d,persistExpansion:u}),g=Tt.useCallback((e,t)=>{f(t),r.length>1?r(e,t):r(e)},[r,f]);return s.jsx(iP,{topics:e,selectedTopicPath:h,onTopicSelect:g,onGenerateSubtopics:a,expandedNodes:p,onToggleExpand:m,isGenerating:n,searchQuery:o,onSearchChange:l,compact:c})}function aP({content:e,topicTitle:t,sources:i=[],bookmarks:r,onToggleBookmark:a,onMarkAsRead:n,isBookmarked:o,isRead:l}){const[c,d]=Ct.useState([]),[u,h]=Ct.useState(""),[p,m]=Ct.useState(""),[f,g]=Ct.useState(""),x=Ct.useRef(null);Ct.useMemo(()=>{if(!f)return c;const e=f.toLowerCase();return c.filter(t=>t.title.toLowerCase().includes(e))},[c,f]),Ct.useEffect(()=>{if(!e)return;const t=/^(#{1,6})\s+(.+)$/gm,s=[];let i;for(;null!==(i=t.exec(e));){const e=i[1].length,t=i[2].trim(),r=t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");s.push({id:r,title:t,level:e,isBookmarked:o(r),isRead:l(r)})}d(s)},[e,r,o,l]),Ct.useEffect(()=>{const e=()=>{if(!x.current)return;const e=x.current.querySelectorAll("h1, h2, h3, h4, h5, h6"),t=window.scrollY+100;for(let s=e.length-1;s>=0;s--){const i=e[s];if(i.offsetTop<=t){h(i.id);break}}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const b=e=>{const t=e.split(/\[Source (\d+)\]/g),r=[];for(let a=0;a<t.length;a++)if(a%2==0)t[a]&&r.push(v(t[a]));else{const e=parseInt(t[a]),n=i[e-1];n&&r.push(s.jsx(lP,{source:n,sourceNumber:e},`source-${e}`))}return s.jsx(s.Fragment,{children:r})},v=e=>(e=(e=(e=(e=e.replace(/`([^`]+)`/g,'<code class="bg-muted px-1 py-0.5 rounded text-xs font-mono">$1</code>')).replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")).replace(/\*([^*]+)\*/g,"<em>$1</em>")).replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">$1 <ExternalLink className="inline w-3 h-3" /></a>'),s.jsx("span",{dangerouslySetInnerHTML:{__html:e}})),y=async e=>{try{await navigator.clipboard.writeText(e),m(e),setTimeout(()=>m(""),2e3)}catch(t){}};return s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"w-full",children:s.jsx("div",{ref:x,className:"prose prose-sm max-w-none",children:e?(e=>{var t;const i=e.split("\n"),r=[];let c="",d=!1,u="";for(let h=0;h<i.length;h++){const e=i[h];if(e.startsWith("```"))d?(r.push(s.jsx(oP,{code:c,language:u,onCopy:()=>y(c),copied:p===c},h)),c="",d=!1,u=""):(d=!0,u=e.slice(3).trim(),c="");else if(d)c+=e+"\n";else{if(e.startsWith("#")){const i=(null==(t=e.match(/^#+/))?void 0:t[0].length)||1,c=e.replace(/^#+\s*/,""),d=c.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");r.push(s.jsx(nP,{level:i,id:d,text:c,isBookmarked:o(d),isRead:l(d),onToggleBookmark:()=>a(d),onMarkAsRead:()=>n(d)},h));continue}e.trim()&&r.push(s.jsx("p",{className:"mb-4 text-sm leading-relaxed",children:b(e)},h)),!e.trim()&&c&&r.push(s.jsx("br",{},h))}}return r})(e):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Ne,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No content available yet."}),s.jsx("p",{className:"text-xs mt-2",children:"Content will be generated based on the research for this topic."})]})})})})}function nP({level:e,id:t,text:i,isBookmarked:r,isRead:a,onToggleBookmark:n,onMarkAsRead:o}){const l=`h${e}`;return s.jsx("div",{className:"group relative",children:s.jsxs(l,{id:t,className:`\n          ${{1:"text-2xl font-bold",2:"text-xl font-semibold",3:"text-lg font-semibold",4:"text-base font-medium",5:"text-sm font-medium",6:"text-sm font-medium"}[e]} \n          mb-4 mt-8 scroll-mt-20 flex items-center gap-2\n          ${a?"line-through opacity-60":""}\n        `,children:[i,s.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1",children:[s.jsx(cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:n,children:r?s.jsx(Ye,{className:"w-3 h-3 text-yellow-500"}):s.jsx(We,{className:"w-3 h-3"})}),s.jsx(cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}${window.location.pathname}#${t}`)},children:s.jsx(Ve,{className:"w-3 h-3"})})]})]})})}function oP({code:e,language:t,onCopy:i,copied:r}){return s.jsxs("div",{className:"relative mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-muted px-4 py-2 rounded-t-lg",children:[s.jsx(Dw,{variant:"secondary",className:"text-xs",children:t||"text"}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:i,className:"h-6 w-6 p-0",children:r?s.jsx(P,{className:"w-3 h-3 text-green-500"}):s.jsx(Xe,{className:"w-3 h-3"})})]}),s.jsx("pre",{className:"bg-muted/50 p-4 rounded-b-lg overflow-x-auto",children:s.jsx("code",{className:"text-xs font-mono",children:e.trim()})})]})}function lP({source:e,sourceNumber:t}){return s.jsxs(Dw,{variant:"secondary",className:`\n        inline-flex items-center gap-1 text-[10px] px-2 py-0.5 ml-1\n        ${e.url?"cursor-pointer hover:bg-primary/10 hover:text-primary":""}\n      `,onClick:e.url?()=>{e.url&&window.open(e.url,"_blank","noopener,noreferrer")}:void 0,title:`${e.source}: ${e.title}${e.url?" (Click to visit)":""}`,children:[s.jsxs("span",{children:["Source ",t]}),e.url&&s.jsx(Ue,{className:"w-2 h-2"})]})}function cP(){return s.jsxs("div",{className:"flex h-[calc(100vh-200px)] bg-background",children:[s.jsxs("div",{className:"w-80 flex-shrink-0 border-r bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-24 h-4 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"w-8 h-8 bg-muted rounded animate-pulse"})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"w-full h-9 bg-muted rounded animate-pulse"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-16 h-6 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-20 h-6 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,t)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsx("div",{className:"w-4 h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-4 h-4 bg-muted rounded animate-pulse"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("div",{className:"w-full h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-3/4 h-3 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"w-8 h-4 bg-muted rounded animate-pulse"})]}),t<3&&s.jsx("div",{className:"ml-6 space-y-1",children:Array.from({length:2}).map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsx("div",{className:"w-4 h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-4 h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full h-3 bg-muted rounded animate-pulse"})})]},t))})]},t))})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-card",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-32 h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-1 h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-48 h-3 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"w-24 h-8 bg-muted rounded animate-pulse"})]}),s.jsx("div",{className:"flex-1 p-6",children:s.jsx(Vy,{className:"w-full max-w-md mx-auto",children:s.jsxs($y,{className:"p-8 text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-muted rounded-full animate-pulse"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-32 h-6 bg-muted rounded animate-pulse mx-auto"}),s.jsx("div",{className:"w-48 h-4 bg-muted rounded animate-pulse mx-auto"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-full h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"w-3/4 h-4 bg-muted rounded animate-pulse mx-auto"})]}),s.jsx("div",{className:"w-full h-10 bg-muted rounded animate-pulse"})]})})})]})]})}function dP(e){const t=[];e.toLowerCase().includes("programming")||e.toLowerCase().includes("coding")?t.push("Syntax and Structure","Data Types and Variables","Control Flow","Functions and Methods","Error Handling","Testing and Debugging"):e.toLowerCase().includes("machine learning")||e.toLowerCase().includes("ai")?t.push("Supervised Learning","Unsupervised Learning","Neural Networks","Model Training","Feature Engineering","Model Evaluation"):e.toLowerCase().includes("web")||e.toLowerCase().includes("frontend")?t.push("HTML Structure","CSS Styling","JavaScript Functionality","Responsive Design","Performance Optimization","Accessibility"):t.push(`Introduction to ${e}`,`Core Principles of ${e}`,`${e} in Practice`,`Advanced ${e} Techniques`,`${e} Case Studies`,`Future of ${e}`);const s=[...t,"Fundamentals","Advanced Concepts","Practical Applications","Best Practices","Common Challenges","Tools and Resources"];return s.slice(0,Math.min(6,s.length))}function uP(e={}){const{topicSlug:t,autoStart:s=!1,maxDepth:i=3,userContext:r={level:"intermediate",interests:[]}}=e,[a,n]=Ct.useState(!1),[o,l]=Ct.useState(0),[c,d]=Ct.useState(null),[u,h]=Ct.useState(null),[p,m]=Ct.useState(null),f=Ct.useCallback(async(e={})=>{if(t){if(!a){n(!0),d(null),l(0);try{let s=e.forceRefresh||!u;if(!s&&u){const e=u.mainTopic.timestamp;let t;if(e instanceof Date?t=e.getTime():"string"==typeof e?t=new Date(e).getTime():(s=!0,t=0),!s){s=(Date.now()-t)/36e5>168}}if(!s)return void n(!1);const a=setInterval(()=>{l(e=>Math.min(e+15*Math.random(),85))},1e3),o=await(async e=>{try{return await lu({topicSlug:e.topicSlug,options:e.options})}catch(c){throw c}})({topicSlug:t,options:{maxDepth:i,forceRefresh:e.forceRefresh,userContext:r}});clearInterval(a),l(100),h(o),o.mainTopic}catch(s){d(s instanceof Error?s.message:"Research failed")}finally{n(!1)}}}else d("No topic slug provided")},[t,i,r,u]);Ct.useEffect(()=>{s&&t&&!u&&!a&&f()},[t,s,u,a,f]);const g=Ct.useCallback(async(e,t)=>{if(!a){n(!0),d(null);try{const s=await(async e=>{try{return await cu({topicId:e.topicId,targetDepth:e.targetDepth,userContext:e.userContext,forceRefresh:e.forceRefresh})}catch(c){throw c}})({topicId:e,targetDepth:t,userContext:r,forceRefresh:!1});m(s.expandedHierarchy)}catch(s){d(s instanceof Error?s.message:"Expansion failed")}finally{n(!1)}}},[a,r]),x=Ct.useCallback(async e=>{if(!a){n(!0),d(null);try{await(async e=>{try{return await du({topicId:e.topicId,userContext:e.userContext,forceRefresh:e.forceRefresh})}catch(c){throw c}})({topicId:e,userContext:r,forceRefresh:!1})}catch(t){d(t instanceof Error?t.message:"Subtopic generation failed")}finally{n(!1)}}},[a,r]),b=Ct.useCallback(async()=>{await f({forceRefresh:!0})},[f]),v=Ct.useCallback(()=>{d(null)},[]),y=Ct.useCallback(e=>{if(!p)return!1;const t=s=>s.id===e?s.children.length>0:s.children.some(e=>t(e));return t(p)},[p]),w=Ct.useCallback(()=>{if(!u&&!p)return{totalTopics:0,completedTopics:0,pendingTopics:0};if(u)return{totalTopics:u.totalTopicsProcessed,completedTopics:u.totalTopicsProcessed-u.cacheHits,pendingTopics:0};if(p){const e=t=>[t,...t.children.flatMap(t=>e(t))],t=e(p),s=t.filter(e=>"completed"===e.researchStatus).length,i=t.filter(e=>"pending"===e.researchStatus).length;return{totalTopics:t.length,completedTopics:s,pendingTopics:i}}return{totalTopics:0,completedTopics:0,pendingTopics:0}},[u,p]);return{isResearching:a,researchProgress:o,error:c,researchResult:u,hierarchy:p,startResearch:f,expandDepth:g,generateTopicSubtopics:x,refreshResearch:b,clearError:v,isTopicExpanded:y,getResearchStats:w}}const hP=e=>[/network/i,/timeout/i,/fetch/i,/5\d\d/,/rate limit/i,/temporarily unavailable/i].some(t=>t.test(e.message)||t.test(e.name)),pP=(e,t)=>e.message.includes("401")||e.message.includes("unauthorized")?"You need to be logged in to perform this action":e.message.includes("403")||e.message.includes("forbidden")?"You don't have permission to access this content":e.message.includes("404")||e.message.includes("not found")?"The requested content could not be found":e.message.includes("429")||e.message.includes("rate limit")?"Too many requests. Please wait a moment and try again":e.message.includes("500")||e.message.includes("internal server")?"Server error occurred. Please try again later":e.message.includes("network")||e.message.includes("fetch")?"Network connection error. Please check your internet connection":e.message&&e.message.length<100&&!e.message.includes("Error:")?e.message:{selection:"Failed to select topic",content_generation:"Failed to generate content",navigation:"Navigation error occurred",api:"API request failed"}[t];const mP={maxAttempts:3,baseDelay:1e3,maxDelay:1e4,backoffFactor:2,retryCondition:e=>[/network/i,/timeout/i,/fetch/i,/5\d\d/,/rate limit/i,/temporarily unavailable/i,/ECONNRESET/i,/ENOTFOUND/i,/ETIMEDOUT/i].some(t=>t.test(e.message)||t.test(e.name)),onRetry:()=>{}};const fP={contentGeneration:{maxAttempts:3,baseDelay:2e3,maxDelay:15e3,backoffFactor:2,retryCondition:e=>!e.message.includes("401")&&!e.message.includes("403")&&(!e.message.includes("400")&&!e.message.includes("404")&&mP.retryCondition(e))},topicSelection:{maxAttempts:2,baseDelay:500,maxDelay:2e3,backoffFactor:2},apiRequest:{maxAttempts:3,baseDelay:1e3,maxDelay:8e3,backoffFactor:2}},gP=(e,t)=>{const s=e.split("/").filter(Boolean),i=new URLSearchParams(t),r=s[s.length-1]||"",a=i.get("subtopic");return{topicSlug:r,subtopicPath:a?a.split(",").filter(Boolean):void 0,tab:i.get("tab")||void 0}},xP=(e,t)=>{for(const s of e){if(s.slug===t)return s;const e=xP(s.children||[],t);if(e)return e}return null},bP=(e,t)=>{if(0===t.length)return null;let s=e,i=null;for(const r of t){if(i=s.find(e=>e.id===r||e.slug===r)||null,!i)return null;s=i.children||[]}return i};const vP=new class{constructor(){t(this,"cache",new Map),t(this,"maxSize",50)}get(e){const t=this.cache.get(e);return t&&(t.lastAccessed=new Date,t.accessCount++),t||null}set(e,t,s){this.cache.size>=this.maxSize&&this.evictLeastRecentlyUsed(),this.cache.set(e,{content:t,sources:s,generatedAt:new Date,accessCount:1,lastAccessed:new Date})}clear(){this.cache.clear()}evictLeastRecentlyUsed(){let e=null;for(const[t,s]of this.cache.entries())(!e||s.lastAccessed<e[1].lastAccessed)&&(e=[t,s]);e&&this.cache.delete(e[0])}},yP=(e,t,s)=>{const i=xP(e,t);if(!i)return{isValid:!1,mainTopic:null,targetTopic:null,expandedNodes:[],error:`Topic not found: ${t}`};if(!s||0===s.length)return{isValid:!0,mainTopic:i,targetTopic:i,expandedNodes:[]};const r=bP(e,s);if(!r)return{isValid:!1,mainTopic:i,targetTopic:null,expandedNodes:[],error:`Subtopic not found: ${s.join(" > ")}`};const a=[];let n=e;for(let o=0;o<s.length-1;o++){const e=s[o],t=n.find(t=>t.id===e||t.slug===e);t&&(a.push(t.id),n=t.children||[])}return{isValid:!0,mainTopic:i,targetTopic:r,expandedNodes:a}};function wP(e,t){const s=Et(),i=Rt(),{slug:r}=Ot(),a=function(){const[e,t]=Ct.useState([]),s=Ct.useCallback(t=>t?e.some(e=>e.topicId===t):e.length>0,[e]),i=Ct.useCallback(t=>t?e.find(e=>e.topicId===t)||null:e[0]||null,[e]),r=Ct.useCallback(e=>{t(t=>e?t.filter(t=>t.topicId!==e):[])},[]),a=Ct.useCallback(()=>{t([])},[]),n=Ct.useCallback((e,s)=>{const i={type:s.type,message:pP(e,s.type),topicId:s.topicId,retryable:hP(e),timestamp:new Date,retryCount:0};t(e=>{const t=e.filter(e=>!(e.topicId===s.topicId&&e.type===s.type));return[...t,i]})},[]),o=Ct.useCallback(async(e,s)=>{const a=i(e),n=((null==a?void 0:a.retryCount)||0)+1;try{r(e),await s()}catch(o){const s={type:(null==a?void 0:a.type)||"api",message:pP(o,(null==a?void 0:a.type)||"api"),topicId:e,retryable:hP(o),timestamp:new Date,retryCount:n};throw t(t=>{const i=t.filter(t=>t.topicId!==e);return[...i,s]}),o}},[i,r]);return{errors:e,hasError:s,getError:i,clearError:r,clearAllErrors:a,handleError:n,retryOperation:o}}(),[n,o]=Ct.useState({selectedTopic:null,selectedSubtopic:null,contentPath:[],isGeneratingContent:!1,navigationHistory:[]}),[l,c]=Ct.useState(-1),[d,u]=Ct.useState(new Map),h=Ct.useMemo(()=>((e,t)=>{const s={...e};s.topicSlug&&t.length>0&&xP(t,s.topicSlug);s.subtopicPath&&s.subtopicPath.length>0&&(bP(t,s.subtopicPath)||(s.subtopicPath=void 0));return s.tab&&!["explore","learn","ask","mindmap","quiz","sources"].includes(s.tab)&&(s.tab=void 0),s})(gP(i.pathname,i.search),e),[i.pathname,i.search,e]),p=Ct.useCallback((e,t)=>{for(const s of e){if(s.id===t)return s;const e=p(s.children||[],t);if(e)return e}return null},[]),m=Ct.useCallback((e,t)=>{for(const s of e){if(s.slug===t)return s;const e=m(s.children||[],t);if(e)return e}return null},[]),f=Ct.useCallback(t=>{if(0===t.length)return null;let s=e,i=null;for(const e of t){if(i=s.find(t=>t.id===e||t.slug===e)||null,!i)return null;s=i.children||[]}return i},[e]),g=Ct.useCallback(t=>{const s=[],i=(e,t,r)=>{for(const a of e){const e=[...r,a.id];if(a.id===t)return s.push(...e),!0;if(a.children&&i(a.children,t,e))return!0}return!1};return i(e,t.id,[]),s},[e]),x=Ct.useCallback((e,t,a)=>{if(!r)return;const n={};if(t){const e=g(t);n.subtopicPath=e}else if(e.id!==r&&e.slug!==r){const t=g(e);n.subtopicPath=t}else n.subtopicPath=void 0;const o=((e,t)=>{const s=new URL(e,window.location.origin);if(t.subtopicPath&&t.subtopicPath.length>0){const e=t.subtopicPath.filter(e=>e&&"string"==typeof e).map(e=>encodeURIComponent(e.trim()));e.length>0?s.searchParams.set("subtopic",e.join(",")):s.searchParams.delete("subtopic")}else s.searchParams.delete("subtopic");if(t.tab&&"string"==typeof t.tab){const e=encodeURIComponent(t.tab.trim());s.searchParams.set("tab",e)}else s.searchParams.delete("tab");return s.pathname+s.search})(i.pathname,n);o!==i.pathname+i.search&&s(o,{replace:(null==a?void 0:a.replace)||!1,state:{navigationSource:"topic-navigation",timestamp:Date.now()}})},[r,i.pathname,i.search,s,g]),b=Ct.useCallback((e,t="sidebar")=>{const s={topic:e,timestamp:new Date,path:g(e),source:t};o(t=>{const i=t.navigationHistory.filter(t=>t.topic.id!==e.id),r=[s,...i].slice(0,50);return{...t,navigationHistory:r}}),c(-1)},[g]),v=Ct.useCallback((e,t="sidebar")=>{try{a.clearError(e.id);const s=g(e);o(t=>({...t,selectedTopic:e,selectedSubtopic:null,contentPath:s}));x(e,void 0,{replace:"url"===t}),"url"!==t&&b(e,t),u(s=>new Map(s.set(e.id,()=>Promise.resolve(v(e,t)))))}catch(s){a.handleError(s,{type:"selection",topicId:e.id})}},[g,x,b,a]),y=Ct.useCallback((e,t="sidebar")=>{try{a.clearError(e.id);const s=g(e);o(t=>({...t,selectedSubtopic:e,contentPath:s}));const i="url"===t;x(n.selectedTopic||e,e,{replace:i}),"url"!==t&&b(e,t),u(s=>new Map(s.set(e.id,()=>Promise.resolve(y(e,t)))))}catch(s){a.handleError(s,{type:"selection",topicId:e.id})}},[n.selectedTopic,g,x,b,a]),w=Ct.useCallback(e=>{try{const t=f(e);if(!t)throw new Error(`Topic not found for path: ${e.join(" > ")}`);e.length>1&&n.selectedTopic?y(t,"breadcrumb"):v(t,"breadcrumb")}catch(t){a.handleError(t,{type:"navigation"})}},[f,v,y,n.selectedTopic,a]),j=Ct.useCallback(async e=>{o(e=>({...e,isGeneratingContent:!0})),a.clearError(e.id);const t=async()=>{const t=(n.selectedSubtopic||e).id;if(vP.get(t))return;const s=await fetch("/api/learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicId:t,options:{userLevel:"intermediate",learningStyle:"textual",contentType:"exploration",maxTokens:4e3,temperature:.7}})});if(!s.ok){const t=await s.json().catch(()=>({})),i=t.error||`HTTP ${s.status}: ${s.statusText}`;if(400===s.status&&t.needsResearch)throw new Error(`No research data available for "${e.title}". Please run research for this topic first.`);throw new Error(i)}const i=await s.json();if(i.error)throw new Error(i.error);if(!i.content)throw new Error("No content received from API");vP.set(t,i.content,i.sources||[])};try{await async function(e,t={}){const s={...mP,...t};let i;for(let a=1;a<=s.maxAttempts;a++)try{return await e()}catch(r){if(i=r,a===s.maxAttempts||!s.retryCondition(i))throw i;const e=Math.min(s.baseDelay*Math.pow(s.backoffFactor,a-1),s.maxDelay)+1e3*Math.random();s.onRetry(a,i),await new Promise(t=>setTimeout(t,e))}throw i}(t,fP.contentGeneration),u(t=>new Map(t.set(e.id,()=>j(e))))}catch(s){throw a.handleError(s,{type:"content_generation",topicId:e.id}),s}finally{o(e=>({...e,isGeneratingContent:!1}))}},[a]),N=Ct.useCallback(e=>vP.get(e),[]),k=Ct.useCallback((e,t,s)=>{vP.set(e,t,s)},[]),S=Ct.useCallback(()=>{vP.clear()},[]),C=Ct.useCallback(e=>{const t=n.selectedSubtopic||n.selectedTopic;return(null==t?void 0:t.id)===e},[n.selectedTopic,n.selectedSubtopic]),A=Ct.useCallback(()=>{const e=n.selectedSubtopic||n.selectedTopic;if(!e)return[];const t=[],s=g(e);for(let i=0;i<s.length;i++){const e=f(s.slice(0,i+1));e&&t.push({title:e.title,path:s.slice(0,i+1),topic:e})}return t},[n.selectedTopic,n.selectedSubtopic,g,f]),T=Ct.useCallback(()=>{const e=n.selectedSubtopic||n.selectedTopic;if(!e)return[];return g(e).slice(0,-1)},[n.selectedTopic,n.selectedSubtopic,g]),E=l<n.navigationHistory.length-1,R=l>0,P=Ct.useCallback(()=>{if(E){const e=l+1,t=n.navigationHistory[e];t&&(c(e),v(t.topic,"breadcrumb"))}},[E,l,n.navigationHistory,v]),I=Ct.useCallback(()=>{if(R){const e=l-1,t=n.navigationHistory[e];t&&(c(e),v(t.topic,"breadcrumb"))}},[R,l,n.navigationHistory,v]);Ct.useEffect(()=>{const t=(e=>{const t=t=>{const s=gP(window.location.pathname,window.location.search);e(s)};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}})(t=>{if(!e.length||!r)return;const s=m(e,r);if(s){if(t.subtopicPath&&t.subtopicPath.length>0){const e=f(t.subtopicPath);if(e)return void o(i=>({...i,selectedTopic:s,selectedSubtopic:e,contentPath:t.subtopicPath||[]}))}o(e=>({...e,selectedTopic:s,selectedSubtopic:null,contentPath:[s.id]}))}});return t},[e,r,f,m]);const L=Ct.useCallback(t=>{var s;if(!r||!e.length)return!1;const i=yP(e,r,t);return i.isValid?!!i.targetTopic&&(i.targetTopic.id===(null==(s=i.mainTopic)?void 0:s.id)?v(i.targetTopic,"url"):(o(e=>({...e,selectedTopic:i.mainTopic,selectedSubtopic:i.targetTopic,contentPath:t})),i.targetTopic&&b(i.targetTopic,"url")),!0):!!i.mainTopic&&(v(i.mainTopic,"url"),!0)},[r,e,v,y,o,b]),M=Ct.useRef(!1),O=Ct.useRef("");Ct.useEffect(()=>{var t,s;if(!e.length||!r)return;const i=`${r}-${(null==(t=h.subtopicPath)?void 0:t.join(","))||"main"}`;if(O.current===i)return;if(O.current=i,h.subtopicPath&&h.subtopicPath.length>0){const t=yP(e,r,h.subtopicPath);if(t.isValid&&t.targetTopic&&t.mainTopic)return o(e=>({...e,selectedTopic:t.mainTopic,selectedSubtopic:t.targetTopic,contentPath:h.subtopicPath||[]})),M.current||b(t.targetTopic,"url"),void(M.current=!0)}const a=m(e,r);a&&(M.current&&(null==(s=n.selectedTopic)?void 0:s.slug)===r||(o(e=>({...e,selectedTopic:a,selectedSubtopic:null,contentPath:[a.id]})),M.current||b(a,"url"),M.current=!0))},[e,r,h.subtopicPath]);const D=Ct.useCallback(()=>gP(i.pathname,i.search),[i.pathname,i.search]),_=Ct.useCallback(t=>r?yP(e,r,t):{isValid:!1,mainTopic:null,targetTopic:null,expandedNodes:[],error:"No topic slug provided"},[e,r]),z=Ct.useCallback(t=>{if(!r)return window.location.href;const s=t||n.selectedSubtopic||n.selectedTopic||void 0;return((e,t,s,i)=>{if(!s||!i)return`${e}/learn/${t}`;const r=(e,t,s=[])=>{for(const i of e){const e=[...s,i.id];if(i.id===t)return e;if(i.children){const s=r(i.children,t,e);if(s)return s}}return null},a=r(i,s.id);if(!a||a.length<=1)return`${e}/learn/${t}`;const n=a.join(",");return`${e}/learn/${t}?subtopic=${encodeURIComponent(n)}`})(window.location.origin,r,s,e)},[r,n.selectedSubtopic,n.selectedTopic,e]),F=Ct.useCallback(async e=>{const t=d.get(e);if(!t)throw new Error("No operation to retry for this topic");await a.retryOperation(e,t)},[d,a]);return{selectedTopic:n.selectedTopic,selectedSubtopic:n.selectedSubtopic,contentPath:n.contentPath,isGeneratingContent:n.isGeneratingContent,navigationHistory:n.navigationHistory,hasError:a.hasError,getError:a.getError,clearError:a.clearError,retryLastOperation:F,selectTopic:v,selectSubtopic:y,navigateToPath:w,generateContentForTopic:j,getTopicContent:N,setTopicContent:k,clearContentCache:S,getTopicByPath:f,isTopicSelected:C,getNavigationBreadcrumbs:A,getRequiredExpandedNodes:T,canNavigateBack:E,canNavigateForward:R,navigateBack:P,navigateForward:I,parseCurrentURL:D,validateDeepLink:_,generateShareableURL:z,handleDeepLink:L}}const jP={beginner:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:Z,label:"Beginner"},intermediate:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:ae,label:"Intermediate"},advanced:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:qe,label:"Advanced"}},NP={1:{label:"Low",color:"text-muted-foreground"},2:{label:"Medium",color:"text-blue-600 dark:text-blue-400"},3:{label:"High",color:"text-orange-600 dark:text-orange-400"},4:{label:"Critical",color:"text-red-600 dark:text-red-400"},5:{label:"Essential",color:"text-purple-600 dark:text-purple-400"}};function kP({subtopics:e,onSubtopicClick:t,selectedSubtopicId:i,isGeneratingContent:r=!1,className:a}){if(0===e.length)return null;const n=e=>{r||t(e.topic)};return s.jsxs("div",{className:Yh("space-y-4",a),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Explore Further"}),s.jsxs(Dw,{variant:"outline",className:"text-xs",children:[e.length," subtopic",1!==e.length?"s":""]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>{const t=jP[e.complexity],a=NP[e.priority]||NP[1],o=t.icon,l=i===e.id,c=r;return s.jsx(Vy,{className:Yh("cursor-pointer transition-all duration-200 hover:shadow-md group","focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2",l&&"ring-2 ring-primary ring-offset-2 shadow-md",c&&"opacity-50 cursor-not-allowed",!e.hasContent&&"border-dashed border-2"),onClick:()=>n(e),onKeyDown:t=>((e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(t))})(t,e),tabIndex:c?-1:0,role:"button","aria-label":`Navigate to ${e.title} subtopic`,"aria-pressed":l,"aria-disabled":c,children:s.jsx($y,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h3",{className:"font-medium text-sm leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:e.title})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(Dw,{variant:"secondary",className:Yh("text-xs",t.color),children:[s.jsx(o,{className:"w-3 h-3 mr-1"}),t.label]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3 leading-relaxed",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:Yh("w-2 h-2 rounded-full",a.color.replace("text-","bg-")),"aria-label":`Priority: ${a.label}`}),s.jsx("span",{className:a.color,children:a.label})]}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(ie,{className:"w-3 h-3"}),s.jsxs("span",{children:[e.estimatedReadTime,"min"]})]})]}),s.jsx(R,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all"})]}),!e.hasContent&&s.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950 px-2 py-1 rounded-md border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Z,{className:"w-3 h-3"}),s.jsx("span",{children:"Click to generate content"})]})}),e.topic.userProgress&&s.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.topic.userProgress.completed?s.jsx(Dw,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Completed"}):e.topic.userProgress.timeSpent>0?s.jsxs(Dw,{variant:"outline",className:"text-xs",children:[Math.round(e.topic.userProgress.timeSpent/60),"m spent"]}):null})]})})},e.id)})}),r&&s.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary border-t-transparent rounded-full"}),s.jsx("span",{children:"Generating content..."})]})})]})}function SP(e){const t=e.metadata||{};return{id:e.id,title:e.title,description:e.summary||e.description||"Explore this subtopic to learn more.",complexity:t.complexity||"beginner",priority:t.priority||1,estimatedReadTime:t.estimatedReadTime||5,hasContent:Boolean(t.hasContent||"completed"===e.status),topic:e}}function CP(e){return e.map(SP)}function AP({currentTopic:e,generateShareableURL:t,validateDeepLink:i,onNavigateToDeepLink:r,className:a=""}){const[n,o]=Ct.useState(!1),[l,c]=Ct.useState(!1),[d,u]=Ct.useState(""),[h,p]=Ct.useState(null),m=t(e),f=Ct.useCallback(async e=>{try{await navigator.clipboard.writeText(e),c(!0),setTimeout(()=>c(!1),2e3)}catch(t){const s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),c(!0),setTimeout(()=>c(!1),2e3)}},[]),g=Ct.useCallback(()=>{if(d.trim())try{const e=new URL(d),t=e.pathname.split("/").filter(Boolean),s=e.searchParams.get("subtopic");if(t.length<2||"learn"!==t[0])return void p({isValid:!1,message:"Invalid URL format. Expected: /learn/{topic-slug}?subtopic=..."});if(!s)return void p({isValid:!0,message:"Valid main topic URL (no subtopic specified)"});const r=s.split(",").filter(Boolean),a=i(r);a.isValid&&a.targetTopic?p({isValid:!0,message:`Valid deep link to: ${a.targetTopic.title}`,topic:a.targetTopic}):p({isValid:!1,message:a.error||"Invalid deep link"})}catch(e){p({isValid:!1,message:"Invalid URL format"})}else p({isValid:!1,message:"Please enter a URL to test"})},[d,i]),x=Ct.useCallback(()=>{if((null==h?void 0:h.isValid)&&r)try{const e=new URL(d).searchParams.get("subtopic");if(e){const t=e.split(",").filter(Boolean);r(t),o(!1)}}catch(e){}},[h,d,r]);return s.jsxs(FS,{open:n,onOpenChange:o,children:[s.jsx(BS,{asChild:!0,children:s.jsxs(cw,{variant:"outline",size:"sm",className:a,children:[s.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Share"]})}),s.jsxs(XS,{className:"sm:max-w-md",children:[s.jsxs(YS,{children:[s.jsx(VS,{children:"Share Topic"}),s.jsx(US,{children:"Share a direct link to this topic or test deep links to subtopics."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(cb,{htmlFor:"current-url",children:"Current Topic URL"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sj,{id:"current-url",value:m,readOnly:!0,className:"flex-1"}),s.jsx(cw,{size:"sm",onClick:()=>f(m),className:"flex-shrink-0",children:l?s.jsx(P,{className:"w-4 h-4"}):s.jsx(Xe,{className:"w-4 h-4"})})]}),e&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Links to: ",e.title]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(cb,{htmlFor:"test-url",children:"Test Deep Link"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sj,{id:"test-url",placeholder:"Paste a topic URL to test...",value:d,onChange:e=>u(e.target.value),className:"flex-1"}),s.jsx(cw,{size:"sm",onClick:g,variant:"outline",children:"Test"})]}),h&&s.jsx(ej,{className:h.isValid?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[h.isValid?s.jsx(P,{className:"w-4 h-4 text-green-600 mt-0.5"}):s.jsx(Y,{className:"w-4 h-4 text-red-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(tj,{className:h.isValid?"text-green-800":"text-red-800",children:h.message}),h.isValid&&h.topic&&r&&s.jsxs(cw,{size:"sm",variant:"outline",onClick:x,className:"mt-2",children:[s.jsx(Z,{className:"w-3 h-3 mr-1"}),"Go to Topic"]})]})]})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Deep Link Format:"}),s.jsx("code",{className:"block p-2 bg-muted rounded text-xs",children:"/learn/topic-slug?subtopic=id1,id2,id3"}),s.jsx("p",{children:"The subtopic parameter contains a comma-separated path of topic IDs leading to the specific subtopic you want to link to."})]})]})]})]})}function TP({error:e,onRetry:t,onDismiss:i,isRetrying:r=!1,compact:a=!1}){const n=(e=>e.message.includes("network")||e.message.includes("connection")?s.jsx($e,{className:"w-4 h-4"}):e.message.includes("permission")||e.message.includes("unauthorized")?s.jsx(Qe,{className:"w-4 h-4"}):e.message.includes("not found")?s.jsx(Oe,{className:"w-4 h-4"}):e.message.includes("server")||e.message.includes("internal")?s.jsx(Ke,{className:"w-4 h-4"}):s.jsx(H,{className:"w-4 h-4"}))(e),l=(e=>"api"===e.type||"content_generation"===e.type?"destructive":"default")(e);return a?s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 border border-red-200 rounded-md text-sm",children:[n,s.jsx("span",{className:"flex-1 text-red-800",children:e.message}),e.retryable&&t&&s.jsx(cw,{size:"sm",variant:"outline",onClick:t,disabled:r,className:"h-6 px-2 text-xs",children:r?s.jsx(V,{className:"w-3 h-3 animate-spin"}):"Retry"}),i&&s.jsx(cw,{size:"sm",variant:"ghost",onClick:i,className:"h-6 w-6 p-0",children:s.jsx(o,{className:"w-3 h-3"})})]}):s.jsx(ej,{variant:l,className:"mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[n,s.jsxs("div",{className:"flex-1",children:[s.jsxs(tj,{className:"mb-3",children:[e.message,e.retryCount&&e.retryCount>0&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(Attempt ",e.retryCount+1,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.retryable&&t&&s.jsx(cw,{size:"sm",variant:"outline",onClick:t,disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(V,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(V,{className:"w-4 h-4 mr-2"}),"Try Again"]})}),i&&s.jsx(cw,{size:"sm",variant:"ghost",onClick:i,children:"Dismiss"})]}),e.timestamp&&s.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:e.timestamp.toLocaleTimeString()})]})]})})}function EP({error:e,onRetry:t,title:i="Something went wrong"}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx(H,{className:"w-12 h-12 text-red-500 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:i}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:e.message||"An unexpected error occurred. Please try again."}),t&&s.jsxs(cw,{onClick:t,variant:"outline",children:[s.jsx(V,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})}function RP({message:e,onRetry:t,isRetrying:i=!1}){return s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[s.jsx(H,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"flex-1",children:e}),t&&s.jsx(cw,{size:"sm",variant:"ghost",onClick:t,disabled:i,className:"h-6 px-2 text-xs text-red-600 hover:text-red-700 hover:bg-red-100",children:i?s.jsx(V,{className:"w-3 h-3 animate-spin"}):"Retry"})]})}class PP extends Ct.Component{constructor(e){super(e),t(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):s.jsx(EP,{error:this.state.error,onRetry:this.handleRetry,title:"Topic Navigation Error"}):this.props.children}}function IP(){return s.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((e,t)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(YC,{className:"w-4 h-4"}),s.jsx(YC,{className:"h-4 w-32"})]}),t<2&&s.jsx("div",{className:"ml-6 space-y-1",children:Array.from({length:2}).map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(YC,{className:"w-3 h-3"}),s.jsx(YC,{className:"h-3 w-24"})]},t))})]},t))})}function LP({message:e="Loading...",showSpinner:t=!0}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[t&&s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e})]})}function MP(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Generating content..."}),s.jsx("p",{className:"text-xs text-blue-700",children:"This may take a few moments"})]})]}),s.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(YC,{className:"h-4 w-full"}),s.jsx(YC,{className:"h-4 w-full"}),s.jsx(YC,{className:"h-4 w-3/4"})]},t))})]})}function OP({progressData:e,topicTitle:t,onRetry:i,onClear:r,error:a,className:n=""}){var o;const l=e=>e<60?`${e}s`:e<3600?`${Math.floor(e/60)}m ${e%60}s`:`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`,c=e.totalStepsCount||6;null==(o=e.currentStep)||o.number;const d=e.completedSteps.length;return s.jsx("div",{className:`flex items-center justify-center h-[calc(100vh-200px)] bg-background ${n}`,children:s.jsx(Vy,{className:"w-full max-w-2xl mx-auto",children:s.jsxs($y,{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:a?s.jsx(Y,{className:"w-8 h-8 text-destructive"}):"completed"===e.phase?s.jsx(He,{className:"w-8 h-8 text-green-600"}):s.jsx(ne,{className:"w-8 h-8 text-primary animate-spin"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-xl",children:a?"Research Error":"completed"===e.phase?"Research Complete":"AI Learning Engine at Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a||("completed"===e.phase?`Successfully researched "${t}" with comprehensive AI analysis.`:`Our AI agent is researching "${t}" comprehensively using multiple sources and learning iteratively.`)})]})]}),a&&s.jsxs("div",{className:"p-4 bg-destructive/10 text-destructive rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Research Failed"})]}),s.jsx("p",{className:"text-sm",children:a}),i&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(cw,{variant:"outline",size:"sm",onClick:i,className:"text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(ae,{className:"w-3 h-3 mr-1"}),"Retry Research"]}),r&&s.jsx(cw,{variant:"ghost",size:"sm",onClick:r,className:"text-muted-foreground",children:"Dismiss"})]})]}),!a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:(e=>{switch(e){case"main_topic":return"Researching Main Topic";case"subtopics":return"Processing Subtopics";case"completed":return"Research Complete";default:return"Processing"}})(e.phase)})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[d," of ",c," steps completed"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:s.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${e.overallProgress}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[e.overallProgress.toFixed(0),"% overall progress"]}),e.estimatedTimeRemaining&&e.estimatedTimeRemaining>0&&s.jsx("span",{children:(h=e.estimatedTimeRemaining,h<60?`~${h}s remaining`:h<3600?`~${Math.floor(h/60)}m remaining`:`~${Math.floor(h/3600)}h ${Math.floor(h%3600/60)}m remaining`)})]})]})]}),e.currentStep&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full",children:s.jsx(Ze,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"font-medium text-sm",children:["Step ",e.currentStep.number+1,": ",e.currentStep.name]}),s.jsxs("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:[e.currentStep.progress,"%"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.currentStep.description})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.currentStep.progress}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-600",children:[s.jsxs("span",{children:[s.jsx(ie,{className:"w-3 h-3 inline mr-1"}),l((u=e.currentStep.startTime,Math.floor((Date.now()-new Date(u).getTime())/1e3)))," elapsed"]}),e.currentStep.estimatedDuration&&s.jsxs("span",{children:["~",l(e.currentStep.estimatedDuration)," estimated"]})]})]})]}),e.completedSteps.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600"}),s.jsx("h4",{className:"font-medium text-sm",children:"Completed Steps"})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:e.completedSteps.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"w-3 h-3 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium",children:["Step ",e.number+1,": ",e.name]})]}),s.jsx("div",{className:"text-xs text-green-700",children:e.duration?l(e.duration):"Completed"})]},e.number))})]}),"subtopics"===e.phase&&e.subtopicsProgress&&e.subtopicsProgress.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"w-4 h-4 text-purple-600"}),s.jsx("h4",{className:"font-medium text-sm",children:"Background Subtopic Processing"})]}),s.jsx("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:e.subtopicsProgress.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["completed"===e.status?s.jsx(He,{className:"w-3 h-3 text-green-600"}):"in_progress"===e.status?s.jsx(ne,{className:"w-3 h-3 text-purple-600 animate-spin"}):"error"===e.status?s.jsx(Y,{className:"w-3 h-3 text-red-600"}):s.jsx(ie,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium truncate",children:e.title})]}),s.jsxs("div",{className:"text-xs text-purple-700",children:[e.progress,"%"]})]},t))})]}),e.mainTopicCompleted&&s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Main topic research complete! Content is ready to view."})]}),"subtopics"===e.phase&&s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Subtopics are being processed in the background for enhanced learning."})]})]})]})})});var u,h}function DP({topic:e,onGenerateContent:t,isGeneratingContent:i,error:r,onClearError:a}){return i?s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsx(LP,{message:"Generating content for this topic...",showSpinner:!0})}):r?s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsx(Vy,{className:"w-full max-w-md",children:s.jsx($y,{className:"p-6",children:s.jsx(TP,{error:{type:"content_generation",message:r,topicId:e.id,retryable:!0,timestamp:new Date},onRetry:t,onDismiss:a,isRetrying:i})})})}):s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsx(Vy,{className:"w-full max-w-md",children:s.jsxs($y,{className:"p-8 text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(Z,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Ready to Explore"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:['Generate comprehensive content for "',e.title,'" to start learning.']})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(cw,{onClick:t,disabled:i,className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(V,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{className:"w-4 h-4 mr-2"}),"Generate Content"]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Our AI will research and create detailed content tailored to your learning level."})]}),e.summary&&s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg text-left",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Topic Overview"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.summary})]})]})})})}function _P({topic:e,isSubtopic:t,parentTopic:i,onBookmarkToggle:r,isBookmarked:a,isRead:n,onMarkAsRead:o}){return s.jsxs("div",{className:"border-b pb-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t&&i&&s.jsxs(Dw,{variant:"outline",className:"text-xs",children:["Subtopic of ",i.title]}),s.jsxs(Dw,{variant:"secondary",className:"text-xs",children:["Level ",e.depth+1]})]}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:e.title}),e.summary&&s.jsx("p",{className:"text-muted-foreground",children:e.summary})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:a?s.jsx(We,{className:"w-4 h-4 text-yellow-600 fill-current"}):s.jsx(Je,{className:"w-4 h-4"})}),!n&&s.jsx(cw,{variant:"ghost",size:"sm",onClick:o,className:"h-8 w-8 p-0",children:s.jsx(me,{className:"w-4 h-4"})}),n&&s.jsxs(Dw,{variant:"outline",className:"text-xs text-green-600",children:[s.jsx(me,{className:"w-3 h-3 mr-1"}),"Read"]})]})]}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})})]})}function zP({bookmarkedTopics:e,allTopics:t,onTopicSelect:i,onToggleBookmark:r,selectedTopicId:a}){const n=(e,t)=>{for(const s of e){if(s.id===t)return s;if(s.children){const e=n(s.children,t);if(e)return e}}return null},o=e.map(e=>n(t,e)).filter(e=>null!==e);return 0===o.length?s.jsx("div",{className:"p-4 text-center",children:s.jsxs("div",{className:"py-8",children:[s.jsx(We,{className:"w-8 h-8 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No bookmarked topics yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bookmark topics to access them quickly"})]})}):s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-medium text-sm",children:"Bookmarked Topics"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[o.length," saved"]})]}),o.map(e=>s.jsx(Vy,{className:"cursor-pointer transition-all hover:shadow-sm "+(a===e.id?"ring-2 ring-primary":""),onClick:()=>i(e),children:s.jsx($y,{className:"p-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:e.title}),e.summary&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.summary}),s.jsx("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{className:"w-3 h-3"}),s.jsxs("span",{children:["Level ",e.depth+1]})]})})]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),r(e.id)},className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:s.jsx(et,{className:"w-3 h-3 text-muted-foreground hover:text-red-500"})})]})})},e.id))]})}function FP({recentTopics:e,onTopicSelect:t,onToggleBookmark:i,bookmarkedTopics:r,selectedTopicId:a}){return 0===e.length?s.jsx("div",{className:"p-4 text-center",children:s.jsxs("div",{className:"py-8",children:[s.jsx(Me,{className:"w-8 h-8 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent topics"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Topics you visit will appear here"})]})}):s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-medium text-sm",children:"Recent Topics"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last ",e.length," visited"]})]}),e.map((e,n)=>s.jsx(Vy,{className:"cursor-pointer transition-all hover:shadow-sm "+(a===e.id?"ring-2 ring-primary":""),onClick:()=>t(e),children:s.jsx($y,{className:"p-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:e.title}),e.summary&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.summary}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{className:"w-3 h-3"}),s.jsxs("span",{children:["#",n+1," recent"]})]}),s.jsxs("span",{children:["Level ",e.depth+1]})]})]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),i(e.id)},className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:r.includes(e.id)?s.jsx(We,{className:"w-3 h-3 text-yellow-600 fill-current"}):s.jsx(Je,{className:"w-3 h-3 text-muted-foreground"})})]})})},`${e.id}-${n}`))]})}function BP({onStartExploring:e,hasRecentTopics:t}){return s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsx(Vy,{className:"w-full max-w-lg",children:s.jsxs($y,{className:"p-8 text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(Z,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-xl",children:"Ready to Learn?"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a topic from the sidebar to start exploring comprehensive, AI-generated content."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(cw,{onClick:e,className:"w-full",children:[s.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Browse Topics"]}),t&&s.jsxs(cw,{variant:"outline",onClick:()=>e(),className:"w-full",children:[s.jsx(Me,{className:"w-4 h-4 mr-2"}),"View Recent Topics"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 pt-4 border-t",children:[s.jsxs("div",{className:"text-left p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(X,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:"AI-Powered Learning"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Our AI researches topics comprehensively and generates personalized content for your learning level."})]}),s.jsxs("div",{className:"text-left p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(X,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:"Interactive Navigation"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Explore subtopics, bookmark content, and track your learning progress seamlessly."})]})]})]})})})}function HP({navigationPath:e,onNavigateToPath:t,onNavigateHome:i,className:r,showHome:a=!0,maxItems:n=5,compact:o=!1}){if(!e||e.length<=1)return null;const l=(()=>{if("undefined"==typeof window)return n;const e=window.innerWidth;return e<640?2:e<768?3:n})(),c=e.length>l?[e[0],{title:"...",path:[],topic:{}},...e.slice(2-l)]:e;return s.jsxs("nav",{className:Yh("flex items-center space-x-1 text-sm text-muted-foreground",o&&"space-x-0.5 text-xs",r),"aria-label":"Breadcrumb navigation",children:[a&&s.jsxs(s.Fragment,{children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>{i?i():t([])},className:Yh("h-auto p-1 text-muted-foreground hover:text-foreground transition-colors",o&&"p-0.5"),"aria-label":"Navigate to home",children:s.jsx(tt,{className:Yh("w-4 h-4",o&&"w-3 h-3")})}),s.jsx(R,{className:Yh("w-4 h-4",o&&"w-3 h-3"),"data-testid":"chevron-right"})]}),c.map((e,i)=>s.jsxs(Tt.Fragment,{children:[i>0&&s.jsx(R,{className:Yh("w-4 h-4",o&&"w-3 h-3"),"data-testid":"chevron-right"}),"..."===e.title?s.jsx("span",{className:"px-1 text-muted-foreground",children:"..."}):s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>((e,s)=>{s!==c.length-1&&"..."!==e.title&&t(e.path)})(e,i),disabled:i===c.length-1,className:Yh("h-auto p-1 font-normal hover:text-foreground transition-colors",o&&"p-0.5 text-xs",i===c.length-1?"text-foreground font-medium cursor-default":"text-muted-foreground cursor-pointer",i===c.length-1&&"hover:bg-transparent"),"aria-label":i===c.length-1?`Current topic: ${e.title}`:`Navigate to ${e.title}`,"aria-current":i===c.length-1?"page":void 0,children:s.jsx("span",{className:Yh("truncate max-w-[120px]",o&&"max-w-[80px]"),children:e.title})})]},`${e.topic.id||"ellipsis"}-${i}`))]})}function WP(){var e,t,i,r;const{topic:a,isLoading:n,enhancedResearchStats:o,isResearching:l}=hE(),[c,d]=Dt(),u=c.get("subtopic"),h=Ct.useCallback(e=>{if(!e)return{mainTopicId:null,subtopicId:null};if(e.includes(",")){const t=e.split(",");if(2===t.length)return{mainTopicId:t[0],subtopicId:t[1]}}return{mainTopicId:null,subtopicId:e}},[]),{mainTopicId:p,subtopicId:m}=h(u),{researchProgress:f,error:g,researchResult:x,startResearch:b,clearError:v,getResearchStats:y}=uP({topicSlug:null==a?void 0:a.slug,autoStart:!0,maxDepth:3,userContext:{level:"intermediate",interests:[]}}),{topics:w,isLoading:j,isGenerating:N}=function(e={}){const{autoRefresh:t=!1,refreshInterval:s=3e4}=e,[i,r]=Ct.useState(null),[a,n]=Ct.useState(""),[o,l]=Ct.useState(!1),{data:c=[],isLoading:d,error:u,refetch:h}=Hu(Tu,void 0,{refetchInterval:!!t&&s,refetchOnWindowFocus:!0,staleTime:3e5}),p=Ct.useCallback(e=>{r(e)},[]),m=Ct.useCallback(async e=>{l(!0);try{const t=(e,s)=>{for(const i of e){if(i.id===s)return i;const e=t(i.children||[],s);if(e)return e}return null},s=t(c,e);if(!s)throw new Error("Parent topic not found");const i=(await f(s)).map(t=>ru({title:t,summary:`Exploring ${t.toLowerCase()} in the context of ${s.title}`,parentId:e}));await Promise.all(i),await h()}catch(t){}finally{l(!1)}},[c,h]),f=Ct.useCallback(async e=>{try{const t=await fetch("/api/learning/generate-subtopics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicId:e.id,topicTitle:e.title,topicSummary:e.summary,depth:e.depth})});if(!t.ok)throw new Error("Failed to generate subtopics");return(await t.json()).subtopics||dP(e.title)}catch(t){return dP(e.title)}},[]);return{topics:c,isLoading:d,error:u,selectedTopic:i,searchQuery:a,isGenerating:o,selectTopic:p,setSearchQuery:n,generateSubtopics:m,refreshTree:h}}({autoRefresh:!0}),{selectedTopic:k,selectedSubtopic:S,contentPath:C,isGeneratingContent:A,navigationHistory:T,hasError:E,getError:P,clearError:I,retryLastOperation:L,selectTopic:M,selectSubtopic:D,navigateToPath:_,getNavigationBreadcrumbs:z,getRequiredExpandedNodes:F,canNavigateBack:B,canNavigateForward:H,navigateBack:W,navigateForward:X,validateDeepLink:Y,generateShareableURL:V,handleDeepLink:U}=wP(w),{content:q,isLoading:G,isGenerating:$,error:Q,progress:K,refetch:J,clearError:ee}=function(e,t,s={}){const{userLevel:i="intermediate",learningStyle:r="textual",pollInterval:a=2e3,maxPollAttempts:n=30}=s,[o,l]=Ct.useState(null),[c,d]=Ct.useState(!1),[u,h]=Ct.useState(!1),[p,m]=Ct.useState(null),[f,g]=Ct.useState(0),x=Ct.useRef(null),b=Ct.useRef(0),v=Ct.useRef(null),y=Ct.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),v.current&&(v.current.abort(),v.current=null),b.current=0},[]),w=Ct.useCallback(async(e,t,s)=>{try{return await Lu({mainTopicId:e,subtopicId:t,options:{userLevel:i,learningStyle:r}})}catch(a){if(404===a.statusCode)throw new Error(a.message||"Subtopic content not found");throw new Error(a.message||"Failed to fetch subtopic content")}},[i,r]),j=Ct.useCallback(async(e,t)=>{if(b.current>=n)return h(!1),void m("Content generation took too long. Please try again.");try{const s=new AbortController;v.current=s;const i=await w(e,t,s.signal);i.success&&i.content?(l(i),h(!1),g(100),y()):i.generating&&i.progress?(g(i.progress.progress||0),b.current+=1,x.current=setTimeout(()=>{j(e,t)},a)):(l(i),h(!1),y())}catch(s){if(s instanceof Error&&"AbortError"===s.name)return;m(s instanceof Error?s.message:"Failed to check content status"),h(!1),y()}},[w,a,n,y]),N=Ct.useCallback(async()=>{var s;if(e&&t){d(!0),m(null),y();try{const i=new AbortController;v.current=i;const r=await w(e,t,i.signal);r.success&&r.content?(l(r),g(100)):r.generating?(l(r),h(!0),g((null==(s=r.progress)?void 0:s.progress)||0),b.current=0,x.current=setTimeout(()=>{j(e,t)},a)):l(r)}catch(i){if(i instanceof Error&&"AbortError"===i.name)return;m(i instanceof Error?i.message:"Failed to fetch subtopic content"),l(null)}finally{d(!1)}}},[e,t,w,j,a,y]),k=Ct.useCallback(()=>{m(null)},[]);return Ct.useEffect(()=>(e&&t?N():(l(null),m(null),g(0),y()),()=>{y()}),[e,t,N,y]),Ct.useEffect(()=>()=>{y()},[y]),{content:o,isLoading:c,isGenerating:u,error:p,progress:f,refetch:N,clearError:k}}((null==a?void 0:a.id)||null,u,{userLevel:"intermediate",learningStyle:"textual"}),te=Ct.useCallback((e,t)=>{for(const s of e){if(s.id===t)return s;if(s.children){const e=te(s.children,t);if(e)return e}}return null},[]),se=m?te(w,m):null,ie=se||S||k||(a?{id:a.id,title:a.title,slug:a.slug,summary:a.summary,depth:0,status:"active",createdAt:new Date,updatedAt:new Date,children:[]}:null),re=e=>(null==x?void 0:x.subtopicResults)?x.subtopicResults instanceof Map?x.subtopicResults.get(e):x.subtopicResults[e]:null,oe=Ct.useMemo(()=>{var e,t,s;return m&&(null==q?void 0:q.success)&&q.content?{content:q.content,sources:q.sources||[],isFromResearch:!1,isFromSubtopicAPI:!0}:S&&x?{content:(null==(t=null==(e=re(S.title))?void 0:e.content)?void 0:t.content)||"",sources:(null==(s=re(S.title))?void 0:s.sources)||[],isFromResearch:!0,isFromSubtopicAPI:!1}:x?{content:x.mainTopic.content.content,sources:x.mainTopic.sources,isFromResearch:!0,isFromSubtopicAPI:!1}:{content:"",sources:[],isFromResearch:!1,isFromSubtopicAPI:!1}},[m,q,S,x,re,null==q?void 0:q.content]),le=l&&(null==o?void 0:o.realTimeProgress)&&!o.realTimeProgress.mainTopicCompleted,ce=le||A||$,de=G,{bookmarks:ue,toggleBookmark:he,isBookmarked:pe,markAsRead:fe,isRead:ge}=function(e){const[t,s]=Ct.useState([]),[i,r]=Ct.useState([]),[a,n]=Ct.useState(!1);Ct.useEffect(()=>{if(!e)return s([]),void r([]);(async()=>{n(!0);try{const t=`bookmarks_${e}`,i=`readSections_${e}`,a=localStorage.getItem(t),n=localStorage.getItem(i);s(a?JSON.parse(a):[]),r(n?JSON.parse(n):[])}catch(t){s([]),r([])}finally{n(!1)}})()},[e]);const o=Ct.useCallback(async i=>{if(e)try{let r;r=t.includes(i)?t.filter(e=>e!==i):[...t,i],s(r);const a=`bookmarks_${e}`;localStorage.setItem(a,JSON.stringify(r))}catch(r){}},[e,t]),l=Ct.useCallback(async t=>{if(e&&!i.includes(t))try{const s=[...i,t];r(s);const a=`readSections_${e}`;localStorage.setItem(a,JSON.stringify(s))}catch(s){}},[e,i]),c=Ct.useCallback(async t=>{if(e)try{const s=i.filter(e=>e!==t);r(s);const a=`readSections_${e}`;localStorage.setItem(a,JSON.stringify(s))}catch(s){}},[e,i]),d=Ct.useCallback(e=>t.includes(e),[t]),u=Ct.useCallback(e=>i.includes(e),[i]);return{bookmarks:t,readSections:i,isLoading:a,toggleBookmark:o,markAsRead:l,markAsUnread:c,isBookmarked:d,isRead:u}}((null==ie?void 0:ie.id)||null),[xe,be]=Ct.useState(!1),[ve,ye]=Ct.useState(320),[we,je]=Ct.useState(!1),[ke,Se]=Ct.useState("tree"),[Ce,Ae]=Ct.useState(""),[Te,Ee]=Ct.useState(!1),[Re,Pe]=Ct.useState([]);Ct.useMemo(()=>new Set(F()),[F]);const Ie=Ct.useMemo(()=>T.slice(0,10).map(e=>e.topic),[T]),[Le,De]=Ct.useState(null),[_e,ze]=Ct.useState(!1),[Fe,Be]=Ct.useState([]),[He,Xe]=Ct.useState([]);Ct.useRef(null),Ct.useRef(null);const Ye=Ct.useCallback(async()=>{const e=ie;if(e){De(null);try{await b({forceRefresh:!0})}catch(t){let s="Failed to generate content";t instanceof Error&&(s=t.message.includes("research")?`Research failed for "${e.title}". Please try again.`:t.message.includes("network")||t.message.includes("fetch")?"Network error occurred. Please check your connection and try again.":t.message.includes("rate")||t.message.includes("limit")?"API rate limit reached. Please wait a moment and try again.":t.message),De(s)}}else De("No topic selected for content generation")},[ie,b]),Ve=Ct.useCallback(e=>{const t=new URLSearchParams(c);e?t.set("subtopic",e):t.delete("subtopic"),d(t)},[c,d]),qe=async(e,t="sidebar")=>{try{if(De(null),ze(!0),k&&e.id!==k.id){Ge(e,k)?(Ve(e.id),D(e,t)):(Ve(null),M(e,t))}else Ve(null),M(e,t);De(null),ee()}catch(s){De(s instanceof Error?s.message:"Failed to select topic")}finally{setTimeout(()=>ze(!1),300)}},Ge=(e,t)=>{const s=t=>{for(const i of t){if(i.id===e.id)return!0;if(i.children&&s(i.children))return!0}return!1};return!!t.children&&s(t.children)};Ct.useEffect(()=>{De(null),ee()},[null==ie?void 0:ie.id,ee]);const $e=Ct.useCallback(()=>{Ve(null),k&&M(k,"breadcrumb")},[Ve,k,M]);Ct.useEffect(()=>{oe.content&&(null==ie?void 0:ie.id)&&!ge(ie.id)&&fe(ie.id)},[oe.content,null==ie?void 0:ie.id,ge,fe]),Ct.useEffect(()=>{if(oe.content){const e=/^(#{1,6})\s+(.+)$/gm,t=[];let s;for(;null!==(s=e.exec(oe.content));){const e=s[1].length,i=s[2].trim(),r=i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");t.push({id:r,title:i,level:e})}Be(t),Xe(oe.sources||[])}else Be([]),Xe([])},[oe]),Ct.useEffect(()=>{m&&se&&(null==S?void 0:S.id)!==m&&D(se,"url")},[u,m,se,null==S?void 0:S.id,D]);const Qe=e=>{Pe(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};Ct.useMemo(()=>{if(!Ce&&!Te)return w;const e=t=>t.filter(e=>{var t;const s=!Ce||e.title.toLowerCase().includes(Ce.toLowerCase())||(null==(t=e.summary)?void 0:t.toLowerCase().includes(Ce.toLowerCase())),i=!Te||ge(e.id);return s&&i}).map(t=>({...t,children:t.children?e(t.children):[]}));return e(w)},[w,Ce,Te,ge]);if(Ct.useEffect(()=>{const e=e=>{if(!we)return;const t=Math.max(250,Math.min(600,e.clientX));ye(t)},t=()=>{je(!1)};return we&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[we]),n||j)return s.jsx(cP,{});if(!a)return s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Topic not found"})})});if(le&&(null==o?void 0:o.realTimeProgress))return s.jsx(OP,{progressData:o.realTimeProgress,topicTitle:a.title,onRetry:v,onClear:v,error:g});if(l&&!(null==(e=null==o?void 0:o.realTimeProgress)?void 0:e.mainTopicCompleted))return s.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)] bg-background",children:s.jsx(Vy,{className:"w-full max-w-lg mx-auto",children:s.jsxs($y,{className:"p-8 text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(ne,{className:"w-8 h-8 text-primary animate-spin"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"AI Learning Engine at Work"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:['Our AI agent is researching "',a.title,'" comprehensively using multiple sources and learning iteratively.']})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:s.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${f}%`}})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[f<30&&"Planning research strategy...",f>=30&&f<60&&"Researching with multiple specialized agents...",f>=60&&f<85&&"Analyzing and synthesizing findings...",f>=85&&"Generating comprehensive content..."]}),y().totalTopics>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Processing ",y().totalTopics," topics • ",y().completedTopics," completed"]})]}),g&&s.jsxs("div",{className:"p-4 bg-destructive/10 text-destructive rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium",children:"Research Error"}),s.jsx("p",{children:g}),s.jsx(cw,{variant:"outline",size:"sm",onClick:v,className:"mt-2",children:"Retry"})]})]})})});const Ke=(e,t)=>{for(const s of e){if(s.slug===t)return s;const e=Ke(s.children||[],t);if(e)return e}return null},Ze=Ke(w,a.slug),et=Ze?[Ze]:w;return s.jsxs("div",{className:"flex h-full bg-background",children:[s.jsxs("div",{className:`\n          flex-shrink-0 border-r bg-card transition-all duration-300 ease-in-out\n          ${xe?"w-12":"w-80"}\n        `,style:{width:xe?"48px":`${ve}px`},children:[!xe&&s.jsx("div",{className:"border-b border-gray-100",children:s.jsxs("div",{className:"flex bg-gray-50",children:[s.jsxs("button",{onClick:()=>Se("tree"),className:"flex-1 py-3 px-2 text-sm font-medium transition-colors border-b-2 flex flex-col items-center gap-1.5 "+("tree"===ke?"border-gray-900 text-gray-900 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[s.jsx(Z,{className:"w-4 h-4"}),"Topics"]}),s.jsxs("button",{onClick:()=>Se("bookmarks"),className:"flex-1 py-3 px-2 text-sm font-medium transition-colors border-b-2 flex flex-col items-center gap-1.5 "+("bookmarks"===ke?"border-gray-900 text-gray-900 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[s.jsx(We,{className:"w-4 h-4"}),"Saved"]}),s.jsxs("button",{onClick:()=>Se("recent"),className:"flex-1 py-3 px-2 text-sm font-medium transition-colors border-b-2 flex flex-col items-center gap-1.5 "+("recent"===ke?"border-gray-900 text-gray-900 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[s.jsx(Me,{className:"w-4 h-4"}),"Recent"]})]})}),!xe&&"tree"===ke&&s.jsxs("div",{className:"p-4 border-b border-gray-100 space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search topics...",value:Ce,onChange:e=>Ae(e.target.value),className:"w-full pl-10 pr-3 py-2.5 text-sm border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-gray-900/10 focus:border-gray-900 transition-colors"})]}),s.jsxs(cw,{variant:Te?"default":"outline",size:"sm",onClick:()=>Ee(!Te),className:"w-full h-9 text-sm font-medium "+(Te?"bg-gray-900 hover:bg-gray-800 text-white":"border-gray-200 hover:bg-gray-50 text-gray-700"),children:[s.jsx(me,{className:"w-4 h-4 mr-2"}),Te?"Show All Topics":"Show Read Only"]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:!xe&&s.jsxs("div",{className:"h-full",children:["tree"===ke&&s.jsx("div",{className:"h-full p-4",children:s.jsx(PP,{fallback:(e,t)=>s.jsx("div",{className:"p-4",children:s.jsx(RP,{message:"Failed to load topic tree",onRetry:t})}),children:j?s.jsx(IP,{}):0===et.length?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"No topics found"})}):s.jsx(rP,{topics:et,selectedTopicPath:C,onTopicSelect:(e,t)=>qe(e,"sidebar"),onGenerateSubtopics:void 0,isGenerating:N,searchQuery:Ce,onSearchChange:()=>{},compact:!0})})}),"bookmarks"===ke&&s.jsx(zP,{bookmarkedTopics:Re,allTopics:w,onTopicSelect:e=>qe(e,"sidebar"),onToggleBookmark:Qe,selectedTopicId:null==ie?void 0:ie.id}),"recent"===ke&&s.jsx(FP,{recentTopics:Ie,onTopicSelect:e=>qe(e,"sidebar"),onToggleBookmark:Qe,bookmarkedTopics:Re,selectedTopicId:null==ie?void 0:ie.id})]})})]}),!xe&&s.jsx("div",{className:"w-1 bg-gray-200 hover:bg-gray-300 cursor-col-resize transition-colors",onMouseDown:e=>{je(!0),e.preventDefault()}}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"border-b bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>be(!xe),className:"h-8 w-8 p-0 hover:bg-gray-100",children:xe?s.jsx(R,{className:"w-4 h-4 text-gray-600"}):s.jsx(st,{className:"w-4 h-4 text-gray-600"})}),ie&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ne,{className:"w-5 h-5 text-gray-700"}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:ie.title})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>Qe(ie.id),className:"h-8 w-8 p-0 hover:bg-gray-100",children:Re.includes(ie.id)?s.jsx(We,{className:"w-4 h-4 text-amber-500 fill-current"}):s.jsx(Je,{className:"w-4 h-4 text-gray-500"})}),s.jsx(AP,{currentTopic:ie,generateShareableURL:V,validateDeepLink:Y,onNavigateToDeepLink:e=>{U(e)},className:"h-8"})]})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:ie&&s.jsxs(s.Fragment,{children:[Fe.length>0&&s.jsxs(Zx,{children:[s.jsx(Jx,{asChild:!0,children:s.jsxs(cw,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(it,{className:"w-4 h-4"}),"Contents",s.jsx(O,{className:"w-3 h-3"})]})}),s.jsx(eb,{className:"w-80 max-h-96 overflow-y-auto",children:Fe.map(e=>s.jsx(tb,{className:"cursor-pointer",onClick:()=>{const t=document.getElementById(e.id);t&&t.scrollIntoView({behavior:"smooth"})},children:s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx("div",{className:`w-${Math.min(e.level,4)} flex-shrink-0`}),s.jsx("span",{className:"text-sm font-medium truncate",children:e.title})]})},e.id))})]}),He.length>0&&s.jsxs(Zx,{children:[s.jsx(Jx,{asChild:!0,children:s.jsxs(cw,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Ue,{className:"w-4 h-4"}),"Sources (",He.length,")",s.jsx(O,{className:"w-3 h-3"})]})}),s.jsx(eb,{className:"w-96 max-h-96 overflow-y-auto",children:He.map((e,t)=>s.jsx(tb,{className:"cursor-pointer p-3",onClick:()=>{e.url&&window.open(e.url,"_blank")},children:s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsx("span",{className:"text-sm font-medium line-clamp-2",children:e.title}),s.jsx("span",{className:"text-xs text-muted-foreground",children:e.source})]})},e.id||t))})]}),ge(ie.id)&&s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-emerald-700 bg-emerald-50 px-3 py-1.5 rounded-full border border-emerald-100",children:[s.jsx(me,{className:"w-3.5 h-3.5"}),"Read"]}),(ce||_e||de)&&s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-blue-700 bg-blue-50 px-3 py-1.5 rounded-full border border-blue-100",children:[s.jsx(ne,{className:"w-3.5 h-3.5 animate-spin"}),_e?"Loading...":$?"Generating...":de?"Loading...":ce?"Researching...":"Loading..."]}),(Le||Q)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700 bg-red-50 px-3 py-1.5 rounded-full border border-red-100",children:[s.jsx("span",{className:"max-w-xs truncate",title:Le||Q||"",children:"Error occurred"}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:m?J:Ye,disabled:ce||de,className:"h-5 w-5 p-0 text-red-700 hover:text-red-800",title:"Retry",children:s.jsx(ae,{className:"w-3 h-3"})})]}),(B||H)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:W,disabled:!B,className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(st,{className:"w-4 h-4 text-gray-600"})}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:X,disabled:!H,className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(R,{className:"w-4 h-4 text-gray-600"})})]})]})})]}),x&&s.jsxs("div",{className:"px-6 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-3",children:[s.jsx("span",{children:"Researched by AI Learning Engine"}),s.jsx("span",{className:"text-gray-400",children:"•"}),s.jsxs("span",{children:[x.totalTopicsProcessed," topics explored"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x.mainTopic.sources.length}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Sources Used"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(x.totalProcessingTime/1e3),"s"]}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Research Time"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(100*x.mainTopic.metadata.confidenceScore),"%"]}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Confidence"})]})]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:m&&oe.content&&!ce&&!de?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(HP,{navigationPath:z(),onNavigateToPath:_}),m&&se&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("span",{className:"font-medium",children:"Viewing Subtopic:"})," ",se.title]}),s.jsxs(cw,{variant:"ghost",size:"sm",onClick:$e,className:"text-sm text-blue-700 hover:text-blue-900 hover:bg-blue-100",children:[s.jsx(st,{className:"w-4 h-4 mr-1"}),"Back to ",null==a?void 0:a.title]})]}),s.jsx(_P,{topic:ie,isSubtopic:null!==S,parentTopic:k,onBookmarkToggle:()=>Qe(ie.id),isBookmarked:Re.includes(ie.id),isRead:ge(ie.id),onMarkAsRead:()=>fe(ie.id)}),s.jsx(aP,{content:oe.content,topicTitle:(null==se?void 0:se.title)||ie.title,sources:oe.sources,bookmarks:ue,onToggleBookmark:he,isBookmarked:pe,onMarkAsRead:fe,isRead:ge,isSubtopic:!!m,onBackToMain:m?$e:void 0},`${ie.id}-${m||"main"}-${oe.content?btoa(oe.content.substring(0,50)):"empty"}`)]},`content-${ie.id}`):m&&q&&!q.success&&!G?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Z,{className:"w-12 h-12 mx-auto text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Subtopic Content Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:q.message||`Content for "${null==se?void 0:se.title}" hasn't been generated yet.`}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:q.suggestion||"Try generating the main topic content first to create subtopic content."}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(cw,{onClick:$e,variant:"outline",children:[s.jsx(st,{className:"w-4 h-4 mr-2"}),"Back to Main Topic"]}),s.jsxs(cw,{onClick:()=>J(),disabled:G,children:[s.jsx(ae,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]})}):m&&(G||$)?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"mb-4",children:s.jsx(ne,{className:"w-8 h-8 mx-auto animate-spin text-primary"})}),s.jsx("p",{className:"text-muted-foreground",children:"Loading subtopic content..."})]})}):x?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(aP,{content:x.mainTopic.content.content,topicTitle:x.mainTopic.topic,sources:x.mainTopic.sources.map(e=>({id:e.id,title:e.title,url:e.url,source:e.source,engine:e.engine||e.source,relevanceScore:e.relevanceScore||.8,contentType:e.contentType||"article"})),bookmarks:ue,onToggleBookmark:he,isBookmarked:pe,onMarkAsRead:fe,isRead:ge},`research-${x.mainTopic.topic}`),x.mainTopic.subtopics.length>0&&s.jsxs("div",{className:"mt-8 border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Explore Further"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.mainTopic.subtopics.map((e,t)=>s.jsx(Vy,{className:"cursor-pointer hover:shadow-md transition-shadow",children:s.jsxs($y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:e.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]}),s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs "+("beginner"===e.complexity?"bg-green-100 text-green-800":"intermediate"===e.complexity?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.complexity})})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Priority: ",e.priority]}),s.jsxs("span",{children:[e.estimatedReadTime,"min read"]})]})]})},t))})]})]})}):ie?s.jsxs(PP,{onError:(e,t)=>{De(e.message)},children:[E(ie.id)&&s.jsx("div",{className:"p-4 border-b",children:s.jsx(TP,{error:P(ie.id),onRetry:()=>L(ie.id),onDismiss:()=>I(ie.id),isRetrying:ce})}),m&&$&&s.jsx("div",{className:"p-6",children:s.jsx(OP,{progressData:{isActive:!0,phase:"subtopics",currentStep:{number:1,name:"Generating Subtopic",description:`Generating subtopic content... ${K}%`,startTime:(new Date).toISOString(),progress:K},completedSteps:[],overallProgress:K,mainTopicCompleted:!0},topicTitle:(null==se?void 0:se.title)||"Subtopic",onRetry:J,onClear:ee,error:Q})}),m&&Q&&!$&&s.jsx("div",{className:"p-6",children:s.jsx(TP,{error:{type:"content_generation",message:Q,retryable:!0,timestamp:new Date},onRetry:J,onDismiss:ee,isRetrying:de})}),m&&de&&!$&&s.jsx("div",{className:"p-6",children:s.jsx(MP,{})}),s.jsxs("div",{style:{padding:"10px",background:"#ffcccc",margin:"10px 0",fontSize:"12px",border:"2px solid red"},children:["🐛 ALWAYS VISIBLE DEBUG: Content Length: ",(null==(t=oe.content)?void 0:t.length)||0," | Subtopic: ",(null==se?void 0:se.title)||"Main Topic"," | ID: ",m||"none"," | Hash: ",oe.content?btoa(oe.content.substring(0,20)):"empty"," | isGenerating: ",ce?"true":"false"," | isLoading: ",de?"true":"false"," | hasContent: ",oe.content?"true":"false"]}),!oe.content||ce||de?ce?s.jsx("div",{className:"p-6",children:s.jsx(MP,{})}):m&&q&&!q.success&&!G?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Z,{className:"w-12 h-12 mx-auto text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Subtopic Content Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:q.message||`Content for "${null==se?void 0:se.title}" hasn't been generated yet.`}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:q.suggestion||"Try generating the main topic content first to create subtopic content."}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(cw,{onClick:$e,variant:"outline",children:[s.jsx(st,{className:"w-4 h-4 mr-2"}),"Back to Main Topic"]}),s.jsxs(cw,{onClick:()=>J(),disabled:G,children:[s.jsx(ae,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]})}):s.jsx(DP,{topic:ie,onGenerateContent:Ye,isGeneratingContent:ce,error:Le,onClearError:()=>De(null)}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(HP,{navigationPath:z(),onNavigateToPath:_}),m&&se&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("span",{className:"font-medium",children:"Viewing Subtopic:"})," ",se.title]}),s.jsxs(cw,{variant:"ghost",size:"sm",onClick:$e,className:"text-sm text-blue-700 hover:text-blue-900 hover:bg-blue-100",children:[s.jsx(st,{className:"w-4 h-4 mr-1"}),"Back to ",null==a?void 0:a.title]})]}),s.jsx(_P,{topic:ie,isSubtopic:null!==S,parentTopic:k,onBookmarkToggle:()=>Qe(ie.id),isBookmarked:Re.includes(ie.id),isRead:ge(ie.id),onMarkAsRead:()=>fe(ie.id)}),null,s.jsx(aP,{content:oe.content,topicTitle:(null==se?void 0:se.title)||ie.title,sources:oe.sources,bookmarks:ue,onToggleBookmark:he,isBookmarked:pe,onMarkAsRead:fe,isRead:ge,isSubtopic:!!m,onBackToMain:m?$e:void 0},`${ie.id}-${m||"main"}-${oe.content?btoa(oe.content.substring(0,50)):"empty"}`),(null==ie?void 0:ie.children)&&ie.children.length>0||x&&!S&&(null==(r=null==(i=x.mainTopic)?void 0:i.subtopics)?void 0:r.length)>0?s.jsx("div",{className:"border-t pt-6",children:(null==ie?void 0:ie.children)&&ie.children.length>0?s.jsx(kP,{subtopics:CP(ie.children),onSubtopicClick:async e=>{try{De(null),ze(!0),Ve(e.id),k?D(e,"cards"):M(e,"cards"),ee()}catch(t){De(t instanceof Error?t.message:"Failed to select subtopic")}finally{setTimeout(()=>ze(!1),300)}},selectedSubtopicId:m||(null==S?void 0:S.id),isGeneratingContent:ce||_e||de},`subtopics-${ie.id}`):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Explore Further"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.mainTopic.subtopics.map((e,t)=>s.jsxs("div",{className:"cursor-pointer hover:shadow-md transition-shadow p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium text-sm",children:e.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[e.estimatedReadTime,"min read • ",e.complexity]})]},t))})]})}):null]},`content-${ie.id}`)]}):s.jsx(BP,{onStartExploring:()=>Se("tree"),hasRecentTopics:Ie.length>0})})]})]})}var XP="ScrollArea",[YP,VP]=v(XP),[UP,qP]=YP(XP),GP=Ct.forwardRef((e,t)=>{const{__scopeScrollArea:i,type:r="hover",dir:a,scrollHideDelay:n=600,...o}=e,[l,c]=Ct.useState(null),[d,u]=Ct.useState(null),[p,f]=Ct.useState(null),[g,x]=Ct.useState(null),[b,v]=Ct.useState(null),[y,w]=Ct.useState(0),[N,k]=Ct.useState(0),[S,C]=Ct.useState(!1),[A,T]=Ct.useState(!1),E=h(t,e=>c(e)),R=j(a);return s.jsx(UP,{scope:i,type:r,dir:R,scrollHideDelay:n,scrollArea:l,viewport:d,onViewportChange:u,content:p,onContentChange:f,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:b,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:k,children:s.jsx(m.div,{dir:R,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});GP.displayName=XP;var $P="ScrollAreaViewport",QP=Ct.forwardRef((e,t)=>{const{__scopeScrollArea:i,children:r,nonce:a,...n}=e,o=qP($P,i),l=Ct.useRef(null),c=h(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(m.div,{"data-radix-scroll-area-viewport":"",...n,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QP.displayName=$P;var KP="ScrollAreaScrollbar",ZP=Ct.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=qP(KP,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=a,l="horizontal"===e.orientation;return Ct.useEffect(()=>(l?n(!0):o(!0),()=>{l?n(!1):o(!1)}),[l,n,o]),"hover"===a.type?s.jsx(JP,{...r,ref:t,forceMount:i}):"scroll"===a.type?s.jsx(eI,{...r,ref:t,forceMount:i}):"auto"===a.type?s.jsx(tI,{...r,ref:t,forceMount:i}):"always"===a.type?s.jsx(sI,{...r,ref:t}):null});ZP.displayName=KP;var JP=Ct.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=qP(KP,e.__scopeScrollArea),[n,o]=Ct.useState(!1);return Ct.useEffect(()=>{const e=a.scrollArea;let t=0;if(e){const s=()=>{window.clearTimeout(t),o(!0)},i=()=>{t=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",s),e.addEventListener("pointerleave",i),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",s),e.removeEventListener("pointerleave",i)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(S,{present:i||n,children:s.jsx(tI,{"data-state":n?"visible":"hidden",...r,ref:t})})}),eI=Ct.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=qP(KP,e.__scopeScrollArea),n="horizontal"===e.orientation,o=wI(()=>c("SCROLL_END"),100),[l,c]=(d="hidden",u={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},Ct.useReducer((e,t)=>u[e][t]??e,d));var d,u;return Ct.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,a.scrollHideDelay,c]),Ct.useEffect(()=>{const e=a.viewport,t=n?"scrollLeft":"scrollTop";if(e){let s=e[t];const i=()=>{const i=e[t];s!==i&&(c("SCROLL"),o()),s=i};return e.addEventListener("scroll",i),()=>e.removeEventListener("scroll",i)}},[a.viewport,n,c,o]),s.jsx(S,{present:i||"hidden"!==l,children:s.jsx(sI,{"data-state":"hidden"===l?"hidden":"visible",...r,ref:t,onPointerEnter:f(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:f(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tI=Ct.forwardRef((e,t)=>{const i=qP(KP,e.__scopeScrollArea),{forceMount:r,...a}=e,[n,o]=Ct.useState(!1),l="horizontal"===e.orientation,c=wI(()=>{if(i.viewport){const e=i.viewport.offsetWidth<i.viewport.scrollWidth,t=i.viewport.offsetHeight<i.viewport.scrollHeight;o(l?e:t)}},10);return jI(i.viewport,c),jI(i.content,c),s.jsx(S,{present:r||n,children:s.jsx(sI,{"data-state":n?"visible":"hidden",...a,ref:t})})}),sI=Ct.forwardRef((e,t)=>{const{orientation:i="vertical",...r}=e,a=qP(KP,e.__scopeScrollArea),n=Ct.useRef(null),o=Ct.useRef(0),[l,c]=Ct.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=fI(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,s,i="ltr"){const r=gI(s),a=r/2,n=t||a,o=r-n,l=s.scrollbar.paddingStart+n,c=s.scrollbar.size-s.scrollbar.paddingEnd-o,d=s.content-s.viewport,u="ltr"===i?[0,d]:[-1*d,0];return bI([l,c],u)(e)}(e,o.current,l,t)}return"horizontal"===i?s.jsx(iI,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&n.current){const e=xI(a.viewport.scrollLeft,l,a.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=h(e,a.dir))}}):"vertical"===i?s.jsx(rI,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&n.current){const e=xI(a.viewport.scrollTop,l);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=h(e))}}):null}),iI=Ct.forwardRef((e,t)=>{const{sizes:i,onSizesChange:r,...a}=e,n=qP(KP,e.__scopeScrollArea),[o,l]=Ct.useState(),c=Ct.useRef(null),d=h(t,c,n.onScrollbarXChange);return Ct.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(oI,{"data-orientation":"horizontal",...a,ref:d,sizes:i,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gI(i)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,s)=>{if(n.viewport){const i=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(i),vI(i,s)&&t.preventDefault()}},onResize:()=>{c.current&&n.viewport&&o&&r({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:mI(o.paddingLeft),paddingEnd:mI(o.paddingRight)}})}})}),rI=Ct.forwardRef((e,t)=>{const{sizes:i,onSizesChange:r,...a}=e,n=qP(KP,e.__scopeScrollArea),[o,l]=Ct.useState(),c=Ct.useRef(null),d=h(t,c,n.onScrollbarYChange);return Ct.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(oI,{"data-orientation":"vertical",...a,ref:d,sizes:i,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gI(i)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,s)=>{if(n.viewport){const i=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(i),vI(i,s)&&t.preventDefault()}},onResize:()=>{c.current&&n.viewport&&o&&r({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:mI(o.paddingTop),paddingEnd:mI(o.paddingBottom)}})}})}),[aI,nI]=YP(KP),oI=Ct.forwardRef((e,t)=>{const{__scopeScrollArea:i,sizes:r,hasThumb:a,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:p,...x}=e,b=qP(KP,i),[v,y]=Ct.useState(null),w=h(t,e=>y(e)),j=Ct.useRef(null),N=Ct.useRef(""),k=b.viewport,S=r.content-r.viewport,C=g(u),A=g(c),T=wI(p,10);function E(e){if(j.current){const t=e.clientX-j.current.left,s=e.clientY-j.current.top;d({x:t,y:s})}}return Ct.useEffect(()=>{const e=e=>{const t=e.target;(null==v?void 0:v.contains(t))&&C(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[k,v,S,C]),Ct.useEffect(A,[r,A]),jI(v,T),jI(b.content,T),s.jsx(aI,{scope:i,scrollbar:v,hasThumb:a,onThumbChange:g(n),onThumbPointerUp:g(o),onThumbPositionChange:A,onThumbPointerDown:g(l),children:s.jsx(m.div,{...x,ref:w,style:{position:"absolute",...x.style},onPointerDown:f(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),j.current=v.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),E(e)}}),onPointerMove:f(e.onPointerMove,E),onPointerUp:f(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),j.current=null})})})}),lI="ScrollAreaThumb",cI=Ct.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=nI(lI,e.__scopeScrollArea);return s.jsx(S,{present:i||a.hasThumb,children:s.jsx(dI,{ref:t,...r})})}),dI=Ct.forwardRef((e,t)=>{const{__scopeScrollArea:i,style:r,...a}=e,n=qP(lI,i),o=nI(lI,i),{onThumbPositionChange:l}=o,c=h(t,e=>o.onThumbChange(e)),d=Ct.useRef(void 0),u=wI(()=>{d.current&&(d.current(),d.current=void 0)},100);return Ct.useEffect(()=>{const e=n.viewport;if(e){const t=()=>{if(u(),!d.current){const t=yI(e,l);d.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[n.viewport,u,l]),s.jsx(m.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:f(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,i=e.clientY-t.top;o.onThumbPointerDown({x:s,y:i})}),onPointerUp:f(e.onPointerUp,o.onThumbPointerUp)})});cI.displayName=lI;var uI="ScrollAreaCorner",hI=Ct.forwardRef((e,t)=>{const i=qP(uI,e.__scopeScrollArea),r=Boolean(i.scrollbarX&&i.scrollbarY);return"scroll"!==i.type&&r?s.jsx(pI,{...e,ref:t}):null});hI.displayName=uI;var pI=Ct.forwardRef((e,t)=>{const{__scopeScrollArea:i,...r}=e,a=qP(uI,i),[n,o]=Ct.useState(0),[l,c]=Ct.useState(0),d=Boolean(n&&l);return jI(a.scrollbarX,()=>{var e;const t=(null==(e=a.scrollbarX)?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),c(t)}),jI(a.scrollbarY,()=>{var e;const t=(null==(e=a.scrollbarY)?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),o(t)}),d?s.jsx(m.div,{...r,ref:t,style:{width:n,height:l,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function mI(e){return e?parseInt(e,10):0}function fI(e,t){const s=e/t;return isNaN(s)?0:s}function gI(e){const t=fI(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-s)*t;return Math.max(i,18)}function xI(e,t,s="ltr"){const i=gI(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-r,n=t.content-t.viewport,o=a-i,l=hN(e,"ltr"===s?[0,n]:[-1*n,0]);return bI([0,n],[0,o])(l)}function bI(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(s-e[0])}}function vI(e,t){return e>0&&e<t}var yI=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},i=0;return function r(){const a={left:e.scrollLeft,top:e.scrollTop},n=s.left!==a.left,o=s.top!==a.top;(n||o)&&t(),s=a,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)};function wI(e,t){const s=g(e),i=Ct.useRef(0);return Ct.useEffect(()=>()=>window.clearTimeout(i.current),[]),Ct.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,t)},[s,t])}function jI(e,t){const s=g(t);b(()=>{let t=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(t),i.unobserve(e)}}},[e,s])}var NI=GP,kI=QP,SI=hI;const CI=Ct.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(NI,{ref:r,className:Yh("relative overflow-hidden",e),...i,children:[s.jsx(kI,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(AI,{}),s.jsx(SI,{})]}));CI.displayName=NI.displayName;const AI=Ct.forwardRef(({className:e,orientation:t="vertical",...i},r)=>s.jsx(ZP,{ref:r,orientation:t,className:Yh("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...i,children:s.jsx(cI,{className:"relative flex-1 rounded-full bg-border"})}));function TI({message:e,onCopy:t,onFeedback:i}){const r=e.role===Ud.MessageRole.USER,a=e.role===Ud.MessageRole.ASSISTANT;return s.jsxs("div",{className:Yh("flex items-start space-x-3 group",r&&"flex-row-reverse space-x-reverse"),children:[s.jsx(TT,{className:"w-8 h-8 flex-shrink-0",children:s.jsx(RT,{className:Yh("text-xs font-medium font-platform",r?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"),children:r?"You":"AI"})}),s.jsxs("div",{className:Yh("flex-1 max-w-[80%]",r&&"flex flex-col items-end"),children:[s.jsxs("div",{className:Yh("rounded-lg p-3 shadow-sm",r?"bg-primary text-primary-foreground ml-auto":"bg-card border"),children:[s.jsx("div",{className:"text-sm whitespace-pre-wrap break-words font-content",children:e.content}),a&&e.metadata&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-muted text-xs text-muted-foreground font-platform",children:[e.metadata.confidence&&s.jsxs("div",{children:["Confidence: ",Math.round(100*e.metadata.confidence),"%"]}),e.metadata.sources&&e.metadata.sources.length>0&&s.jsxs("div",{children:["Sources: ",e.metadata.sources.length," references"]})]})]}),a&&s.jsxs("div",{className:"flex items-center space-x-1 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsxs(cw,{variant:"ghost",size:"sm",onClick:()=>{t?t(e.content):navigator.clipboard.writeText(e.content)},className:"h-6 px-2 text-xs",children:[s.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Copy"]}),i&&s.jsxs(s.Fragment,{children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>i(e.id,"positive"),className:"h-6 px-2 text-xs",children:s.jsx(rt,{className:"w-3 h-3"})}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>i(e.id,"negative"),className:"h-6 px-2 text-xs",children:s.jsx(at,{className:"w-3 h-3"})})]})]}),s.jsx("div",{className:Yh("text-xs text-muted-foreground mt-1",r&&"text-right"),children:new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}function EI({onSendMessage:e,disabled:t=!1,loading:i=!1,placeholder:r="Ask a question about this topic...",suggestedQuestions:a=[],onSelectSuggestion:n}){const[o,l]=Ct.useState(""),c=Ct.useRef(null);Ct.useEffect(()=>{const e=c.current;e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,120)}px`)},[o]);const d=s=>{s.preventDefault();const r=o.trim();!r||t||i||(e(r),l(""))};return s.jsxs("div",{className:"space-y-3",children:[a.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((e,r)=>s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>(e=>{var t;n?n(e):(l(e),null==(t=c.current)||t.focus())})(e),disabled:t||i,className:"text-xs h-auto py-1 px-2 whitespace-normal text-left",children:e},r))}),s.jsxs("form",{onSubmit:d,className:"flex space-x-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(XC,{ref:c,value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),d(e))},placeholder:r,disabled:t||i,className:Yh("min-h-[40px] max-h-[120px] resize-none pr-12","focus:ring-2 focus:ring-primary focus:border-transparent"),rows:1}),o.length>0&&s.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:o.length})]}),s.jsx(cw,{type:"submit",disabled:!o.trim()||t||i,size:"sm",className:"self-end",children:i?s.jsx(ne,{className:"w-4 h-4 animate-spin"}):s.jsx(nt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Press Enter to send, Shift+Enter for new line"})]})}function RI({thread:e,onSendMessage:t,loading:i=!1,error:r,suggestedQuestions:a=[],topicTitle:n}){const[o,l]=Ct.useState(!1),c=Ct.useRef(null),d=Ct.useRef(null);Ct.useEffect(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[null==e?void 0:e.messages]);const u=async e=>{if(e.trim()&&!i)try{l(!0),await t(e)}catch(s){}finally{l(!1)}};Ct.useEffect(()=>{!i&&o&&l(!1)},[i,o]),Ct.useEffect(()=>{},[i,o,e,r]);const h=e=>{navigator.clipboard.writeText(e)},p=(e,t)=>{},m=n?[`What are the fundamentals of ${n}?`,`How is ${n} used in practice?`,`What are common challenges with ${n}?`,`How do I get started with ${n}?`]:[],f=a.length>0?a:m;return s.jsxs(Vy,{className:"h-full flex flex-col",children:[s.jsx(Uy,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qy,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-white shadow-lg",children:s.jsx(ee,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-foreground",children:"AI Learning Assistant"}),n&&s.jsxs("p",{className:"text-sm text-muted-foreground font-normal",children:["Ask questions about ",s.jsx("span",{className:"font-medium text-foreground",children:n})]})]})]}),e&&s.jsxs(Dw,{variant:"secondary",className:"rounded-full",children:[e.messages.length," ",1===e.messages.length?"message":"messages"]})]})}),s.jsxs($y,{className:"flex-1 flex flex-col p-0",children:[s.jsx("div",{className:"flex-1 min-h-0 relative",children:s.jsx(CI,{ref:d,className:"h-full",children:s.jsxs("div",{className:"px-6 py-4 space-y-6",children:[(!e||0===e.messages.length)&&s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-white text-sm font-medium flex-shrink-0",children:"AI"}),s.jsx("div",{className:"flex-1 space-y-1",children:s.jsx("div",{className:"bg-muted/50 rounded-2xl rounded-tl-md p-4 max-w-2xl",children:s.jsxs("p",{className:"text-sm leading-relaxed",children:["Hello! I'm your AI learning assistant",n&&` for ${n}`,". I can help answer questions, explain concepts, and provide detailed explanations to help you learn effectively. What would you like to explore today?"]})})})]}),null==e?void 0:e.messages.map(e=>s.jsx(TI,{message:e,onCopy:h,onFeedback:p},e.id)),(i||o)&&s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-white text-sm font-medium flex-shrink-0",children:"AI"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-muted/50 rounded-2xl rounded-tl-md p-4 max-w-xs",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Thinking..."})]})})})]}),r&&s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-destructive flex items-center justify-center text-white text-sm font-medium flex-shrink-0",children:s.jsx(Y,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-2xl rounded-tl-md p-4 max-w-2xl",children:s.jsx("p",{className:"text-sm text-destructive",children:r})})})]}),s.jsx("div",{ref:c})]})})}),s.jsx("div",{className:"shrink-0 border-t p-4",children:s.jsx(EI,{onSendMessage:u,disabled:!1,loading:i||o,placeholder:e?"Ask a question about this topic...":"Ask a question to start a new conversation...",suggestedQuestions:e&&0===e.messages.length?f:[],onSelectSuggestion:u})})]})]})}AI.displayName=ZP.displayName;const PI=class{constructor(){t(this,"internal",{pageSize:{getWidth:()=>210,getHeight:()=>297}})}setFontSize(){}text(){}output(){return new ArrayBuffer(0)}setTextColor(){}addPage(){}splitTextToSize(){return[]}setFont(){}setFillColor(){}rect(){}getNumberOfPages(){return 1}setPage(){}};const II=new class{async exportTopicContent(e,t,s={format:"markdown"},i){switch(s.format){case"markdown":return this.exportAsMarkdown(e,t,s,i);case"html":return this.exportAsHTML(e,t,s,i);case"pdf":return this.exportAsPDF(e,t,s,i);case"json":return this.exportAsJSON(e,t,s,i);default:throw new Error(`Unsupported export format: ${s.format}`)}}async exportAsMarkdown(e,t,s,i){var r;let a="";s.includeMetadata&&(a+=this.generateMarkdownMetadata(e,i)),a+=t,s.includeBookmarks&&(null==(r=null==i?void 0:i.bookmarks)?void 0:r.length)&&(a+=this.generateBookmarksSection(i.bookmarks)),s.includeProgress&&i&&(a+=this.generateProgressSection(i));return{content:a,filename:`${this.sanitizeFilename(e.title)}.md`,mimeType:"text/markdown",size:new Blob([a]).size}}async exportAsHTML(e,t,s,i){const r=await this.exportAsMarkdown(e,t,s,i),a=this.markdownToHTML(r.content),n=`\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>${e.title}</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            line-height: 1.6;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 2rem;\n            color: #333;\n        }\n        h1, h2, h3, h4, h5, h6 {\n            color: #2563eb;\n            margin-top: 2rem;\n            margin-bottom: 1rem;\n        }\n        code {\n            background-color: #f3f4f6;\n            padding: 0.2rem 0.4rem;\n            border-radius: 0.25rem;\n            font-family: 'Monaco', 'Menlo', monospace;\n        }\n        pre {\n            background-color: #f9fafb;\n            padding: 1rem;\n            border-radius: 0.5rem;\n            overflow-x: auto;\n        }\n        blockquote {\n            border-left: 4px solid #e5e7eb;\n            padding-left: 1rem;\n            margin-left: 0;\n            font-style: italic;\n        }\n        .metadata {\n            background-color: #f0f9ff;\n            padding: 1rem;\n            border-radius: 0.5rem;\n            margin-bottom: 2rem;\n        }\n        .bookmarks {\n            background-color: #fefce8;\n            padding: 1rem;\n            border-radius: 0.5rem;\n            margin-top: 2rem;\n        }\n        .progress {\n            background-color: #f0fdf4;\n            padding: 1rem;\n            border-radius: 0.5rem;\n            margin-top: 2rem;\n        }\n    </style>\n</head>\n<body>\n    ${a}\n</body>\n</html>`;return{content:n,filename:`${this.sanitizeFilename(e.title)}.html`,mimeType:"text/html",size:new Blob([n]).size}}async exportAsPDF(e,t,s,i){try{const r=await this.exportAsHTML(e,t,s,i),a=new PI({orientation:s.orientation||"portrait",unit:"mm",format:s.pageSize||"a4"}),n=s.fontSize||12,o=a.internal.pageSize.getWidth(),l=a.internal.pageSize.getHeight(),c=20,d=o-2*c;s.watermark&&(a.setTextColor(200,200,200),a.setFontSize(50),a.text(s.watermark,o/2,l/2,{align:"center",angle:45})),a.setTextColor(0,0,0),a.setFontSize(n);const u=await this.htmlToPdfContent(r.content);a.setFontSize(n+6),a.text(e.title,c,c+10);let h=c+25;const p=.4*n;for(const e of u)if(h>l-c-20&&(a.addPage(),h=c+10),"heading"===e.type)a.setFontSize(n+(1===e.level?4:2===e.level?2:0)),a.text(e.text,c,h),h+=p+5,a.setFontSize(n);else if("paragraph"===e.type){const t=a.splitTextToSize(e.text,d);for(const e of t)h>l-c-20&&(a.addPage(),h=c+10),a.text(e,c,h),h+=p;h+=5}else if("code"===e.type){a.setFont("monospace","normal"),a.setFillColor(245,245,245),a.rect(c-5,h-5,d+10,e.text.split("\n").length*p+10,"F");const t=e.text.split("\n");for(const e of t)h>l-c-20&&(a.addPage(),h=c+10),a.text(e,c,h),h+=p;h+=5}const m=a.getNumberOfPages();for(let e=1;e<=m;e++)a.setPage(e),a.setFontSize(8),a.setTextColor(128,128,128),a.text(`Page ${e} of ${m} • Exported from BrainLens • ${(new Date).toLocaleDateString()}`,o/2,l-10,{align:"center"});const f=a.output("arraybuffer"),g=`${this.sanitizeFilename(e.title)}.pdf`;return{content:new Uint8Array(f),filename:g,mimeType:"application/pdf",size:f.byteLength}}catch(r){const a=await this.exportAsHTML(e,t,s,i),n=`${this.sanitizeFilename(e.title)}_fallback.html`;return{content:a.content,filename:n,mimeType:"text/html",size:a.size}}}async exportAsJSON(e,t,s,i){const r={topic:{id:e.id,title:e.title,summary:e.summary,description:e.description,createdAt:e.createdAt,updatedAt:e.updatedAt},content:t,userProgress:i?{completed:i.completed,timeSpent:i.timeSpent,lastAccessed:i.lastAccessed,bookmarks:i.bookmarks,preferences:i.preferences}:null,exportMetadata:{exportedAt:(new Date).toISOString(),format:"json",version:"1.0.0",options:s}},a=JSON.stringify(r,null,2);return{content:a,filename:`${this.sanitizeFilename(e.title)}.json`,mimeType:"application/json",size:new Blob([a]).size}}async batchExport(e,t,s){const i=[],r=[];if(t.combineIntoSingle&&1===t.formats.length){const s=this.combineTopicsContent(e),r=this.createCombinedTopic(Array.from(e.keys())),a={...t,format:t.formats[0]},n=await this.exportTopicContent(r,s,a);i.push(n)}else{for(const[i,n]of e)for(const e of t.formats){const a={...t,format:e},o=null==s?void 0:s.get(i.id);r.push(this.exportTopicContent(i,n,a,o))}const a=await Promise.allSettled(r);for(const e of a)"fulfilled"===e.status&&i.push(e.value)}const a=i.reduce((e,t)=>e+t.size,0);let n;return t.zipOutput&&i.length>1&&(n=await this.createZipArchive(i)),{results:i,zipFile:n,totalSize:a,exportedAt:new Date}}async htmlToPdfContent(e){const t=[],s=document.createElement("div");s.innerHTML=e;return s.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, blockquote").forEach(e=>{const s=e.tagName.toLowerCase(),i=e.textContent||"";if(s.startsWith("h")){const e=parseInt(s[1]);t.push({type:"heading",text:i,level:e})}else"pre"===s?t.push({type:"code",text:i}):t.push({type:"paragraph",text:i})}),t}combineTopicsContent(e){const t=[];t.push("# Combined Learning Materials\n"),t.push(`*Generated on ${(new Date).toLocaleDateString()}*\n`),t.push("---\n");for(const[s,i]of e)t.push(`\n## ${s.title}\n`),s.summary&&t.push(`**Summary:** ${s.summary}\n`),t.push("---\n"),t.push(i),t.push("\n---\n");return t.join("\n")}createCombinedTopic(e){return{id:"combined-"+Date.now(),title:`Combined Learning Materials (${e.length} topics)`,summary:`Combined export of ${e.map(e=>e.title).join(", ")}`,description:`Batch export containing ${e.length} learning topics`,createdAt:new Date,updatedAt:new Date}}async createZipArchive(e){const t=JSON.stringify({files:e.map(e=>({filename:e.filename,size:e.size,mimeType:e.mimeType})),message:"ZIP creation requires JSZip library integration"});return(new TextEncoder).encode(t)}generateMarkdownMetadata(e,t){return[`# ${e.title}`,"","---","",`**Topic:** ${e.title}`,e.summary?`**Summary:** ${e.summary}`:"",e.description?`**Description:** ${e.description}`:"",`**Created:** ${new Date(e.createdAt).toLocaleDateString()}`,`**Last Updated:** ${new Date(e.updatedAt).toLocaleDateString()}`,t?`**Last Accessed:** ${new Date(t.lastAccessed).toLocaleDateString()}`:"",t?`**Time Spent:** ${Math.round(t.timeSpent/60)} minutes`:"",t?"**Completed:** "+(t.completed?"Yes":"No"):"","","---",""].filter(e=>""!==e).join("\n")}generateBookmarksSection(e){return e.length?["","## 📖 Bookmarked Sections","",...e.map(e=>`- ${e}`),""].join("\n"):""}generateProgressSection(e){var t,s;const i=(null==(t=e.preferences)?void 0:t.readSections)||[];return["","## 📊 Learning Progress","",`**Time Spent:** ${Math.round(e.timeSpent/60)} minutes`,"**Completion Status:** "+(e.completed?"Completed":"In Progress"),`**Bookmarks:** ${(null==(s=e.bookmarks)?void 0:s.length)||0}`,`**Sections Read:** ${i.length}`,`**Last Accessed:** ${new Date(e.lastAccessed).toLocaleDateString()}`,""].join("\n")}markdownToHTML(e){return e.replace(/^### (.*$)/gim,"<h3>$1</h3>").replace(/^## (.*$)/gim,"<h2>$1</h2>").replace(/^# (.*$)/gim,"<h1>$1</h1>").replace(/\*\*(.*)\*\*/gim,"<strong>$1</strong>").replace(/\*(.*)\*/gim,"<em>$1</em>").replace(/```([\s\S]*?)```/gim,"<pre><code>$1</code></pre>").replace(/`([^`]*)`/gim,"<code>$1</code>").replace(/\[([^\]]*)\]\(([^\)]*)\)/gim,'<a href="$2">$1</a>').replace(/\n/gim,"<br>").replace(/^---$/gim,"<hr>")}sanitizeFilename(e){return e.replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase()}createDownloadBlob(e){return e.content,Uint8Array,new Blob([e.content],{type:e.mimeType})}downloadBatchResults(e){if(e.zipFile){const t=new Blob([e.zipFile],{type:"application/zip"}),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=`batch_export_${(new Date).toISOString().split("T")[0]}.zip`,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(s),100)}else e.results.forEach((e,t)=>{setTimeout(()=>this.downloadContent(e),100*t)})}async exportWithProgress(e,t,s,i){const r=[],a=e.size*t.formats.length;let n=0;for(const[d,u]of e)for(const e of t.formats){n++,i&&i(n,a,`${d.title} (${e})`);try{const i={...t,format:e},a=null==s?void 0:s.get(d.id),n=await this.exportTopicContent(d,u,i,a);r.push(n)}catch(c){}}const o=r.reduce((e,t)=>e+t.size,0);let l;return t.zipOutput&&r.length>1&&(l=await this.createZipArchive(r)),{results:r,zipFile:l,totalSize:o,exportedAt:new Date}}downloadContent(e){const t=this.createDownloadBlob(e),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=e.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(s),100)}};function LI({thread:e,onClose:t,topicTitle:i}){var r;const[a,n]=Ct.useState(!1),[l,c]=Ct.useState(),d=async s=>{if(null==e?void 0:e.messages)try{n(!0),c(void 0);const r=e.messages.map(e=>{let t=`## ${"USER"===e.role?"User":"Assistant"} (${new Date(e.createdAt).toLocaleString()})\n\n${e.content}`;if("ASSISTANT"===e.role&&e.metadata){const s=e.metadata;s.confidence&&(t+=`\n\n*Confidence: ${Math.round(100*s.confidence)}%*`),s.sources&&s.sources.length>0&&(t+=`\n\n**Sources:** ${s.sources.length} references`)}return t}).join("\n\n---\n\n"),a={id:e.id,title:e.title||`Chat about ${i}`,summary:`Conversation about ${i} with ${e.messages.length} messages`,description:`Exported conversation from ${(new Date).toLocaleDateString()}`,createdAt:e.createdAt,updatedAt:new Date},o=await II.exportTopicContent(a,r,{format:s,includeMetadata:!0,includeProgress:!1}),l=new Blob([o.content],{type:o.mimeType}),d=URL.createObjectURL(l),u=document.createElement("a");u.href=d,u.download=o.filename,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d),t()}catch(r){const e=r instanceof Error?r.message:"Failed to export conversation";c(e)}finally{n(!1)}else c("No conversation to export")},u=(null==(r=null==e?void 0:e.messages)?void 0:r.length)||0,h=(null==e?void 0:e.title)||`Chat about ${i}`;return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(Vy,{className:"w-full max-w-lg mx-4",children:[s.jsxs(Uy,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ot,{className:"w-5 h-5 mr-2"}),s.jsx(qy,{children:"Export Conversation"})]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(o,{className:"w-4 h-4"})})]}),s.jsxs(Gy,{children:['Export "',h,'" (',u," messages)"]})]}),s.jsxs($y,{className:"space-y-4",children:[l&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:s.jsx("p",{className:"text-sm text-destructive",children:l})}),0===u&&s.jsx("div",{className:"p-3 bg-muted/50 border rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages to export"})}),u>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(cw,{onClick:()=>d("markdown"),disabled:a,variant:"outline",className:"justify-start h-auto p-4",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(Ne,{className:"w-5 h-5 mr-3 text-blue-600"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-sm",children:"Markdown (.md)"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Formatted text with headers, styling, and metadata"})]}),s.jsx(Dw,{variant:"secondary",className:"text-xs",children:"Recommended"})]})}),s.jsx(cw,{onClick:()=>d("html"),disabled:a,variant:"outline",className:"justify-start h-auto p-4",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(lt,{className:"w-5 h-5 mr-3 text-orange-600"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-sm",children:"HTML (.html)"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Web page format with styling and interactive elements"})]})]})}),s.jsx(cw,{onClick:()=>d("pdf"),disabled:a,variant:"outline",className:"justify-start h-auto p-4",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(ct,{className:"w-5 h-5 mr-3 text-red-600"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-sm",children:"PDF (.pdf)"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Professional document format (converted from HTML)"})]}),s.jsx(Dw,{variant:"outline",className:"text-xs",children:"Coming Soon"})]})})]}),s.jsx("div",{className:"border-t pt-4 space-y-2",children:s.jsxs(cw,{onClick:async()=>{if(null==e?void 0:e.messages)try{n(!0),c(void 0);const s=e.messages.map(e=>{const t="USER"===e.role?"You":"AI Assistant";return`[${new Date(e.createdAt).toLocaleTimeString()}] ${t}: ${e.content}`}).join("\n\n");await navigator.clipboard.writeText(s),t()}catch(s){const e=s instanceof Error?s.message:"Failed to copy conversation";c(e)}finally{n(!1)}else c("No conversation to copy")},disabled:a,variant:"outline",className:"w-full",children:[a?s.jsx(ne,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]})})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:s.jsx(cw,{onClick:t,variant:"outline",disabled:a,children:"Close"})})]})]})})}function MI({threads:e,activeThreadId:t,onSelectThread:i,onNewThread:r,onDeleteThread:a,loading:n=!1}){const[o,l]=Ct.useState(),c=e=>{const t=(new Date).getTime()-new Date(e).getTime(),s=Math.floor(t/6e4),i=Math.floor(t/36e5),r=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:i<24?`${i}h ago`:r<7?`${r}d ago`:new Date(e).toLocaleDateString()},d=(e,t=50)=>e.length<=t?e:e.substring(0,t)+"...";return s.jsxs(Vy,{className:"h-full",children:[s.jsx(Uy,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(qy,{className:"text-sm font-medium",children:"Conversations"}),s.jsxs(cw,{onClick:r,disabled:n,size:"sm",variant:"outline",className:"h-8 px-2",children:[s.jsx(Se,{className:"w-3 h-3 mr-1"}),"New"]})]})}),s.jsx($y,{className:"p-0",children:s.jsx(CI,{className:"h-[400px]",children:0===e.length?s.jsxs("div",{className:"p-4 text-center text-muted-foreground text-sm",children:[s.jsx(dt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No conversations yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Start a new chat to begin"})]}):s.jsx("div",{className:"space-y-1 p-2",children:e.map(e=>s.jsxs("div",{className:Yh("group relative rounded-lg p-3 cursor-pointer transition-colors","hover:bg-muted/50",t===e.id?"bg-primary/10 border border-primary/20":"border border-transparent"),onClick:()=>i(e.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("h4",{className:Yh("text-sm font-medium truncate pr-2",t===e.id&&"text-primary"),children:e.title||"Untitled Chat"}),s.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100",children:[s.jsx(cw,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),l(e)},className:"h-6 w-6 p-0 text-muted-foreground hover:text-primary",title:"Export conversation",children:s.jsx(ot,{className:"w-3 h-3"})}),a&&s.jsx(cw,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),a(e.id)},className:"h-6 w-6 p-0 text-muted-foreground hover:text-destructive",title:"Delete conversation",children:s.jsx(oe,{className:"w-3 h-3"})})]})]}),e.lastMessage&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:d(e.lastMessage.content)}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(Dw,{variant:"secondary",className:"text-xs px-1 py-0",children:[e.messageCount," messages"]})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ie,{className:"w-3 h-3"}),s.jsx("span",{children:c(e.updatedAt)})]})]})]},e.id))})})}),o&&s.jsx(LI,{thread:o,topicTitle:"Chat Conversation",onClose:()=>l(void 0)})]})}function OI(){const{topic:e,isLoading:t}=hE(),[i,r]=Ct.useState(!0),{threads:a,activeThread:n,activeThreadId:o,suggestedQuestions:l,loading:c,error:d,createThread:u,selectThread:h,sendMessage:p,deleteThread:m}=function({topicId:e,autoCreateThread:t=!1}){const[s,i]=Ct.useState(),[r,a]=Ct.useState(!1),[n,o]=Ct.useState(),[l,c]=Ct.useState([]),{data:d=[],isLoading:u,error:h,refetch:p}=Hu(Ou,{topicId:e}),{data:m,isLoading:f,error:g,refetch:x}=Hu(Mu,s?{threadId:s}:void 0,{enabled:!!s});Ct.useEffect(()=>{!s&&d.length>0?i(d[0].id):s||!t||u||0!==d.length||uu({topicId:e}).then(e=>{i(e.id),p()}).catch(e=>{})},[d,s,t,u,e,p]);const b=Ct.useCallback(async t=>{try{a(!0),o(void 0);const s=await uu({topicId:e,title:t});return i(s.id),await p(),s}catch(s){const e=s instanceof Error?s.message:"Failed to create chat thread";throw o(e),s}finally{a(!1)}},[e,p]),v=Ct.useCallback(async e=>{if(!s)throw new Error("No active chat thread");try{a(!0),o(void 0);const t=await hu({threadId:s,content:e});return t.suggestedQuestions&&c(t.suggestedQuestions),await x(),await p(),t}catch(t){const e=t instanceof Error?t.message:"Failed to send message";throw o(e),t}finally{a(!1)}},[s,x,p]),y=Ct.useCallback(e=>{i(e),o(void 0),c([])},[]),w=Ct.useCallback(async(e,t)=>{try{a(!0),o(void 0);const i=await pu({threadId:e,...t});return await p(),e===s&&await x(),i}catch(i){const e=i instanceof Error?i.message:"Failed to update thread";throw o(e),i}finally{a(!1)}},[s,x,p]),j=Ct.useCallback(async e=>{if(e===s){const t=d.filter(t=>t.id!==e);t.length>0?i(t[0].id):i(void 0)}},[s,d]),N=Ct.useCallback(async(e,t)=>{try{return a(!0),o(void 0),await mu({threadId:e,format:t})}catch(s){const e=s instanceof Error?s.message:"Failed to export thread";throw o(e),s}finally{a(!1)}},[]),k=Ct.useCallback(()=>{o(void 0)},[]);return{threads:d,activeThread:m,activeThreadId:s,suggestedQuestions:l,loading:r||!!s&&f,threadsLoading:u,error:n||(null==h?void 0:h.message)||(null==g?void 0:g.message),createThread:b,selectThread:y,sendMessage:v,updateThread:w,deleteThread:j,exportThread:N,clearError:k,refetchThreads:p,refetchThread:x}}({topicId:(null==e?void 0:e.id)||"",autoCreateThread:!1});if(t)return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-96 bg-muted rounded"})]})});if(!e)return s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Topic not found"})})});const f=async()=>{try{await u(`Chat about ${e.title}`)}catch(t){}};return s.jsxs("div",{className:"h-full flex gap-4",children:[i&&s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsx(MI,{threads:a,activeThreadId:o,onSelectThread:h,onNewThread:f,onDeleteThread:m,loading:c})}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>r(!i),className:"flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ut,{className:"w-4 h-4"}),"Hide Conversations"]}):s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"w-4 h-4"}),"Show Conversations"]})}),!n&&s.jsx(cw,{onClick:f,disabled:c,children:"Start New Conversation"})]}),s.jsx("div",{className:"flex-1",children:s.jsx(RI,{thread:n,onSendMessage:async t=>{try{let s=o;if(!s){s=(await u(`Chat about ${e.title}`)).id}s&&await p(t)}catch(s){}},loading:c,error:d,suggestedQuestions:l,topicTitle:e.title})})]})]})}const DI=Ct.memo(({data:e,selected:t})=>{var i,r;const{topic:a,isHighlighted:n,onClick:o}=e,l=(null==(i=a.userProgress)?void 0:i.completed)||!1,c=a.userProgress&&a.userProgress.timeSpent>0;return s.jsxs(s.Fragment,{children:[s.jsx(Ns,{type:"target",position:ks.Left,style:{background:l?"#10b981":c?"#3b82f6":"#6b7280",width:6,height:6,border:"none"}}),s.jsx(Ns,{type:"source",position:ks.Right,style:{background:l?"#10b981":c?"#3b82f6":"#6b7280",width:6,height:6,border:"none"}}),s.jsx("div",{className:`\n          relative border rounded-xl cursor-pointer shadow-sm hover:shadow-md\n          ${l?"bg-emerald-50 border-emerald-300 text-emerald-900":c?"bg-blue-50 border-blue-300 text-blue-900":"bg-white border-gray-200 text-gray-900"}\n          ${t?"ring-2 ring-blue-500 ring-offset-1":""}\n          ${n?"ring-2 ring-amber-400 ring-offset-1":""}\n        `,style:{width:200,height:80},onClick:()=>{null==o||o(a)},children:s.jsxs("div",{className:"p-4 h-full flex flex-col justify-between",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[l?s.jsx(W,{className:"w-4 h-4 text-emerald-600"}):c?s.jsx(ie,{className:"w-4 h-4 text-blue-600"}):s.jsx(Z,{className:"w-4 h-4 text-gray-500"}),s.jsx("h3",{className:"font-medium text-sm leading-tight line-clamp-2 flex-1",children:a.title})]})}),a.summary&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:a.summary}),c&&!l&&s.jsx("div",{className:"mt-2 w-full h-1 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.min(100,((null==(r=a.userProgress)?void 0:r.timeSpent)||0)/60*10)}%`}})})]})})]})});DI.displayName="TopicNode";const _I={topicNode:DI},zI=e=>{var t;return(null==(t=e.userProgress)?void 0:t.completed)?"#10b981":e.userProgress&&e.userProgress.timeSpent>0?"#3b82f6":"#6b7280"};function FI({topics:e,selectedTopicId:t,onTopicSelect:i}){const[r,a,n]=Cs([]),[o,l,c]=As([]);Ts();const{nodes:d,edges:u}=Ct.useMemo(()=>0===e.length?{nodes:[],edges:[]}:(e=>{const t=[],s=[],i=(e,r,a=0,n=0,o)=>{const l=n-120*(e.length-1)/2;e.forEach((e,a)=>{const n=300*r,c=l+120*a,d={id:e.id,type:"topicNode",position:{x:n,y:c},data:{topic:e,isHighlighted:!1},sourcePosition:ks.Right,targetPosition:ks.Left};t.push(d),o&&s.push({id:`${o}-${e.id}`,source:o,target:e.id,type:"smoothstep",markerEnd:{type:Ms.ArrowClosed,width:20,height:20},style:{strokeWidth:2,stroke:zI(e)}}),e.children&&e.children.length>0&&i(e.children,r+1,n,c,e.id)})};return i(e,0),{nodes:t,edges:s}})(e),[e]);Ct.useEffect(()=>{const e=d.map(e=>({...e,data:{...e.data,onClick:i,isHighlighted:e.id===t}}));a(e),l(u)},[d,u,t,i,a,l]);const h=Ct.useCallback(e=>l(t=>Es(e,t)),[l]);return s.jsxs("div",{className:"h-full w-full",children:[s.jsxs(Rs,{nodes:r,edges:o,onNodesChange:n,onEdgesChange:c,onConnect:h,nodeTypes:_I,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},attributionPosition:"bottom-left",proOptions:{hideAttribution:!0},className:"bg-background",children:[s.jsx(Ps,{position:"bottom-left",showZoom:!0,showFitView:!0,showInteractive:!1}),s.jsx(Is,{variant:Ls.Dots,gap:20,size:1,color:"hsl(var(--muted))"})]}),0===r.length&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs(Vy,{className:"p-8 text-center max-w-md",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Topics to Visualize"}),s.jsx("p",{className:"text-muted-foreground",children:"Start exploring topics to see them appear in the mind map"})]})})]})}function BI(e){return s.jsx(Ss,{children:s.jsx(FI,{...e})})}function HI(){const{topic:e,isLoading:t}=hE(),i=Ct.useMemo(()=>{if(!e)return[];const t=e=>{const s=[e];return e.children&&e.children.forEach(e=>{s.push(...t(e))}),s};return t(e)},[e]);return t?s.jsx("div",{className:"h-full w-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e?s.jsx("div",{className:"h-full w-full",children:s.jsx(BI,{topics:i,selectedTopicId:null==e?void 0:e.id,onTopicSelect:e=>{}})}):s.jsx("div",{className:"h-full w-full flex items-center justify-center",children:s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Topic not found"})})})})}function WI({quiz:e,onQuizComplete:t,onExit:i}){const[r,a]=Ct.useState(0),[n,o]=Ct.useState({}),[l,c]=Ct.useState({}),[d,u]=Ct.useState(!1),[h,p]=Ct.useState(0),[m,f]=Ct.useState(!1),[g,x]=Ct.useState(!1),b=e.questions[r],v=e.questions.length,y=(r+1)/v*100;Ct.useEffect(()=>{if(g)return;const e=setInterval(()=>{p(e=>e+1)},1e3);return()=>clearInterval(e)},[g]);const w=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,j=e=>{o(t=>({...t,[b.id]:e}))},N=b.id in l,k=l[b.id],S=Object.keys(l).length,C=Object.values(l).filter(e=>e.isCorrect).length,A=S>0?C/S*100:0;return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(Vy,{children:s.jsxs(Uy,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qy,{className:"text-lg",children:e.title}),s.jsxs(Gy,{children:["Question ",r+1," of ",v]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(ie,{className:"w-4 h-4"}),s.jsx("span",{children:w(h)})]}),s.jsx(cw,{variant:"outline",size:"sm",onClick:i,children:"Exit Quiz"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Zw,{value:y,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Progress: ",Math.round(y),"%"]}),s.jsxs("span",{children:["Score: ",Math.round(A),"%"]})]})]})]})}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Dw,{variant:"outline",children:b.type.replace("_"," ").toLowerCase()}),N&&s.jsxs(Dw,{variant:k.isCorrect?"default":"destructive",children:[k.isCorrect?s.jsx(W,{className:"w-3 h-3 mr-1"}):s.jsx(pt,{className:"w-3 h-3 mr-1"}),k.isCorrect?"Correct":"Incorrect"]})]}),s.jsx(qy,{className:"text-base font-medium leading-relaxed",children:b.question})]}),s.jsxs($y,{className:"space-y-4",children:[b.type===Ud.QuestionType.MULTIPLE_CHOICE&&s.jsx(HE,{value:n[b.id]||"",onValueChange:j,disabled:N,children:b.options.map((e,t)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:e,id:`option-${t}`}),s.jsx(cb,{htmlFor:`option-${t}`,className:"flex-1 cursor-pointer",children:e})]},t))}),b.type===Ud.QuestionType.TRUE_FALSE&&s.jsxs(HE,{value:n[b.id]||"",onValueChange:j,disabled:N,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"True",id:"true"}),s.jsx(cb,{htmlFor:"true",className:"cursor-pointer",children:"True"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"False",id:"false"}),s.jsx(cb,{htmlFor:"false",className:"cursor-pointer",children:"False"})]})]}),b.type===Ud.QuestionType.FILL_BLANK&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(cb,{htmlFor:"fill-blank",children:"Your Answer:"}),s.jsx(Sj,{id:"fill-blank",value:n[b.id]||"",onChange:e=>j(e.target.value),disabled:N,placeholder:"Type your answer here..."})]}),b.type===Ud.QuestionType.CODE_CHALLENGE&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(cb,{htmlFor:"code-answer",children:"Your Answer:"}),s.jsx(XC,{id:"code-answer",value:n[b.id]||"",onChange:e=>j(e.target.value),disabled:N,placeholder:"Type your answer here...",rows:4,className:"font-mono"})]}),!N&&s.jsx(cw,{onClick:async()=>{const s=n[b.id];if(s&&""!==s.trim()){u(!0);try{const i=await gu({quizId:e.id,questionId:b.id,userAnswer:s.trim()});c(e=>({...e,[b.id]:i})),f(!0),i.isQuizCompleted&&(x(!0),setTimeout(()=>{t(i.currentScore)},3e3))}catch(i){}finally{u(!1)}}},disabled:!n[b.id]||d,className:"w-full",children:d?"Submitting...":"Submit Answer"}),m&&k&&s.jsx(Vy,{className:"border-l-4 "+(k.isCorrect?"border-l-green-500 bg-green-50":"border-l-red-500 bg-red-50"),children:s.jsx($y,{className:"pt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[k.isCorrect?s.jsx(W,{className:"w-5 h-5 text-green-600"}):s.jsx(pt,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium",children:k.isCorrect?"Correct!":"Incorrect"})]}),!k.isCorrect&&s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Correct answer:"})," ",k.correctAnswer]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:k.explanation})]})})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(cw,{variant:"outline",onClick:()=>{r>0&&(a(e=>e-1),f(!1))},disabled:0===r,children:[s.jsx(mt,{className:"w-4 h-4 mr-2"}),"Previous"]}),s.jsxs("div",{className:"flex space-x-2",children:[N&&r<v-1&&s.jsxs(cw,{onClick:()=>{r<v-1&&(a(e=>e+1),f(!1))},children:["Next",s.jsx(X,{className:"w-4 h-4 ml-2"})]}),g&&s.jsx(cw,{onClick:()=>t(A),children:"View Results"})]})]}),g&&s.jsx(Vy,{className:"border-green-200 bg-green-50",children:s.jsx($y,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(W,{className:"w-12 h-12 text-green-600 mx-auto"}),s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Quiz Completed!"}),s.jsxs("p",{className:"text-green-700",children:["Final Score: ",Math.round(A),"% (",C,"/",v," correct)"]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Time taken: ",w(h)]})]})})})]})}const XI=[{id:"first_quiz",title:"First Steps",description:"Complete your first quiz",icon:"🎯",earned:!1,condition:()=>!0},{id:"perfect_score",title:"Perfect Score",description:"Score 100% on a quiz",icon:"🏆",earned:!1,condition:e=>100===e},{id:"speed_demon",title:"Speed Demon",description:"Complete a quiz in under 5 minutes",icon:"⚡",earned:!1,condition:(e,t)=>t<300&&e>=70},{id:"knowledge_seeker",title:"Knowledge Seeker",description:"Score above 80% on a quiz",icon:"📚",earned:!1,condition:e=>e>=80},{id:"persistent_learner",title:"Persistent Learner",description:"Complete a challenging quiz",icon:"💪",earned:!1,condition:(e,t,s)=>{var i;return((null==(i=s.questions)?void 0:i.length)||0)>=10&&e>=60}}];function YI({quiz:e,timeElapsed:t,onRetakeQuiz:i,onBackToQuizzes:r}){const a=e.questions||[],n=a.filter(e=>null!==e.userAnswer),o=n.filter(e=>!0===e.isCorrect),l=n.filter(e=>!1===e.isCorrect),c=e.score||0,d=a.length,u=o.length,h=l.length,p=(m=c)>=90?{level:"Excellent",color:"text-green-600",bgColor:"bg-green-100"}:m>=80?{level:"Good",color:"text-blue-600",bgColor:"bg-blue-100"}:m>=70?{level:"Fair",color:"text-yellow-600",bgColor:"bg-yellow-100"}:{level:"Needs Improvement",color:"text-red-600",bgColor:"bg-red-100"};var m;const f=XI.filter(s=>s.condition(c,t,e)),g=(()=>{const e=[];return c<70&&e.push({title:"Review Fundamentals",description:"Focus on basic concepts and definitions",priority:"high"}),h>u/2&&e.push({title:"Practice More Examples",description:"Work through additional practice problems",priority:"medium"}),c>=80&&e.push({title:"Explore Advanced Topics",description:"Ready to tackle more challenging concepts",priority:"low"}),e})();return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qy,{className:"text-xl",children:"Quiz Results"}),s.jsx(Gy,{children:e.title})]}),s.jsx(Dw,{className:`${p.bgColor} ${p.color} border-0`,children:p.level})]})}),s.jsx($y,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"text-4xl font-bold text-primary",children:[Math.round(c),"%"]}),s.jsxs("div",{className:"text-muted-foreground",children:[u," out of ",d," questions correct"]}),s.jsx(Zw,{value:c,className:"w-full max-w-md mx-auto"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx(Ee,{className:"w-6 h-6 mx-auto mb-2 text-green-600"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:u}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Correct"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"w-6 h-6 mx-auto mb-2 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-600"})}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:h}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Incorrect"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx(ie,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(x=t,`${Math.floor(x/60)}:${(x%60).toString().padStart(2,"0")}`)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Time Taken"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx(Z,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Questions"})]})]})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{className:"text-lg",children:"Question Breakdown"}),s.jsx(Gy,{children:"Review your answers and explanations"})]}),s.jsx($y,{children:s.jsx("div",{className:"space-y-4",children:a.map((e,t)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsxs(Dw,{variant:"outline",className:"text-xs",children:["Question ",t+1]}),s.jsx(Dw,{variant:e.isCorrect?"default":"destructive",className:"text-xs",children:e.isCorrect?"Correct":"Incorrect"})]}),s.jsx("p",{className:"text-sm font-medium",children:e.question})]})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Your answer: "}),s.jsx("span",{className:e.isCorrect?"text-green-600":"text-red-600",children:e.userAnswer||"Not answered"})]}),!e.isCorrect&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Correct answer: "}),s.jsx("span",{className:"text-green-600",children:e.correctAnswer})]}),e.explanation&&s.jsxs("div",{className:"p-2 bg-muted rounded text-xs",children:[s.jsx("span",{className:"font-medium",children:"Explanation: "}),e.explanation]})]})]},e.id))})})]}),f.length>0&&s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"text-lg flex items-center",children:[s.jsx(Le,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Achievements Unlocked!"]}),s.jsx(Gy,{children:"You've earned new badges"})]}),s.jsx($y,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map(e=>s.jsxs("div",{className:"text-center p-4 border rounded-lg bg-yellow-50 border-yellow-200",children:[s.jsx("div",{className:"text-2xl mb-2",children:e.icon}),s.jsx("div",{className:"font-medium text-sm",children:e.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.description})]},e.id))})})]}),g.length>0&&s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"text-lg flex items-center",children:[s.jsx(re,{className:"w-5 h-5 mr-2 text-blue-600"}),"Study Recommendations"]}),s.jsx(Gy,{children:"Personalized suggestions to improve your understanding"})]}),s.jsx($y,{children:s.jsx("div",{className:"space-y-3",children:g.map((e,t)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"w-2 h-2 rounded-full mt-2 "+("high"===e.priority?"bg-red-500":"medium"===e.priority?"bg-yellow-500":"bg-green-500")}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:e.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.description})]})]},t))})})]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs(cw,{variant:"outline",onClick:i,children:[s.jsx(Be,{className:"w-4 h-4 mr-2"}),"Retake Quiz"]}),s.jsx(cw,{onClick:r,children:"Back to Quizzes"})]})]});var x}function VI({quizzes:e,onViewQuiz:t,onRetakeQuiz:i}){const r=e.filter(e=>e.completed),a=e.length,n=r.length>0?r.reduce((e,t)=>e+(t.score||0),0)/r.length:0,o=e.reduce((e,t)=>{const s=t.topic.id;return e[s]||(e[s]={topic:t.topic,quizzes:[]}),e[s].quizzes.push(t),e},{}),l=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return 0===e.length?s.jsx(Vy,{children:s.jsx($y,{className:"p-8 text-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-muted flex items-center justify-center",children:s.jsx(Ee,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"No Quizzes Yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate your first quiz to start tracking your progress"})]})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{className:"text-lg",children:"Quiz Statistics"}),s.jsx(Gy,{children:"Your overall quiz performance"})]}),s.jsx($y,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:a}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Quizzes"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(n),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Average Score"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Object.keys(o).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Topics Covered"})]})]})})]}),Object.entries(o).map(([e,{topic:r,quizzes:a}])=>{const n=(e=>{const t=e.filter(e=>e.completed&&null!==e.score).sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime());if(t.length<2)return null;const s=t[0].score||0,i=(t[t.length-1].score||0)-s;return{improvement:i,isImproving:i>0,isStable:Math.abs(i)<5}})(a);return a.filter(e=>e.completed).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())[0],s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qy,{className:"text-base",children:r.title}),s.jsxs(Gy,{children:[a.length," quiz",1!==a.length?"es":""," taken"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[n&&s.jsxs(Dw,{variant:"outline",className:n.isImproving?"text-green-600 border-green-200":n.isStable?"text-blue-600 border-blue-200":"text-red-600 border-red-200",children:[s.jsx(re,{className:"w-3 h-3 mr-1 "+(n.isImproving?"":n.isStable?"rotate-90":"rotate-180")}),n.isImproving?"+":n.isStable?"±":"",Math.abs(Math.round(n.improvement)),"%"]}),s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>i(e),children:"New Quiz"})]})]})}),s.jsx($y,{children:s.jsx("div",{className:"space-y-3",children:a.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map(e=>{return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-sm",children:e.title}),e.completed?s.jsxs(Dw,{className:"text-xs "+(r=e.score||0,r>=90?"text-green-600 bg-green-100":r>=80?"text-blue-600 bg-blue-100":r>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"),children:[Math.round(e.score||0),"%"]}):s.jsx(Dw,{variant:"outline",className:"text-xs",children:"In Progress"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ue,{className:"w-3 h-3"}),s.jsx("span",{children:(i=e.createdAt,new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ie,{className:"w-3 h-3"}),s.jsx("span",{children:l(e.createdAt)})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ee,{className:"w-3 h-3"}),s.jsxs("span",{children:[e._count.questions," questions"]})]})]}),e.completed&&null!==e.score&&s.jsx(Zw,{value:e.score,className:"w-full h-1"})]}),s.jsx(cw,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"ml-4",children:s.jsx(me,{className:"w-4 h-4"})})]},e.id);var i,r})})})]},e)})]})}function UI(){const{topic:e,isLoading:t}=hE(),[i,r]=Ct.useState("overview"),[a,n]=Ct.useState(null),[o,l]=Ct.useState(0),[c,d]=Ct.useState(!1),[u,h]=Ct.useState("beginner"),{data:p,isLoading:m,refetch:f}=Hu(Du,e?{topicId:e.id}:void 0,{enabled:!!e});if(t)return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-64 bg-muted rounded"})]})});if(!e)return s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Topic not found"})})});const g=(null==p?void 0:p.quizzes)||[],x=g.filter(e=>e.completed),b=x.length>0?x.reduce((e,t)=>e+(t.score||0),0)/x.length:0,v=async e=>{if(a)try{const e=await _u({quizId:a.id});n(e),r("results"),f()}catch(t){r("results"),f()}};return"taking"===i&&a?s.jsx(WI,{quiz:a,onQuizComplete:v,onExit:()=>{r("overview"),n(null)}}):"results"===i&&a?s.jsx(YI,{quiz:a,timeElapsed:o,onRetakeQuiz:()=>{r("overview"),n(null)},onBackToQuizzes:()=>{r("overview"),n(null)}}):"history"===i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Quiz History"}),s.jsx(cw,{variant:"outline",onClick:()=>r("overview"),children:"Back to Overview"})]}),s.jsx(VI,{quizzes:g,onViewQuiz:e=>{n(e),r("results")},onRetakeQuiz:e=>{r("overview")}})]}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Quiz"}),s.jsxs("p",{className:"text-muted-foreground",children:["Test your knowledge of ",e.title]})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{children:"Generate New Quiz"}),s.jsxs(Gy,{children:["Create a quiz for ",e.title]})]}),s.jsx($y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(cb,{className:"text-sm font-medium",children:"Difficulty Level"}),s.jsx(HE,{value:u,onValueChange:e=>h(e),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"beginner",id:"beginner"}),s.jsxs(cb,{htmlFor:"beginner",className:"cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Beginner"})," - 5-6 basic questions"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"intermediate",id:"intermediate"}),s.jsxs(cb,{htmlFor:"intermediate",className:"cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Intermediate"})," - 8-9 applied questions"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WE,{value:"advanced",id:"advanced"}),s.jsxs(cb,{htmlFor:"advanced",className:"cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Advanced"})," - 10+ expert questions"]})]})]})})]}),s.jsx(cw,{onClick:async()=>{if(e){d(!0);try{const t=await fu({topicId:e.id,difficulty:u});n(t),r("taking"),l(0),f()}catch(t){}finally{d(!1)}}},disabled:c,className:"w-full",children:c?s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Quiz..."]}):"Generate Quiz"})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Quiz Statistics"}),g.length>0&&s.jsx(cw,{variant:"outline",size:"sm",onClick:()=>r("history"),children:"View All"})]}),s.jsx(Gy,{children:"Track your quiz performance"})]}),s.jsx($y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Quizzes Taken"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(b),"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Score"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:x.filter(e=>(e.score||0)>=90).length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"High Scores"})]})]}),g.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Recent Quizzes"}),s.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]}),e.completed&&s.jsxs(Dw,{variant:(e.score||0)>=90?"default":(e.score||0)>=70?"secondary":"destructive",className:"text-xs",children:[Math.round(e.score||0),"%"]})]},e.id))})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Z,{className:"w-12 h-12 mx-auto mb-2 text-muted-foreground/50"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No quizzes taken yet."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate your first quiz above!"})]})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{children:"Achievements"}),s.jsx(Gy,{children:"Unlock badges as you learn"})]}),s.jsx($y,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 border rounded-lg "+(g.length>0?"bg-muted/50":"opacity-50"),children:[s.jsx("div",{className:"text-2xl mb-2",children:"🏆"}),s.jsx("div",{className:"text-xs font-medium",children:"First Quiz"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Complete your first quiz"}),g.length>0&&s.jsx(Dw,{className:"mt-1 text-xs",variant:"default",children:"Earned!"})]}),s.jsxs("div",{className:"text-center p-3 border rounded-lg "+(x.some(e=>100===(e.score||0))?"bg-muted/50":"opacity-50"),children:[s.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),s.jsx("div",{className:"text-xs font-medium",children:"Perfect Score"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Score 100% on a quiz"}),x.some(e=>100===(e.score||0))&&s.jsx(Dw,{className:"mt-1 text-xs",variant:"secondary",children:"Earned!"})]}),s.jsxs("div",{className:"text-center p-3 border rounded-lg opacity-50",children:[s.jsx("div",{className:"text-2xl mb-2",children:"🔥"}),s.jsx("div",{className:"text-xs font-medium",children:"Quiz Streak"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Take quizzes 5 days in a row"})]}),s.jsxs("div",{className:"text-center p-3 border rounded-lg "+(x.length>=5?"bg-muted/50":"opacity-50"),children:[s.jsx("div",{className:"text-2xl mb-2",children:"📚"}),s.jsx("div",{className:"text-xs font-medium",children:"Knowledge Master"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Complete 5 quizzes"}),x.length>=5&&s.jsx(Dw,{className:"mt-1 text-xs",variant:"outline",children:"Earned!"})]})]})})]})]})}const qI={General:{color:"bg-gray-500",icon:s.jsx(bt,{className:"w-3 h-3"}),description:"General web search results"},Academic:{color:"bg-blue-600",icon:s.jsx(Z,{className:"w-3 h-3"}),description:"Academic papers and research"},Computational:{color:"bg-green-600",icon:s.jsx(xt,{className:"w-3 h-3"}),description:"Mathematical and computational data"},Video:{color:"bg-red-600",icon:s.jsx(gt,{className:"w-3 h-3"}),description:"Educational videos and tutorials"},Social:{color:"bg-purple-600",icon:s.jsx(Ae,{className:"w-3 h-3"}),description:"Community discussions and insights"}},GI={article:{icon:s.jsx(Ne,{className:"w-3 h-3"}),label:"Article"},video:{icon:s.jsx(gt,{className:"w-3 h-3"}),label:"Video"},academic:{icon:s.jsx(Z,{className:"w-3 h-3"}),label:"Academic"},discussion:{icon:s.jsx(Ae,{className:"w-3 h-3"}),label:"Discussion"},documentation:{icon:s.jsx(Ne,{className:"w-3 h-3"}),label:"Documentation"}};function $I(){const{topic:e,isLoading:t}=hE(),[i,r]=Ct.useState(""),[a,n]=Ct.useState("all"),[o,l]=Ct.useState("all"),[c,d]=Ct.useState("relevance"),[u,h]=Ct.useState("cards"),{sources:p,totalCount:m,isLoading:f,error:g,setFilters:x,refreshSources:b,exportSources:v}=function(e={}){const{topic:t}=hE(),{initialFilters:s={},autoRefresh:i=!0}=e,[r,a]=Ct.useState(s),[n,o]=Ct.useState([]),[l,c]=Ct.useState(0),[d,u]=Ct.useState(!1),[h,p]=Ct.useState(null),m=Ct.useCallback(async()=>{if(null==t?void 0:t.id){u(!0),p(null);try{const e=await Pu({topicId:t.id,filters:r});o((null==e?void 0:e.sources)||[]),c((null==e?void 0:e.totalCount)||0)}catch(e){p(e instanceof Error?e:new Error("Failed to fetch sources")),o([]),c(0)}finally{u(!1)}}},[null==t?void 0:t.id,r]);Ct.useEffect(()=>{i&&(null==t?void 0:t.id)&&m()},[m,i,null==t?void 0:t.id]);const f=Ct.useCallback(e=>{a(e)},[]);Ct.useEffect(()=>{(null==t?void 0:t.id)&&m()},[r,m,null==t?void 0:t.id]);const g=Ct.useCallback(async(e="json")=>{if(null==t?void 0:t.id)try{const s=await ou({topicId:t.id,format:e,filters:r}),i=new Blob([(null==s?void 0:s.data)||""],{type:"json"===e?"application/json":"text/csv"}),a=URL.createObjectURL(i),n=document.createElement("a");n.href=a,n.download=(null==s?void 0:s.filename)||`sources-${t.slug||"topic"}.${e}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(s){throw s}},[null==t?void 0:t.id,r]),x=Ct.useCallback(()=>{m()},[m]);return{sources:n,totalCount:l,isLoading:d,error:h,filters:r,setFilters:f,refreshSources:x,exportSources:g}}({autoRefresh:!0});Tt.useEffect(()=>{x({agent:"all"===a?void 0:a,sourceType:"all"===o?void 0:o,search:i||void 0})},[i,a,o,x]);const y=Ct.useMemo(()=>{let e=[...p];return e.sort((e,t)=>{switch(c){case"relevance":return t.relevanceScore-e.relevanceScore;case"date":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"agent":return e.agent.localeCompare(t.agent);default:return 0}}),e},[p,c]);return t||f?s.jsx(cP,{}):e?g?s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"Error Loading Sources"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:g.message}),s.jsx(cw,{onClick:b,variant:"outline",children:"Try Again"})]})})}):s.jsxs("div",{className:"h-full flex flex-col space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-br from-foreground to-foreground/80 bg-clip-text text-transparent",children:"Research Sources"}),s.jsxs("p",{className:"text-muted-foreground text-base leading-relaxed",children:["All sources used to generate content for ",s.jsxs("span",{className:"font-medium text-foreground",children:['"',e.title,'"']})," and subtopics"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs(Dw,{variant:"outline",className:"px-4 py-2 bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20 text-foreground font-medium",children:[s.jsx(Oe,{className:"w-3.5 h-3.5 mr-1.5"}),m," sources found"]}),s.jsxs(cw,{variant:"outline",size:"sm",onClick:()=>(async(e="json")=>{try{await v(e)}catch(t){}})("json"),className:"flex items-center gap-2 hover:bg-primary hover:text-primary-foreground transition-all duration-200",children:[s.jsx(ot,{className:"w-4 h-4"}),"Export"]}),0===m&&s.jsxs(cw,{variant:"default",size:"sm",onClick:async()=>{if(null==e?void 0:e.id)try{(await nu({topicId:e.id})).success&&alert("Research started! The page will refresh when research is complete and content is regenerated with proper sources.")}catch(t){alert("Failed to fix sources. Check console for details.")}},className:"flex items-center gap-2 hover:shadow-lg transition-all duration-200",children:[s.jsx(Oe,{className:"w-4 h-4"}),"Fix Sources"]})]})]}),s.jsxs(Vy,{className:"bg-gradient-to-r from-muted/20 via-background to-muted/20 border-border/50",children:[s.jsx(Uy,{className:"pb-4",children:s.jsxs(qy,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Filters & Search"]})}),s.jsxs($y,{className:"space-y-6",children:[s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Oe,{className:"w-4 h-4 absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground/70"}),s.jsx(Sj,{placeholder:"Search sources by title or content...",value:i,onChange:e=>r(e.target.value),className:"pl-11 h-12 border-border/50 bg-background/50 focus:bg-background focus:border-primary/30 transition-all duration-200"})]}),s.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-foreground min-w-[50px]",children:"Agent:"}),s.jsxs("select",{value:a,onChange:e=>n(e.target.value),className:"px-4 py-2 border border-border/50 rounded-lg text-sm bg-background/50 hover:bg-background focus:bg-background focus:border-primary/30 transition-all duration-200 min-w-[120px]",children:[s.jsx("option",{value:"all",children:"All Agents"}),Object.keys(qI).map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-foreground min-w-[35px]",children:"Type:"}),s.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-border/50 rounded-lg text-sm bg-background/50 hover:bg-background focus:bg-background focus:border-primary/30 transition-all duration-200 min-w-[120px]",children:[s.jsx("option",{value:"all",children:"All Types"}),Object.entries(GI).map(([e,t])=>s.jsx("option",{value:e,children:t.label},e))]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-foreground min-w-[30px]",children:"Sort:"}),s.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-border/50 rounded-lg text-sm bg-background/50 hover:bg-background focus:bg-background focus:border-primary/30 transition-all duration-200 min-w-[120px]",children:[s.jsx("option",{value:"relevance",children:"Relevance"}),s.jsx("option",{value:"date",children:"Date"}),s.jsx("option",{value:"agent",children:"Agent"})]})]}),s.jsx(Tw,{orientation:"vertical",className:"h-8 bg-border/30"}),s.jsx("div",{className:"hidden items-center gap-2 bg-muted/30 rounded-lg p-1 border border-border/30",children:["cards","list","hierarchy"].map(e=>s.jsx(cw,{variant:u===e?"default":"ghost",size:"sm",onClick:()=>h(e),className:"px-4 py-2 text-xs h-8 font-medium transition-all duration-200",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:0===y.length?s.jsx(Vy,{className:"bg-gradient-to-br from-muted/30 via-background to-muted/20",children:s.jsx($y,{className:"p-12 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(Oe,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-6"}),s.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"No sources found"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Try adjusting your search criteria or filters to discover more learning resources."})]})})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:y.map((e,t)=>s.jsx(QI,{source:e,index:t},e.id))})})]}):s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Topic not found"})})})}function QI({source:e,index:t=0}){var i;const r=qI[e.agent],a=GI[e.sourceType];return s.jsxs(Vy,{className:"h-fit group bg-gradient-to-br from-card via-card to-card/80 transition-all duration-500 ease-out hover:shadow-2xl hover:-translate-y-2 hover:border-primary/30 focus-within:shadow-2xl focus-within:border-primary/30 border border-border/50 hover:border-border shadow-lg",style:{animationDelay:50*t+"ms"},children:[s.jsx(Uy,{className:"pb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(Dw,{className:`${r.color} text-white text-xs px-2.5 py-1 font-medium shadow-sm`,children:[r.icon,s.jsx("span",{className:"ml-1.5",children:e.agent})]}),s.jsxs(Dw,{variant:"outline",className:"text-xs px-2.5 py-1 font-medium bg-background/50 border-primary/20",children:[a.icon,s.jsx("span",{className:"ml-1.5",children:a.label})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[s.jsx(qe,{className:"w-3.5 h-3.5 text-yellow-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:[(100*e.relevanceScore).toFixed(0),"%"]})]})]}),e.url?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-base leading-snug text-foreground line-clamp-2 hover:text-primary transition-colors duration-200 cursor-pointer",title:`Open: ${e.title}`,children:e.title}):s.jsx("h3",{className:"font-semibold text-base leading-snug text-foreground line-clamp-2",children:e.title}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ue,{className:"w-3 h-3"}),s.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),(null==(i=e.metadata)?void 0:i.domain)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bt,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate max-w-[120px]",children:e.metadata.domain})]})]})]})}),s.jsx($y,{className:"pt-0 pb-4",children:s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-4",children:e.snippet})})]})}function KI({trigger:e,defaultTab:t="overview"}){const[i,r]=Ct.useState(!1),a=s.jsxs(cw,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(_e,{className:"h-4 w-4"}),"Help"]});return s.jsxs(FS,{open:i,onOpenChange:r,children:[s.jsx(BS,{asChild:!0,children:e||a}),s.jsxs(XS,{className:"max-w-4xl max-h-[80vh]",children:[s.jsxs(YS,{children:[s.jsx(VS,{className:"font-platform",children:"Learning Platform Guide"}),s.jsx(US,{className:"font-platform",children:"Everything you need to know about using the AI-powered learning platform"})]}),s.jsx(CI,{className:"h-[60vh]",children:s.jsxs(sE,{defaultValue:t,className:"w-full",children:[s.jsxs(iE,{className:"grid w-full grid-cols-4",children:[s.jsx(rE,{value:"overview",children:"Overview"}),s.jsx(rE,{value:"tabs",children:"Learning Tabs"}),s.jsx(rE,{value:"features",children:"Features"}),s.jsx(rE,{value:"tips",children:"Tips & FAQ"})]}),s.jsxs(aE,{value:"overview",className:"space-y-4",children:[s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsxs(qy,{className:"flex items-center gap-2",children:[s.jsx(Z,{className:"h-5 w-5"}),"How It Works"]})}),s.jsx($y,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Oe,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2 font-platform",children:"1. Enter Topic"}),s.jsx("p",{className:"text-sm text-muted-foreground font-content",children:"Type any topic you want to learn about. Our AI will research it comprehensively."})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ee,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2 font-platform",children:"2. AI Research"}),s.jsx("p",{className:"text-sm text-muted-foreground font-content",children:"Multiple AI agents research your topic from different angles and create structured content."})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Z,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2 font-platform",children:"3. Multi-Modal Learning"}),s.jsx("p",{className:"text-sm text-muted-foreground font-content",children:"Access your content through 5 different learning modes tailored to your preferences."})]})]})})]}),s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{className:"font-platform",children:"Getting Started"})}),s.jsx($y,{children:s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsx("li",{children:"Enter a topic you want to learn about on the main page"}),s.jsx("li",{children:"Wait for the AI to research and structure the content (this may take a few minutes)"}),s.jsxs("li",{children:["Start with the ",s.jsx("strong",{children:"Learn"})," tab to take a knowledge assessment"]}),s.jsx("li",{children:"Follow the personalized learning path or explore other tabs"}),s.jsxs("li",{children:["Use the ",s.jsx("strong",{children:"Ask"})," tab to get answers to specific questions"]}),s.jsxs("li",{children:["Test your knowledge with the ",s.jsx("strong",{children:"Quiz"})," tab"]})]})})]})]}),s.jsx(aE,{value:"tabs",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2 font-platform",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),"Learn Tab"]}),s.jsx(Gy,{children:"Guided learning experience"})]}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Take a knowledge assessment to personalize your experience"}),s.jsx("li",{children:"• Get recommended learning paths based on your level"}),s.jsx("li",{children:"• Follow structured, streaming content delivery"}),s.jsx("li",{children:"• Expand concepts for deeper understanding"})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2 font-platform",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-success"}),"Explore Tab"]}),s.jsx(Gy,{children:"Tree navigation and content"})]}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Browse the complete topic hierarchy"}),s.jsx("li",{children:"• Navigate through subtopics and related concepts"}),s.jsx("li",{children:"• Read detailed content with rich formatting"}),s.jsx("li",{children:"• Export content as PDF or Markdown"})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2 font-platform",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-secondary"}),"Ask Tab"]}),s.jsx(Gy,{children:"Conversational learning"})]}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Ask questions about the topic in natural language"}),s.jsx("li",{children:"• Get contextual answers based on researched content"}),s.jsx("li",{children:"• Maintain conversation history across sessions"}),s.jsx("li",{children:"• Export conversations for later reference"})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2 font-platform",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-warning"}),"MindMap Tab"]}),s.jsx(Gy,{children:"Visual knowledge representation"})]}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Visualize topic relationships as an interactive mind map"}),s.jsx("li",{children:"• Zoom, pan, and explore different layout options"}),s.jsx("li",{children:"• Click nodes to see summaries and navigate"}),s.jsx("li",{children:"• Export mind maps as images"})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2 font-platform",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-destructive"}),"Quiz Tab"]}),s.jsx(Gy,{children:"Adaptive assessment"})]}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Take quizzes generated from your reading history"}),s.jsx("li",{children:"• Multiple question types with adaptive difficulty"}),s.jsx("li",{children:"• Get detailed explanations for each answer"}),s.jsx("li",{children:"• Track your progress and improvement over time"})]})})]})]})}),s.jsx(aE,{value:"features",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"AI Research Pipeline"})}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"General Research Agent:"})," Broad topic coverage"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Academic Agent:"})," Scholarly articles and papers"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Computational Agent:"})," Mathematical and technical content"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Video Agent:"})," Educational video content"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Community Agent:"})," Real-world discussions and perspectives"]})]})})]}),s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"Progress Tracking"})}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Time spent learning tracked automatically"}),s.jsx("li",{children:"• Completion status for topics and subtopics"}),s.jsx("li",{children:"• Bookmark interesting content sections"}),s.jsx("li",{children:"• Learning analytics and improvement trends"}),s.jsx("li",{children:"• Achievement badges and gamification"})]})})]}),s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"Personalization"})}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Knowledge level assessment"}),s.jsx("li",{children:"• Learning style preferences"}),s.jsx("li",{children:"• Adaptive difficulty adjustment"}),s.jsx("li",{children:"• Customized learning paths"}),s.jsx("li",{children:"• Pace preferences (self-paced vs guided)"})]})})]}),s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"Export & Sharing"})}),s.jsx($y,{children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Export content as PDF or Markdown"}),s.jsx("li",{children:"• Save mind maps as images"}),s.jsx("li",{children:"• Export conversation transcripts"}),s.jsx("li",{children:"• Bookmark and save favorite sections"}),s.jsx("li",{children:"• Share learning progress (coming soon)"})]})})]})]})}),s.jsxs(aE,{value:"tips",className:"space-y-4",children:[s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsxs(qy,{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-5 w-5"}),"Learning Tips"]})}),s.jsx($y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"For Best Results:"}),s.jsxs("ul",{className:"space-y-1 text-sm list-disc list-inside",children:[s.jsx("li",{children:"Start with the knowledge assessment in the Learn tab"}),s.jsx("li",{children:"Use specific, focused topic queries for better research results"}),s.jsx("li",{children:"Explore multiple tabs to reinforce learning through different modalities"}),s.jsx("li",{children:"Ask follow-up questions in the Ask tab to clarify concepts"}),s.jsx("li",{children:"Take quizzes regularly to test your understanding"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Topic Suggestions:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Dw,{variant:"secondary",children:"Machine Learning Basics"}),s.jsx(Dw,{variant:"secondary",children:"Quantum Computing"}),s.jsx(Dw,{variant:"secondary",children:"Web Development"}),s.jsx(Dw,{variant:"secondary",children:"Data Science"}),s.jsx(Dw,{variant:"secondary",children:"Blockchain Technology"})]})]})]})})]}),s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"Frequently Asked Questions"})}),s.jsx($y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"How long does research take?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Research typically takes 2-5 minutes depending on topic complexity. You'll see real-time progress updates."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Can I learn multiple topics simultaneously?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Yes! Each topic maintains separate progress and you can switch between them anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Is my progress saved?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All your progress, preferences, and bookmarks are automatically saved to your account."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"What if the AI gets something wrong?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"While our AI is highly accurate, always verify important information from authoritative sources. Use the Ask tab to request clarifications."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Can I suggest improvements?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We welcome feedback! Contact us through the account page or use the feedback option in the main menu."})]})]})})]})]})]})})]})]})}var ZI=(e=>(e.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",e.AUTHORIZATION_ERROR="AUTHORIZATION_ERROR",e.SESSION_EXPIRED="SESSION_EXPIRED",e.VALIDATION_ERROR="VALIDATION_ERROR",e.INPUT_SANITIZATION_ERROR="INPUT_SANITIZATION_ERROR",e.SCHEMA_VALIDATION_ERROR="SCHEMA_VALIDATION_ERROR",e.DATABASE_CONNECTION_ERROR="DATABASE_CONNECTION_ERROR",e.DATABASE_QUERY_ERROR="DATABASE_QUERY_ERROR",e.DATABASE_CONSTRAINT_ERROR="DATABASE_CONSTRAINT_ERROR",e.DATABASE_TIMEOUT_ERROR="DATABASE_TIMEOUT_ERROR",e.AI_API_ERROR="AI_API_ERROR",e.AI_RATE_LIMIT_ERROR="AI_RATE_LIMIT_ERROR",e.AI_QUOTA_EXCEEDED="AI_QUOTA_EXCEEDED",e.AI_CONTENT_FILTER_ERROR="AI_CONTENT_FILTER_ERROR",e.SEARCH_API_ERROR="SEARCH_API_ERROR",e.VECTOR_STORE_ERROR="VECTOR_STORE_ERROR",e.EMBEDDING_GENERATION_ERROR="EMBEDDING_GENERATION_ERROR",e.VECTOR_SEARCH_ERROR="VECTOR_SEARCH_ERROR",e.RESEARCH_PIPELINE_ERROR="RESEARCH_PIPELINE_ERROR",e.AGENT_COORDINATION_ERROR="AGENT_COORDINATION_ERROR",e.CONTENT_GENERATION_ERROR="CONTENT_GENERATION_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.TIMEOUT_ERROR="TIMEOUT_ERROR",e.CONNECTION_ERROR="CONNECTION_ERROR",e.TOPIC_NOT_FOUND="TOPIC_NOT_FOUND",e.QUIZ_GENERATION_ERROR="QUIZ_GENERATION_ERROR",e.PROGRESS_UPDATE_ERROR="PROGRESS_UPDATE_ERROR",e.CHAT_ERROR="CHAT_ERROR",e.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",e.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE",e.CONFIGURATION_ERROR="CONFIGURATION_ERROR",e.CLIENT_ERROR="CLIENT_ERROR",e.PARSING_ERROR="PARSING_ERROR",e.RENDERING_ERROR="RENDERING_ERROR",e))(ZI||{}),JI=(e=>(e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL",e))(JI||{});const eL="AUTH_001",tL="AUTH_004",sL="AI_002",iL="NET_001",rL="NET_002",aL="SYS_001";function nL(e,t,s,i={}){const r=new Error(s);return r.code=t,r.type=e,r.severity=i.severity||"MEDIUM",r.recoverable=i.recoverable??!0,r.retryAfter=i.retryAfter,r.context=i.context,r.userMessage=i.userMessage||s,r.technicalDetails=i.technicalDetails,i.cause&&(r.cause=i.cause,r.stack=i.cause.stack),r}function oL(e){if(lL(e))return e;const t=e.message.toLowerCase();return t.includes("unauthorized")||t.includes("401")?((e,t)=>nL("AUTHENTICATION_ERROR",eL,e,{severity:"HIGH",recoverable:!1,userMessage:"Please log in to continue",context:t}))("Authentication required",{originalError:e.message}):t.includes("forbidden")||t.includes("403")?nL("AUTHORIZATION_ERROR",tL,"Insufficient permissions",{severity:"HIGH",recoverable:!1,userMessage:"You do not have permission to perform this action",cause:e}):t.includes("timeout")||t.includes("timed out")?nL("TIMEOUT_ERROR",rL,"Request timed out",{severity:"MEDIUM",recoverable:!0,retryAfter:5e3,userMessage:"Request timed out. Please try again.",cause:e}):t.includes("network")||t.includes("fetch")?nL("NETWORK_ERROR",iL,"Network error",{severity:"MEDIUM",recoverable:!0,retryAfter:3e3,userMessage:"Network error. Please check your connection and try again.",cause:e}):t.includes("rate limit")||t.includes("429")?nL("AI_RATE_LIMIT_ERROR",sL,"Rate limit exceeded",{severity:"MEDIUM",recoverable:!0,retryAfter:6e4,userMessage:"Too many requests. Please wait a moment and try again.",cause:e}):nL("INTERNAL_SERVER_ERROR",aL,"An unexpected error occurred",{severity:"HIGH",recoverable:!0,retryAfter:5e3,userMessage:"An unexpected error occurred. Please try again.",technicalDetails:e.message,cause:e})}function lL(e){return e&&"object"==typeof e&&"type"in e&&"code"in e}function cL(e,t){(new Date).toISOString(),e.type,e.code,e.message,e.severity,e.recoverable,e.context,e.stack,e.technicalDetails;e.severity}class dL extends Ct.Component{constructor(e){super(e),t(this,"retryTimeoutId",null),t(this,"handleRetry",()=>{const{error:e,retryCount:t}=this.state;if(!(null==e?void 0:e.recoverable)||t>=3)return;this.setState({isRetrying:!0});const s=e.retryAfter||3e3;this.retryTimeoutId=setTimeout(()=>{var e,s;this.setState({hasError:!1,error:null,errorInfo:null,retryCount:t+1,isRetrying:!1,lastErrorTime:0}),null==(s=(e=this.props).onRetry)||s.call(e)},s)}),t(this,"handleReset",()=>{var e,t;this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastErrorTime:0}),null==(t=(e=this.props).onReset)||t.call(e)}),t(this,"getErrorIcon",e=>{switch(e){case ZI.NETWORK_ERROR:case ZI.CONNECTION_ERROR:return s.jsx(jt,{className:"w-5 h-5 text-red-500"});case ZI.TIMEOUT_ERROR:return s.jsx(ie,{className:"w-5 h-5 text-yellow-500"});case ZI.AUTHENTICATION_ERROR:case ZI.AUTHORIZATION_ERROR:return s.jsx(wt,{className:"w-5 h-5 text-red-500"});case ZI.AI_RATE_LIMIT_ERROR:case ZI.AI_QUOTA_EXCEEDED:return s.jsx(ae,{className:"w-5 h-5 text-orange-500"});case ZI.AI_API_ERROR:case ZI.VECTOR_STORE_ERROR:case ZI.RESEARCH_PIPELINE_ERROR:return s.jsx(yt,{className:"w-5 h-5 text-red-500"});case ZI.VALIDATION_ERROR:return s.jsx(H,{className:"w-5 h-5 text-yellow-500"});default:return s.jsx(H,{className:"w-5 h-5 text-red-500"})}}),t(this,"getErrorMessage",e=>e.userMessage||e.message),t(this,"getErrorSuggestions",e=>{switch(e.type){case ZI.NETWORK_ERROR:case ZI.CONNECTION_ERROR:return["Check your internet connection","Try refreshing the page","Disable VPN if active"];case ZI.TIMEOUT_ERROR:return["Try again in a few moments","Check server status","Reduce request complexity"];case ZI.AUTHENTICATION_ERROR:case ZI.AUTHORIZATION_ERROR:return["Log out and log back in","Clear browser cache","Check account status"];case ZI.AI_RATE_LIMIT_ERROR:case ZI.AI_QUOTA_EXCEEDED:return["Wait before making more requests","Upgrade your plan for higher limits","Reduce request frequency"];case ZI.VALIDATION_ERROR:return["Check your input format","Ensure all required fields are filled","Remove any invalid characters"];case ZI.AI_API_ERROR:return["Try again in a few moments","Check if the service is available","Contact support if problem persists"];case ZI.VECTOR_STORE_ERROR:return["Search functionality may be temporarily unavailable","Try a simpler search query","Contact support if problem persists"];case ZI.RESEARCH_PIPELINE_ERROR:return["Research may be temporarily unavailable","Try with a different topic","Contact support if problem persists"];default:return["Try refreshing the page","Contact support if problem persists","Check browser console for details"]}}),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,isRetrying:!1,lastErrorTime:0}}static getDerivedStateFromError(e){return{hasError:!0,error:lL(e)?e:oL(e),lastErrorTime:Date.now()}}componentDidCatch(e,t){cL(lL(e)?e:oL(e),{component:"StreamingErrorBoundary",errorInfo:t,retryCount:this.state.retryCount}),this.setState({errorInfo:t})}componentWillUnmount(){this.retryTimeoutId&&clearTimeout(this.retryTimeoutId)}render(){const{hasError:e,error:t,errorInfo:i,retryCount:r,isRetrying:a}=this.state,{children:n,fallback:o,showDetails:l=!1,className:c=""}=this.props;return e&&t?o||s.jsxs(Vy,{className:`border-red-200 bg-red-50 ${c}`,children:[s.jsx(Uy,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[this.getErrorIcon(t.type),s.jsx(qy,{className:"text-red-800",children:t.severity===JI.CRITICAL?"Critical Error":t.severity===JI.HIGH?"System Error":"Application Error"})]})}),s.jsxs($y,{className:"space-y-4",children:[s.jsxs(ej,{variant:"destructive",children:[s.jsx(H,{className:"h-4 w-4"}),s.jsx(tj,{children:this.getErrorMessage(t)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Suggestions:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:this.getErrorSuggestions(t).map((e,t)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gray-400",children:"•"}),s.jsx("span",{children:e})]},t))})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[t.recoverable&&r<3&&s.jsx(cw,{onClick:this.handleRetry,disabled:a,variant:"outline",size:"sm",children:a?s.jsxs(s.Fragment,{children:[s.jsx(V,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(V,{className:"w-4 h-4 mr-2"}),"Retry (",3-r," attempts left)"]})}),s.jsx(cw,{onClick:this.handleReset,variant:"outline",size:"sm",children:"Reset"})]}),l&&s.jsxs("details",{className:"mt-4",children:[s.jsx("summary",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Technical Details"}),s.jsxs("div",{className:"mt-2 p-3 bg-gray-100 rounded text-xs font-mono",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Error Code:"})," ",t.code]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Error Type:"})," ",t.type]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Severity:"})," ",t.severity]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Message:"})," ",t.message]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Recoverable:"})," ",t.recoverable?"Yes":"No"]}),t.retryAfter&&s.jsxs("div",{children:[s.jsx("strong",{children:"Retry After:"})," ",t.retryAfter,"ms"]}),t.context&&s.jsxs("div",{children:[s.jsx("strong",{children:"Context:"})," ",JSON.stringify(t.context,null,2)]}),i&&s.jsxs("div",{className:"mt-2",children:[s.jsx("strong",{children:"Stack:"}),s.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:t.stack})]})]})]})]})]}):n}}function uL(){return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),s.jsx("div",{className:"h-32 bg-muted rounded"})]})})}function hL(){const{topic:e,isLoading:t}=hE();return t?s.jsx(LT,{children:s.jsx(MT,{children:s.jsx(OT,{children:s.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"})})})}):s.jsx(LT,{children:s.jsx(MT,{children:s.jsx(OT,{children:s.jsx("span",{className:"text-foreground font-medium",children:(null==e?void 0:e.title)||"Topic"})})})})}function pL({tabId:e,children:t}){const{isTabLoaded:i}=hE();return i(e)?s.jsx(Ct.Suspense,{fallback:s.jsx(uL,{}),children:t}):s.jsx(uL,{})}function mL(){const{activeTab:e,setActiveTab:t,isLoading:i,error:r}=hE(),{slug:a}=Ot();return function(e={}){const{maxRetries:t=3,enableAutoRetry:s=!1,retryDelay:i=3e3,onError:a,onRetry:n,onMaxRetriesReached:o}=e,[l,c]=Ct.useState({error:null,isRetrying:!1,retryCount:0,canRetry:!1}),d=Ct.useRef(null),u=Ct.useRef(null);Ct.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const h=Ct.useCallback((e,r)=>{const n=lL(e)?e:oL(e);cL(n,{component:"useErrorHandler"}),r&&(u.current=r);const d=n.recoverable&&l.retryCount<t,h=n.retryAfter||i;c({error:n,isRetrying:!1,retryCount:l.retryCount,canRetry:d,retryAfter:h}),null==a||a(n),s&&d&&h&&p(h),!d&&l.retryCount>=t&&(null==o||o(n))},[l.retryCount,t,s,i,a,o]),p=Ct.useCallback(e=>{d.current&&clearTimeout(d.current),c(e=>({...e,isRetrying:!0})),d.current=setTimeout(()=>{m()},e)},[]),m=Ct.useCallback(async()=>{if(!u.current||!l.canRetry)return;const e=l.retryCount+1;c(t=>({...t,isRetrying:!0,retryCount:e})),null==n||n(e);try{await u.current(),c({error:null,isRetrying:!1,retryCount:0,canRetry:!1})}catch(r){h(r)}},[l.canRetry,l.retryCount,n,h]),f=Ct.useCallback(()=>{d.current&&clearTimeout(d.current),c({error:null,isRetrying:!1,retryCount:0,canRetry:!1}),u.current=null},[]),g=Ct.useCallback(async(e,t)=>{try{return f(),await e()}catch(r){return h(r,e),null}},[h,f]);l.error,l.isRetrying,l.retryCount,l.canRetry,l.retryAfter}({maxRetries:3,onError:e=>{},onRetry:e=>{}}),r?s.jsx(dL,{onRetry:()=>window.location.reload(),onReset:()=>window.location.reload(),showDetails:!1,children:s.jsx(Vy,{children:s.jsx($y,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"Error Loading Topic"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:r}),s.jsx(cw,{onClick:()=>window.location.reload(),children:"Retry"})]})})})}):s.jsxs(KA,{children:[s.jsx(IT,{currentPath:`/learn/${a}`}),s.jsxs(eT,{children:[s.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-4 border-b px-4",children:[s.jsx(JA,{className:"-ml-1"}),s.jsx(Tw,{orientation:"vertical",className:"mr-2 h-4"}),s.jsx(sE,{value:e,onValueChange:e=>t(e),className:"flex items-center",children:s.jsx(fE,{className:"h-auto"})}),s.jsx("div",{className:"flex-1 flex justify-center",children:s.jsx(hL,{})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(KI,{})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs(sE,{value:e,onValueChange:e=>t(e),className:"h-full",children:[s.jsx(aE,{value:"learn",className:"mt-0 h-full",children:s.jsx(dL,{onRetry:()=>window.location.reload(),showDetails:!1,children:s.jsx("div",{className:"h-full p-6",children:s.jsx(Ct.Suspense,{fallback:s.jsx(uL,{}),children:s.jsx(tP,{})})})})}),s.jsx(aE,{value:"explore",className:"mt-0 h-full",children:s.jsx(dL,{onRetry:()=>window.location.reload(),showDetails:!1,children:s.jsx("div",{className:"h-full p-6",children:s.jsx(pL,{tabId:"explore",children:s.jsx(WP,{})})})})}),s.jsx(aE,{value:"ask",className:"mt-0 h-full",children:s.jsx(dL,{onRetry:()=>window.location.reload(),showDetails:!1,children:s.jsx("div",{className:"h-full p-6",children:s.jsx(pL,{tabId:"ask",children:s.jsx(OI,{})})})})}),s.jsx(aE,{value:"mindmap",className:"mt-0 h-full",children:s.jsx(dL,{onRetry:()=>window.location.reload(),showDetails:!1,children:s.jsx("div",{className:"h-full",children:s.jsx(pL,{tabId:"mindmap",children:s.jsx(HI,{})})})})}),s.jsx(aE,{value:"quiz",className:"mt-0 h-full",children:s.jsx(dL,{onRetry:()=>window.location.reload(),showDetails:!1,children:s.jsx("div",{className:"h-full p-6",children:s.jsx(pL,{tabId:"quiz",children:s.jsx(UI,{})})})})}),s.jsx(aE,{value:"sources",className:"mt-0 h-full",children:s.jsx(dL,{onRetry:()=>window.location.reload(),showDetails:!1,children:s.jsx("div",{className:"h-full p-6",children:s.jsx(pL,{tabId:"sources",children:s.jsx($I,{})})})})})]})})]})]})}const fL="wasp-oauth-callback-wrapper";const gL={LandingPageRoute:function(){const[e,t]=Ct.useState(!1),{data:i}=Vu();return Ct.useEffect(()=>{let e;const t=()=>{e=((e,t=5e3)=>"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:t}):setTimeout(e,1))(()=>{})};return"complete"===document.readyState?t():window.addEventListener("load",t),()=>{var s;window.removeEventListener("load",t),e&&(s=e,"cancelIdleCallback"in window&&"number"==typeof s?window.cancelIdleCallback(s):clearTimeout(s))}},[]),s.jsxs("div",{className:"min-h-screen",children:[s.jsx("a",{href:"#hero",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-primary-foreground px-4 py-2 rounded-md z-50 focus:outline-none focus:ring-2 focus:ring-primary-foreground",children:"Skip to main content"}),s.jsxs("main",{role:"main",children:[s.jsx(My,{onTopicSubmit:async e=>{if(!e.trim())throw new Error("Please enter a topic to learn about");if(!i)return sy(e.trim()),void(window.location.href="/signup");t(!0);try{const t=await ru({title:e.trim(),summary:`Learn about ${e.trim()}`,description:`Comprehensive learning material for ${e.trim()}`});window.location.href=`/learn/${t.slug}`}catch(s){if(s instanceof Error){if(s.message.includes("Authentication required"))return sessionStorage.setItem("pendingTopic",e.trim()),void(window.location.href="/login");if(s.message.includes("credits")||s.message.includes("quota"))throw new Error("You have reached your learning quota. Please upgrade your plan to continue.");if(s.message.includes("network")||s.message.includes("fetch"))throw new Error("Network connection failed. Please check your internet connection and try again.")}throw s}finally{t(!1)}},isLoading:e}),s.jsx(Oy,{fallback:s.jsx(Dy,{}),children:s.jsx(Ct.Suspense,{fallback:s.jsx(Dy,{}),children:s.jsx(By,{})})}),s.jsx(Oy,{fallback:s.jsx(_y,{}),children:s.jsx(Ct.Suspense,{fallback:s.jsx(_y,{}),children:s.jsx(Hy,{})})}),s.jsx(Oy,{fallback:s.jsx(zy,{}),children:s.jsx(Ct.Suspense,{fallback:s.jsx(zy,{}),children:s.jsx(Wy,{})})})]}),s.jsx(Oy,{fallback:s.jsx(Fy,{}),children:s.jsx(Ct.Suspense,{fallback:s.jsx(Fy,{}),children:s.jsx(Xy,{})})})]})},HomePageRoute:function(){return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsxs("main",{className:"isolate",children:[s.jsx(dw,{}),s.jsx(Ky,{examples:jw}),s.jsx(fw,{}),s.jsx(aw,{features:bw}),s.jsx(pw,{testimonials:vw}),s.jsx(iw,{faqs:yw})]}),s.jsx(ow,{footerNavigation:ww})]})},LoginRoute:function(){return s.jsxs(Nw,{children:[s.jsx(Bc,{}),s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsx(Tw,{}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground font-platform",children:["Don't have an account yet?"," ",s.jsx(Xi,{to:Yi.SignupRoute.to,className:"text-primary hover:underline",children:"Sign up"})]}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground font-platform",children:["Forgot your password?"," ",s.jsx(Xi,{to:Yi.RequestPasswordResetRoute.to,className:"text-primary hover:underline",children:"Reset it"})]})]})]})]})},SignupRoute:function(){return s.jsxs(Nw,{children:[s.jsx(Hc,{}),s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsx(Tw,{}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm font-medium text-muted-foreground font-platform",children:["Already have an account?"," ",s.jsx(Xi,{to:Yi.LoginRoute.to,className:"text-primary hover:underline",children:"Sign in"})]})})]})]})},RequestPasswordResetRoute:function(){return s.jsx(Nw,{children:s.jsx(Wc,{})})},PasswordResetRoute:function(){return s.jsxs(Nw,{children:[s.jsx(Yc,{}),s.jsx("br",{}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["If everything is okay, ",s.jsx(Xi,{to:Yi.LoginRoute.to,children:"go to login"})]})]})},EmailVerificationRoute:function(){return s.jsxs(Nw,{children:[s.jsx(Xc,{}),s.jsx("br",{}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["If everything is okay, ",s.jsx(Xi,{to:Yi.LoginRoute.to,className:"underline",children:"go to login"})]})]})},AccountRoute:by(function({user:e}){const{data:t,isLoading:i}=Hu(Eu);return s.jsxs("div",{className:"mt-10 px-6 space-y-6",children:[s.jsxs(Vy,{className:"lg:m-8",children:[s.jsx(Uy,{children:s.jsx(qy,{className:"text-base font-semibold leading-6 text-foreground",children:"Account Information"})}),s.jsx($y,{className:"p-0",children:s.jsxs("div",{className:"space-y-0",children:[!!e.email&&s.jsx("div",{className:"py-4 px-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Email address"}),s.jsx("dd",{className:"mt-1 text-sm text-foreground sm:col-span-2 sm:mt-0",children:e.email})]})}),!!e.username&&s.jsxs(s.Fragment,{children:[s.jsx(Tw,{}),s.jsx("div",{className:"py-4 px-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Username"}),s.jsx("dd",{className:"mt-1 text-sm text-foreground sm:col-span-2 sm:mt-0",children:e.username})]})})]}),s.jsx(Tw,{}),s.jsx("div",{className:"py-4 px-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Your Plan"}),s.jsx(ij,{subscriptionStatus:e.subscriptionStatus,subscriptionPlan:e.subscriptionPlan,datePaid:e.datePaid,credits:e.credits})]})}),s.jsx(Tw,{}),s.jsx("div",{className:"py-4 px-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"About"}),s.jsx("dd",{className:"mt-1 text-sm text-foreground sm:col-span-2 sm:mt-0",children:"I'm a cool customer."})]})})]})})]}),s.jsxs(Vy,{className:"lg:m-8",children:[s.jsx(Uy,{children:s.jsxs(qy,{className:"text-base font-semibold leading-6 text-foreground flex items-center gap-2",children:[s.jsx(Z,{className:"h-5 w-5"}),"Learning Progress"]})}),s.jsx($y,{children:i?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>s.jsxs("div",{className:"animate-pulse space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-2 bg-gray-200 rounded"})]},e))}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalTopics}),s.jsx("div",{className:"text-sm text-blue-800",children:"Topics Explored"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.completedTopics}),s.jsx("div",{className:"text-sm text-green-800",children:"Completed"})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(t.totalTimeSpent/60),"m"]}),s.jsx("div",{className:"text-sm text-purple-800",children:"Time Spent"})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[t.completionPercentage,"%"]}),s.jsx("div",{className:"text-sm text-orange-800",children:"Completion"})]})]}),t.recentActivity.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[s.jsx(ie,{className:"h-4 w-4"}),"Recent Activity"]}),s.jsx("div",{className:"space-y-2",children:t.recentActivity.slice(0,3).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:e.topic.title}),e.completed&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Completed"})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(e.timeSpent/60),"m"]})]},e.id))}),s.jsx("div",{className:"mt-3",children:s.jsx(Xi,{to:"/learn",className:"text-sm text-primary hover:text-primary/80 transition-colors duration-200",children:"View all learning topics →"})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your learning journey!"}),s.jsxs(Xi,{to:"/learn",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors duration-200",children:[s.jsx(re,{className:"h-4 w-4"}),"Explore Topics"]})]})})]}),s.jsxs(Vy,{className:"lg:m-8",children:[s.jsx(Uy,{children:s.jsxs(qy,{className:"text-base font-semibold leading-6 text-foreground flex items-center gap-2",children:[s.jsx(ee,{className:"h-5 w-5"}),"Usage & Subscription"]})}),s.jsx($y,{children:s.jsx(sj,{compact:!1,showRecommendations:!0})})]})]})}),DemoAppRoute:by(function(){return s.jsx("div",{className:"py-10 lg:mt-10",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[s.jsx("div",{className:"mx-auto max-w-4xl text-center",children:s.jsxs("h2",{className:"mt-2 text-4xl font-bold tracking-tight text-foreground sm:text-5xl",children:[s.jsx("span",{className:"text-primary",children:"AI"})," Day Scheduler"]})}),s.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-muted-foreground",children:"This example app uses OpenAI's chat completions with function calling to return a structured JSON object. Try it out, enter your day's tasks, and let AI do the rest!"}),s.jsx(Vy,{className:"my-8 bg-muted/10",children:s.jsx($y,{className:"sm:w-[90%] md:w-[70%] lg:w-[50%] py-10 px-6 mx-auto my-8 space-y-10",children:s.jsx(Cj,{handleCreateTask:Jd})})})]})})}),PricingPageRoute:()=>{const[e,t]=Ct.useState(!1),[i,r]=Ct.useState(null),{data:a}=Vu(),n=!!a&&!!a.subscriptionStatus&&a.subscriptionStatus!==Pw.Deleted,{data:o,isLoading:l,error:c}=Hu(Nu,{enabled:n}),d=Et();const u=()=>{a?c?r("Error fetching Customer Portal URL"):o?window.open(o,"_blank"):r(`Customer Portal does not exist for user ${a.id}`):d("/login")};return s.jsx("div",{className:"py-10 lg:mt-10",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[s.jsx("div",{id:"pricing",className:"mx-auto max-w-4xl text-center",children:s.jsxs("h2",{className:"mt-2 text-4xl font-bold tracking-tight text-foreground sm:text-5xl",children:["Pick your ",s.jsx("span",{className:"text-primary",children:"pricing"})]})}),s.jsxs("p",{className:"mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-muted-foreground",children:["Choose between Stripe and LemonSqueezy as your payment provider. Just add your Product IDs! Try it out below with test credit card number ",s.jsx("br",{}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded-md text-muted-foreground font-mono text-sm",children:"4242 4242 4242 4242 4242"})]}),i&&s.jsx(ej,{variant:"destructive",className:"mt-8",children:s.jsx(tj,{children:i})}),s.jsx("div",{className:"isolate mx-auto mt-16 grid max-w-md grid-cols-1 gap-y-8 lg:gap-x-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:Object.values(Iw).map(i=>s.jsxs(Vy,{className:Yh("relative flex flex-col grow justify-between overflow-hidden transition-all duration-300 hover:shadow-lg",{"ring-2 ring-primary !bg-transparent":i===Pj,"ring-1 ring-border lg:my-8":i!==Pj}),children:[i===Pj&&s.jsx("div",{className:"absolute top-0 right-0 -z-10 w-full h-full transform-gpu blur-3xl","aria-hidden":"true",children:s.jsx("div",{className:"absolute w-full h-full bg-gradient-to-br from-primary/40 via-primary/20 to-primary/10 opacity-30",style:{clipPath:"circle(670% at 50% 50%)"}})}),s.jsxs($y,{className:"p-8 xl:p-10 h-full justify-between",children:[s.jsx("div",{className:"flex items-center justify-between gap-x-4",children:s.jsx(qy,{id:i,className:"text-foreground text-lg font-semibold leading-8",children:Ij[i].name})}),s.jsx("p",{className:"mt-4 text-sm leading-6 text-muted-foreground",children:Ij[i].description}),s.jsxs("p",{className:"mt-6 flex items-baseline gap-x-1",children:[s.jsx("span",{className:"text-4xl font-bold tracking-tight text-foreground",children:Ij[i].price}),s.jsx("span",{className:"text-sm font-semibold leading-6 text-muted-foreground",children:"subscription"===Lw[i].effect.kind&&"/month"})]}),s.jsx("ul",{role:"list",className:"mt-8 space-y-3 text-sm leading-6 text-muted-foreground",children:Ij[i].features.map(e=>s.jsxs("li",{className:"flex gap-x-3",children:[s.jsx(W,{className:"h-5 w-5 flex-none text-primary","aria-hidden":"true"}),e]},e))})]}),s.jsx(Qy,{children:n?s.jsx(cw,{onClick:u,disabled:l,"aria-describedby":"manage-subscription",variant:i===Pj?"default":"outline",className:"w-full",children:"Manage Subscription"}):s.jsx(cw,{onClick:()=>async function(e){if(a)try{t(!0);const s=await su(e);if(!(null==s?void 0:s.sessionUrl))throw new Error("Error generating checkout session URL");window.open(s.sessionUrl,"_self")}catch(s){s instanceof Error?r(s.message):r("Error processing payment. Please try again later."),t(!1)}else d("/login")}(i),"aria-describedby":i,variant:i===Pj?"default":"outline",className:"w-full",disabled:e,children:a?"Buy plan":"Log in to buy plan"})})]},i))})]})})},CheckoutRoute:by(function(){const[e,t]=Ct.useState("loading"),i=Et(),r=Rt();return Ct.useEffect(()=>{function e(){return setTimeout(()=>{i("/account")},4e3)}const s=new URLSearchParams(r.search),a=s.get("success");return s.get("canceled")?t("canceled"):a?t("paid"):i("/account"),e(),()=>{clearTimeout(e())}},[r]),s.jsx("div",{className:"flex min-h-full flex-col justify-center mt-10 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"py-8 px-4 shadow-xl ring-1 ring-gray-900/10 dark:ring-gray-100/10 sm:rounded-lg sm:px-10",children:[s.jsx("h1",{children:"paid"===e?"🥳 Payment Successful!":"canceled"===e?"😢 Payment Canceled":"error"===e&&"🙄 Payment Error"}),"loading"!==e&&s.jsxs("span",{className:"text-center",children:["You are being redirected to your account page... ",s.jsx("br",{})]})]})})})}),FileUploadRoute:by(function(){const[e,t]=Ct.useState(""),[i,r]=Ct.useState(0),[a,n]=Ct.useState(null),o=Hu(ku,void 0,{enabled:!1}),{isLoading:l,refetch:c}=Hu(Su,{key:e},{enabled:!1});return Ct.useEffect(()=>{o.refetch()},[]),Ct.useEffect(()=>{e.length>0&&c().then(e=>{switch(e.status){case"error":return void alert("Error fetching download");case"success":return void window.open(e.data,"_blank")}}).finally(()=>{t("")})},[e]),s.jsx("div",{className:"py-10 lg:mt-10",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[s.jsx("div",{className:"mx-auto max-w-4xl text-center",children:s.jsxs("h2",{className:"mt-2 text-4xl font-bold tracking-tight text-foreground sm:text-5xl",children:[s.jsx("span",{className:"text-primary",children:"AWS"})," File Upload"]})}),s.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-muted-foreground",children:"This is an example file upload page using AWS S3. Maybe your app needs this. Maybe it doesn't. But a lot of people asked for this feature, so here you go 🤝"}),s.jsx(Vy,{className:"my-8",children:s.jsxs($y,{className:"space-y-10 my-10 py-8 px-4 mx-auto sm:max-w-lg",children:[s.jsxs("form",{onSubmit:async e=>{try{e.preventDefault();const t=e.target;if(!(t instanceof HTMLFormElement))throw new Error("Event target is not a form element");const s=new FormData(t).get("file-upload");if(!(s&&s instanceof File))return void n({message:"Please select a file to upload.",code:"NO_FILE"});const i=Dj(s);if(null!==i)return void n(i);await Oj({file:s,setUploadProgressPercent:r}),t.reset(),o.refetch()}catch(t){n({message:t instanceof Error?t.message:"An unexpected error occurred while uploading the file.",code:"UPLOAD_FAILED"})}finally{r(0)}},className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(cb,{htmlFor:"file-upload",className:"text-sm font-medium text-foreground",children:"Select a file to upload"}),s.jsx(Sj,{type:"file",id:"file-upload",name:"file-upload",accept:Mj.join(","),onChange:()=>n(null),className:"cursor-pointer"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(cw,{type:"submit",disabled:i>0,className:"w-full",children:i>0?`Uploading ${i}%`:"Upload"}),i>0&&s.jsx(Zw,{value:i,className:"w-full"})]}),a&&s.jsx(ej,{variant:"destructive",children:s.jsx(tj,{children:a.message})})]}),s.jsx("div",{className:"border-b-2 border-border"}),s.jsxs("div",{className:"space-y-4 col-span-full",children:[s.jsx(qy,{className:"text-xl font-bold text-foreground",children:"Uploaded Files"}),o.isLoading&&s.jsx("p",{className:"text-muted-foreground",children:"Loading..."}),o.error&&s.jsx(ej,{variant:"destructive",children:s.jsxs(tj,{children:["Error: ",o.error.message]})}),o.data&&o.data.length>0&&!o.isLoading?s.jsx("div",{className:"space-y-3",children:o.data.map(i=>s.jsx(Vy,{className:"p-4",children:s.jsxs("div",{className:Yh("flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",{"opacity-70":i.key===e&&l}),children:[s.jsx("p",{className:"text-foreground font-medium",children:i.name}),s.jsx(cw,{onClick:()=>t(i.key),disabled:i.key===e&&l,variant:"outline",size:"sm",children:i.key===e&&l?"Loading...":"Download"})]})},i.key))}):s.jsx("p",{className:"text-muted-foreground text-center",children:"No files uploaded yet :("})]})]})})]})})}),AdminRoute:by(({user:e})=>{var t;Wj({user:e});const{data:i,isLoading:r,error:a}=Hu(Cu);return s.jsx(Hj,{user:e,children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:Yh({"opacity-25":!i}),children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6 xl:grid-cols-4 2xl:gap-7.5",children:[s.jsx(lN,{totalPageViews:null==i?void 0:i.dailyStats.totalViews,prevDayViewsChangePercent:null==i?void 0:i.dailyStats.prevDayViewsChangePercent}),s.jsx(dN,{dailyStats:null==i?void 0:i.dailyStats,weeklyStats:null==i?void 0:i.weeklyStats,isLoading:r}),s.jsx(cN,{dailyStats:null==i?void 0:i.dailyStats,isLoading:r}),s.jsx(uN,{dailyStats:null==i?void 0:i.dailyStats,isLoading:r})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-12 gap-4 md:mt-6 md:gap-6 2xl:mt-7.5 2xl:gap-7.5",children:[s.jsx(nN,{weeklyStats:null==i?void 0:i.weeklyStats,isLoading:r}),s.jsx("div",{className:"col-span-12 xl:col-span-8",children:s.jsx(oN,{sources:null==(t=null==i?void 0:i.dailyStats)?void 0:t.sources})})]})]}),!i&&s.jsx("div",{className:"absolute inset-0 flex items-start justify-center bg-background/50",children:s.jsxs("div",{className:"rounded-lg bg-card p-8 shadow-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground font-platform",children:"No daily stats generated yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground font-platform",children:"Stats will appear here once the daily stats job has run"})]})})]})})}),AdminUsersRoute:by(({user:e})=>(Wj({user:e}),s.jsxs(Hj,{user:e,children:[s.jsx(KS,{pageName:"Users"}),s.jsx("div",{className:"flex flex-col gap-10",children:s.jsx(QS,{})})]}))),AdminSettingsRoute:by(({user:e})=>{Wj({user:e});return s.jsx(Hj,{user:e,children:s.jsxs("div",{className:"mx-auto max-w-270",children:[s.jsx(KS,{pageName:"Settings"}),s.jsxs("div",{className:"grid grid-cols-5 gap-8",children:[s.jsx("div",{className:"col-span-5 xl:col-span-3",children:s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"Personal Information"})}),s.jsx($y,{children:s.jsxs("form",{onSubmit:e=>{e.preventDefault();confirm("Are you sure you want to save the changes?")?WC.success("Your changes have been saved successfully!"):WC.error("Your changes have not been saved!")},children:[s.jsxs("div",{className:"mb-5.5 flex flex-col gap-5.5 sm:flex-row",children:[s.jsxs("div",{className:"w-full sm:w-1/2",children:[s.jsx(cb,{htmlFor:"full-name",className:"mb-3 block text-sm font-medium text-foreground",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(M,{className:"absolute left-4.5 top-2 h-5 w-5 text-muted-foreground"}),s.jsx(Sj,{className:"pl-11.5",type:"text",name:"fullName",id:"full-name",placeholder:"Devid Jhon",defaultValue:"Devid Jhon"})]})]}),s.jsxs("div",{className:"w-full sm:w-1/2",children:[s.jsx(cb,{htmlFor:"phone-number",className:"mb-3 block text-sm font-medium text-foreground",children:"Phone Number"}),s.jsx(Sj,{type:"",name:"phoneNumber",id:"phone-number",placeholder:"+990 3343 7865",defaultValue:"+990 3343 7865"})]})]}),s.jsxs("div",{className:"mb-5.5",children:[s.jsx(cb,{htmlFor:"email-address",className:"mb-3 block text-sm font-medium text-foreground",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(je,{className:"absolute left-4.5 top-2 h-5 w-5 text-muted-foreground"}),s.jsx(Sj,{className:"pl-11.5",type:"email",name:"emailAddress",id:"email-address",placeholder:"devidjond45@gmail.com",defaultValue:"devidjond45@gmail.com"})]})]}),s.jsxs("div",{className:"mb-5.5",children:[s.jsx(cb,{htmlFor:"username",className:"mb-3 block text-sm font-medium text-foreground",children:"Username"}),s.jsx(Sj,{type:"text",name:"Username",id:"username",placeholder:"devidjhon24",defaultValue:"devidjhon24"})]}),s.jsxs("div",{className:"mb-5.5",children:[s.jsx(cb,{htmlFor:"bio",className:"mb-3 block text-sm font-medium text-foreground",children:"BIO"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ne,{className:"absolute left-4.5 top-4 h-5 w-5 text-muted-foreground"}),s.jsx(XC,{className:"w-full rounded border border-border bg-background py-3 pl-11.5 pr-4.5 text-foreground focus:border-primary focus-visible:outline-none",name:"bio",id:"bio",rows:6,placeholder:"Write your bio here",defaultValue:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque posuere fermentum urna, eu condimentum mauris tempus ut. Donec fermentum blandit aliquet."})]})]}),s.jsxs("div",{className:"flex justify-end gap-4.5",children:[s.jsx(cw,{variant:"outline",type:"submit",children:"Cancel"}),s.jsx(cw,{type:"submit",children:"Save"})]})]})})]})}),s.jsx("div",{className:"col-span-5 xl:col-span-2",children:s.jsxs(Vy,{children:[s.jsx(Uy,{children:s.jsx(qy,{children:"Your Photo"})}),s.jsx($y,{children:s.jsxs("form",{action:"#",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[s.jsx("div",{className:"h-14 w-14 rounded-full"}),s.jsxs("div",{children:[s.jsx("span",{className:"mb-1.5 text-foreground",children:"Edit your photo"}),s.jsxs("span",{className:"flex gap-2.5",children:[s.jsx("button",{className:"text-sm hover:text-primary",children:"Delete"}),s.jsx("button",{className:"text-sm hover:text-primary",children:"Update"})]})]})]}),s.jsxs("div",{id:"FileUpload",className:"relative mb-5.5 block w-full cursor-pointer appearance-none rounded border-2 border-dashed border-primary bg-background py-4 px-4 sm:py-7.5",children:[s.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 z-50 m-0 h-full w-full cursor-pointer p-0 opacity-0 outline-none"}),s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-border bg-background",children:s.jsx(ke,{className:"h-4 w-4 text-primary"})}),s.jsxs("p",{children:[s.jsx("span",{className:"text-primary",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"mt-1.5",children:"SVG, PNG, JPG or GIF"}),s.jsx("p",{children:"(max, 800 X 800px)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-4.5",children:[s.jsx(cw,{variant:"outline",type:"submit",children:"Cancel"}),s.jsx(cw,{type:"submit",children:"Save"})]})]})})]})})]})]})})}),AdminCalendarRoute:by(({user:e})=>(Wj({user:e}),s.jsxs(Hj,{user:e,children:[s.jsx(KS,{pageName:"Calendar"}),s.jsx("div",{className:"w-full max-w-full rounded-sm border border-border bg-card shadow-default",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"grid grid-cols-7 rounded-t-sm bg-primary text-primary-foreground",children:[s.jsxs("th",{className:"flex h-15 items-center justify-center rounded-tl-sm p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Sunday "}),s.jsx("span",{className:"block lg:hidden",children:" Sun "})]}),s.jsxs("th",{className:"flex h-15 items-center justify-center p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Monday "}),s.jsx("span",{className:"block lg:hidden",children:" Mon "})]}),s.jsxs("th",{className:"flex h-15 items-center justify-center p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Tuesday "}),s.jsx("span",{className:"block lg:hidden",children:" Tue "})]}),s.jsxs("th",{className:"flex h-15 items-center justify-center p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Wednesday "}),s.jsx("span",{className:"block lg:hidden",children:" Wed "})]}),s.jsxs("th",{className:"flex h-15 items-center justify-center p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Thursday "}),s.jsx("span",{className:"block lg:hidden",children:" Thur "})]}),s.jsxs("th",{className:"flex h-15 items-center justify-center p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Friday "}),s.jsx("span",{className:"block lg:hidden",children:" Fri "})]}),s.jsxs("th",{className:"flex h-15 items-center justify-center rounded-tr-sm p-1 text-xs font-semibold sm:text-base xl:p-5",children:[s.jsx("span",{className:"hidden lg:block",children:" Saturday "}),s.jsx("span",{className:"block lg:hidden",children:" Sat "})]})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"grid grid-cols-7",children:[s.jsxs("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:[s.jsx("span",{className:"font-medium",children:"1"}),s.jsxs("div",{className:"group h-16 w-full flex-grow cursor-pointer py-1 md:h-30",children:[s.jsx("span",{className:"group-hover:text-primary md:hidden",children:"More"}),s.jsxs("div",{className:"event invisible absolute left-2 z-99 mb-1 flex w-[200%] flex-col rounded-sm border-l-[3px] border-primary bg-muted px-3 py-1 text-left opacity-0 group-hover:visible group-hover:opacity-100 md:visible md:w-[190%] md:opacity-100",children:[s.jsx("span",{className:"event-name text-sm font-semibold text-foreground",children:"Redesign Website"}),s.jsx("span",{className:"time text-sm font-medium text-foreground",children:"1 Dec - 2 Dec"})]})]})]}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"2"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"3"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"4"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"5"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"6"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"7"})})]}),s.jsxs("tr",{className:"grid grid-cols-7",children:[s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"8"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"9"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"10"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"11"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"12"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"13"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"14"})})]}),s.jsxs("tr",{className:"grid grid-cols-7",children:[s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"15"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"16"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"17"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"18"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"19"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"20"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"21"})})]}),s.jsxs("tr",{className:"grid grid-cols-7",children:[s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"22"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"23"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"24"})}),s.jsxs("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:[s.jsx("span",{className:"font-medium",children:"25"}),s.jsxs("div",{className:"group h-16 w-full flex-grow cursor-pointer py-1 md:h-30",children:[s.jsx("span",{className:"group-hover:text-primary md:hidden",children:"More"}),s.jsxs("div",{className:"event invisible absolute left-2 z-99 mb-1 flex w-[300%] flex-col rounded-sm border-l-[3px] border-primary bg-muted px-3 py-1 text-left opacity-0 group-hover:visible group-hover:opacity-100 md:visible md:w-[290%] md:opacity-100",children:[s.jsx("span",{className:"event-name text-sm font-semibold text-foreground",children:"App Design"}),s.jsx("span",{className:"time text-sm font-medium text-foreground",children:"25 Dec - 27 Dec"})]})]})]}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"26"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"27"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"28"})})]}),s.jsxs("tr",{className:"grid grid-cols-7",children:[s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"29"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"30"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"31"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"1"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"2"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"3"})}),s.jsx("td",{className:"ease relative h-20 cursor-pointer border border-border p-2 transition duration-500 text-accent hover:bg-accent hover:text-accent-foreground md:h-25 md:p-6 xl:h-31",children:s.jsx("span",{className:"font-medium",children:"4"})})]})]})]})})]}))),AdminUIButtonsRoute:by(({user:e})=>(Wj({user:e}),s.jsxs(Hj,{user:e,children:[s.jsx(KS,{pageName:"Buttons"}),s.jsxs("div",{className:"mb-10 rounded-sm border border-border bg-card shadow-default",children:[s.jsx("div",{className:"border-b border-border px-7 py-4",children:s.jsx("h3",{className:"font-medium text-foreground",children:"Button Variants"})}),s.jsx("div",{className:"p-4 md:p-6 xl:p-9",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(cw,{variant:"default",children:"Default"}),s.jsx(cw,{variant:"outline",children:"Outline"}),s.jsx(cw,{variant:"secondary",children:"Secondary"}),s.jsx(cw,{variant:"ghost",children:"Ghost"}),s.jsx(cw,{variant:"link",children:"Link"}),s.jsx(cw,{variant:"destructive",children:"Destructive"})]})})]}),s.jsxs("div",{className:"mb-10 rounded-sm border border-border bg-card shadow-default",children:[s.jsx("div",{className:"border-b border-border px-7 py-4",children:s.jsx("h3",{className:"font-medium text-foreground",children:"Button Sizes"})}),s.jsx("div",{className:"p-4 md:p-6 xl:p-9",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx(cw,{size:"sm",children:"Small"}),s.jsx(cw,{size:"default",children:"Default"}),s.jsx(cw,{size:"lg",children:"Large"}),s.jsx(cw,{size:"icon",children:s.jsx(Se,{})})]})})]}),s.jsxs("div",{className:"mb-10 rounded-sm border border-border bg-card shadow-default",children:[s.jsx("div",{className:"border-b border-border px-7 py-4",children:s.jsx("h3",{className:"font-medium text-foreground",children:"Button with Icon"})}),s.jsx("div",{className:"p-4 md:p-6 xl:p-9",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs(cw,{children:[s.jsx(Se,{}),"Add Item"]}),s.jsxs(cw,{variant:"outline",children:[s.jsx(Ce,{}),"Like"]}),s.jsxs(cw,{variant:"destructive",children:[s.jsx(oe,{}),"Delete"]})]})})]})]}))),AdminLearningAnalyticsRoute:by(({user:e})=>{Wj({user:e});const{data:t,isLoading:i,error:r}=Hu(Bu);return r?s.jsx(Hj,{user:e,children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Vy,{className:"p-8",children:s.jsxs($y,{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-destructive",children:"Failed to load learning analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please try again later"})]})})})}):s.jsx(Hj,{user:e,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Learning Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor learning platform usage and user engagement"})]})}),s.jsxs("div",{className:Yh("space-y-6",{"opacity-25":!t}),children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Vy,{children:[s.jsxs(Uy,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qy,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs($y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.totalUsers)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.activeUsers)||0," active this month"]})]})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qy,{className:"text-sm font-medium",children:"Topics Created"}),s.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs($y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.totalTopics)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.averageTopicsPerUser.toFixed(1))||0," per user"]})]})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qy,{className:"text-sm font-medium",children:"Chat Messages"}),s.jsx(J,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs($y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.totalChatMessages)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI conversations"})]})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qy,{className:"text-sm font-medium",children:"Quizzes Generated"}),s.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs($y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.totalQuizzes)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Knowledge assessments"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2",children:[s.jsx(te,{className:"h-5 w-5 text-yellow-500"}),"Subscription Overview"]}),s.jsx(Gy,{children:"User distribution across subscription plans"})]}),s.jsxs($y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subscribed Users"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:(null==t?void 0:t.subscribedUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Free Users"}),s.jsx("span",{className:"text-lg font-semibold",children:((null==t?void 0:t.totalUsers)||0)-((null==t?void 0:t.subscribedUsers)||0)})]}),s.jsx(Zw,{value:(null==t?void 0:t.totalUsers)?t.subscribedUsers/t.totalUsers*100:0,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.totalUsers)?Math.round(t.subscribedUsers/t.totalUsers*100):0,"% subscription rate"]})]})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2",children:[s.jsx(re,{className:"h-5 w-5 text-blue-500"}),"Monthly Growth"]}),s.jsx(Gy,{children:"New users and subscriptions this month"})]}),s.jsxs($y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:(null==t?void 0:t.monthlyGrowth.newUsers)||0}),s.jsx("div",{className:"text-xs text-blue-800",children:"New Users"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-green-600",children:(null==t?void 0:t.monthlyGrowth.newSubscriptions)||0}),s.jsx("div",{className:"text-xs text-green-800",children:"New Subscriptions"})]})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-purple-600",children:(null==t?void 0:t.monthlyGrowth.newTopics)||0}),s.jsx("div",{className:"text-xs text-purple-800",children:"New Topics Created"})]})]})]})]}),(null==t?void 0:t.usageByPlan)&&t.usageByPlan.length>0&&s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{children:"Usage by Subscription Plan"}),s.jsx(Gy,{children:"How different subscription tiers are being utilized"})]}),s.jsx($y,{children:s.jsx("div",{className:"space-y-4",children:t.usageByPlan.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dw,{variant:"pro"===e.plan?"default":"secondary",children:e.plan.charAt(0).toUpperCase()+e.plan.slice(1)}),s.jsxs("span",{className:"font-medium",children:[e.userCount," users"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Avg usage: ",e.averageUsage]})]},e.plan))})})]}),(null==t?void 0:t.topUsers)&&t.topUsers.length>0&&s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5 text-orange-500"}),"Most Active Learners"]}),s.jsx(Gy,{children:"Users with the highest learning engagement"})]}),s.jsx($y,{children:s.jsx("div",{className:"space-y-3",children:t.topUsers.slice(0,10).map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-800 rounded-full text-xs font-bold",children:t+1}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e.email||`User ${e.id.slice(0,8)}`}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.topicsCreated," topics • ",Math.round(e.totalTimeSpent/60),"m spent"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.subscriptionStatus&&s.jsx(Dw,{variant:"outline",className:"text-xs",children:e.subscriptionStatus}),s.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]})]},e.id))})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsxs(qy,{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-green-500"}),"Engagement Metrics"]}),s.jsx(Gy,{children:"Average learning behavior and time investment"})]}),s.jsx($y,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==t?void 0:t.averageTopicsPerUser.toFixed(1))||0}),s.jsx("div",{className:"text-sm text-blue-800",children:"Topics per User"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(((null==t?void 0:t.averageTimeSpentPerUser)||0)/60),"m"]}),s.jsx("div",{className:"text-sm text-green-800",children:"Avg Time per User"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(null==t?void 0:t.totalTopics)&&(null==t?void 0:t.totalChatMessages)?Math.round(t.totalChatMessages/t.totalTopics):0}),s.jsx("div",{className:"text-sm text-purple-800",children:"Messages per Topic"})]})]})})]})]}),!t&&!i&&s.jsx("div",{className:"absolute inset-0 flex items-start justify-center bg-background/50",children:s.jsxs("div",{className:"rounded-lg bg-card p-8 shadow-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:"No learning analytics available"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Analytics will appear here once users start using the learning platform"})]})}),i&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50",children:s.jsxs("div",{className:"rounded-lg bg-card p-8 shadow-lg",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-sm text-muted-foreground text-center",children:"Loading analytics..."})]})})]})})}),NotFoundRoute:function(){const{data:e}=Vu();return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-6xl font-bold  mb-4",children:"404"}),s.jsx("p",{className:"text-lg text-bodydark mb-8",children:"Oops! The page you're looking for doesn't exist."}),s.jsx(Xi,{to:e?Yi.DemoAppRoute.to:Yi.LandingPageRoute.to,className:"inline-block px-8 py-3 text-accent-foreground font-semibold bg-accent rounded-lg hover:bg-accent/90 transition duration-300",children:"Go Back Home"})]})})},AdminMessagesRoute:by(function({user:e}){return Wj({user:e}),s.jsx("div",{children:"Hello world!"})}),TopicSearchRoute:by(function(){const[e,t]=Ct.useState(""),{data:i}=Vu(),{data:r}=Hu(Eu),a=()=>{if(!e.trim())return;const t=e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();window.location.href=`/learn/${t}`};return s.jsxs(KA,{children:[s.jsx(IT,{currentPath:"/learn"}),s.jsxs(eT,{children:[s.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[s.jsx(JA,{className:"-ml-1"}),s.jsx(Tw,{orientation:"vertical",className:"mr-2 h-4"}),s.jsx(LT,{children:s.jsx(MT,{children:s.jsx(OT,{children:s.jsx(DT,{href:"/learn",children:"Search Topics"})})})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("main",{className:"p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"What would you like to learn today?"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter any topic and get a comprehensive, AI-powered learning experience"})]}),s.jsx(Vy,{className:"mb-8",children:s.jsx($y,{className:"p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(XC,{placeholder:"Describe what you want to learn about... (e.g., Machine Learning, Quantum Physics, Web Development)",value:e,onChange:e=>t(e.target.value),className:"min-h-[100px] text-base resize-none pr-24",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),a())}}),s.jsx(cw,{onClick:a,disabled:!e.trim(),className:"absolute bottom-3 right-3",size:"sm",children:"Start Learning →"})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{children:"Continue Learning"}),s.jsx(Gy,{children:"Pick up where you left off"})]}),s.jsx($y,{children:r&&r.recentActivity&&r.recentActivity.length?s.jsx("div",{className:"space-y-4",children:r.recentActivity.slice(0,5).map(e=>{const t=e.completed?100:e.timeSpent>0?Math.min(e.timeSpent/30,80):0;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-foreground",children:e.topic.title}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 mr-3",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${t}%`}})}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(t),"%"]})]})]}),s.jsx(cw,{variant:"ghost",size:"sm",asChild:!0,children:s.jsx(Xi,{to:`/learn/${e.topic.slug}`,children:"Continue"})})]},e.topic.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No recent learning activity yet."}),s.jsx("p",{className:"text-sm",children:"Start learning a topic to see your progress here!"})]})})]}),s.jsxs(Vy,{children:[s.jsxs(Uy,{children:[s.jsx(qy,{children:"Popular Topics"}),s.jsx(Gy,{children:"Get started with these trending subjects"})]}),s.jsx($y,{children:s.jsx("div",{className:"grid grid-cols-1 gap-2",children:_T.map(e=>s.jsx(cw,{variant:"ghost",className:"justify-start h-auto p-3 text-left",onClick:()=>(e=>{t(e)})(e),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mr-3"}),e]})},e))})})]})]}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Vy,{children:s.jsxs($y,{className:"p-6 text-center",children:[s.jsx("div",{className:"mx-auto h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:s.jsx("svg",{className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"AI Research"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive topic research with specialized AI agents"})]})}),s.jsx(Vy,{children:s.jsxs($y,{className:"p-6 text-center",children:[s.jsx("div",{className:"mx-auto h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:s.jsx("svg",{className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Multi-Modal Learning"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Learn through guided content, mind maps, quizzes, and conversations"})]})}),s.jsx(Vy,{children:s.jsxs($y,{className:"p-6 text-center",children:[s.jsx("div",{className:"mx-auto h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:s.jsx("svg",{className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Progress Tracking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your learning journey with detailed analytics"})]})})]})]})})})]})]})}),TopicPageRoute:by(function(){const{data:e}=Vu(),{slug:t}=Ot();return s.jsx(dL,{onRetry:()=>window.location.reload(),onReset:()=>window.location.href="/learn",showDetails:!1,children:s.jsx(uE,{children:s.jsx(mL,{},t)},t)})})},xL=[{path:"/oauth/callback",Component:function(){const{error:e,user:t}=function(){const{data:e,isLoading:t}=Vu(),[s,i]=Ct.useState(!0),[r,a]=Ct.useState(null),n=Rt();async function o(){try{i(!0);const e=new URLSearchParams(n.search).get("error");if(null!==e)return void a(e);const t=n.hash.slice(1),s=await async function(e){return tc.post("/auth/exchange-code",e)}({code:t});if(!function(e){return e.data&&"string"==typeof e.data.sessionId}(s))return void a("Unable to login with the OAuth provider.");await mc(s.data.sessionId)}catch(yC){a("Unable to login with the OAuth provider.")}finally{i(!1)}}const l=Ct.useRef(!0);return Ct.useEffect(()=>{l.current&&(l.current=!1,o())},[]),{user:e,error:r,isCallbackLoading:s,isUserLoading:t}}();return null!=t?s.jsx(Lt,{to:"/",replace:!0}):e?s.jsx(xy,{className:fL,children:s.jsx(py,{children:e})}):s.jsx(xy,{className:fL,children:s.jsx(my,{children:"Please wait a moment while we log you in."})})}}],bL=Object.entries(Yi).map(([e,t])=>({path:t.to,Component:gL[e]})),vL=zt([{path:"/",element:s.jsx(ay,{}),ErrorBoundary:function(){return _t(),s.jsx(xy,{children:s.jsx("div",{children:"There was an error rendering this page. Check the browser console for more information."})})},children:[...xL,...bL]}]),yL=s.jsx(Ft,{router:vL});!async function(){(function(){const e=new Ni(nc);oc(e)})(),await async function(){const e=await lc;_s.createRoot(document.getElementById("root")).render(s.jsx(Tt.StrictMode,{children:s.jsx(_i,{client:e,children:yL})}))}()}();export{Sy as a,Cy as b,ky as f};
