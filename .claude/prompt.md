the flow of the app is when user input their promptt at landing page and submit it, they wil be redirected into /learn/topic-slug then on the backend it will start the researchAndGenerate on iterativeResearch.ts . it will first generate the main topic, and then generate the subtopics from the main topics. everything works great. and on the frontend, it keeps sending request of get-research-starts to keep track of the status. this also greats. but i want more. i want the user to see realtime progress, step by step. what i mean is, when running researchandGenerate for the main topic, there is 6 steps, like understanding, plan research, etc etc. i want in the frontend to show the process of this step, for example, when step 0 is running, show that it is running to understand the topic, and when step 0 is finished, show the step 0 result and the time it tooks, and then show the step 1 is running. and when the step 1 is finished, do the same, hide the previous step 0 result to show the step 1 result, and so on until the main topic research and generate is finished, then we want to show the generated content immedietly without waitinmg for the researchAndGenerate of subtopics. and i want to take advantage of this get-research-stats check interval to pass research progress information into the frontend. so we dont need to use SSE or websocket. we just need to use redis. so for every progress update on generateContentHandler function on generateContent.ts and generateResearch function on iterativeResearch.ts, store it into redis with the topic id as key, so the interval of get-research-stats would fetch the status from it. but now we have to think when the research is finished correct. currently the function generateContentHandler and researchAndGenerate would only finish when all the subtopics is done. which is not what we want. we want it is done when the main topic is done, but still continue to researchandgenerate for all the subtopics on the background. i guess to solve this, we want the get-research-stats intervall to still keeps running even when the generateContent api call is done, to keep track of the subtopics progress that is being called in the background by the generateContent api. on top of that we have small problems too. if you look at the generateContent.ts and function generateContentHandler we see that when the result is done we stored it into the database, but at the start of the function it diddnt actually fetch from database if there is already result stored. i guess the fetch from database is being handled by the researchAndGenerate function. so please add content reterieve from database if exists at high level on generateContentHandler function. so with all that we cant really one shot this, because there is different problems to solve. so please make a folder inside the .claude folder to contain md files of tasks we want to do to complete all of this solution. no need to write test. only run tsc after every task. and for the last task, i want it to be a check and confirmation that all task is done and everything is connecteed, and no mocks, no simulation. check if everything is complete. for each task make an md file that contains the comperhensive prompt to finished that task